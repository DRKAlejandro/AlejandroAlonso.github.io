var OS=Object.defineProperty,xS=Object.defineProperties;var kS=Object.getOwnPropertyDescriptors;var Gv=Object.getOwnPropertySymbols;var LS=Object.prototype.hasOwnProperty,FS=Object.prototype.propertyIsEnumerable;var Kv=(n,e,t)=>e in n?OS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,F=(n,e)=>{for(var t in e||={})LS.call(e,t)&&Kv(n,t,e[t]);if(Gv)for(var t of Gv(e))FS.call(e,t)&&Kv(n,t,e[t]);return n},Se=(n,e)=>xS(n,kS(e));var I=(n,e,t)=>new Promise((r,i)=>{var s=u=>{try{c(t.next(u))}catch(l){i(l)}},o=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);c((t=t.apply(n,e)).next())});var Qv=null;var md=1,Yv=Symbol("SIGNAL");function he(n){let e=Qv;return Qv=n,e}var Jv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function VS(n){if(!(_d(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===md)){if(!n.producerMustRecompute(n)&&!yd(n)){n.dirty=!1,n.lastCleanEpoch=md;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=md}}function Zv(n){return n&&(n.nextProducerIndex=0),he(n)}function Xv(n,e){if(he(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(_d(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)vd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function yd(n){Ka(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(VS(t),r!==t.version))return!0}return!1}function e_(n){if(Ka(n),_d(n))for(let e=0;e<n.producerNode.length;e++)vd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function vd(n,e){if(US(n),Ka(n),n.liveConsumerNode.length===1)for(let r=0;r<n.producerNode.length;r++)vd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ka(i),i.producerIndexOfThis[r]=e}}function _d(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ka(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function US(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function jS(){throw new Error}var BS=jS;function t_(n){BS=n}function K(n){return typeof n=="function"}function ei(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Qa=ei(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function yr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ne=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(s){e=s instanceof Qa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{n_(s)}catch(o){e=e??[],o instanceof Qa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qa(e)}}add(e){var t;if(e&&e!==this)if(this.closed)n_(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&yr(t,e)}remove(e){let{_finalizers:t}=this;t&&yr(t,e),e instanceof n&&e._removeParent(this)}};Ne.EMPTY=(()=>{let n=new Ne;return n.closed=!0,n})();var Id=Ne.EMPTY;function Ya(n){return n instanceof Ne||n&&"closed"in n&&K(n.remove)&&K(n.add)&&K(n.unsubscribe)}function n_(n){K(n)?n():n.unsubscribe()}var Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ti={setTimeout(n,e,...t){let{delegate:r}=ti;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ti;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ja(n){ti.setTimeout(()=>{let{onUnhandledError:e}=Rt;if(e)e(n);else throw n})}function $s(){}var r_=wd("C",void 0,void 0);function i_(n){return wd("E",void 0,n)}function s_(n){return wd("N",n,void 0)}function wd(n,e,t){return{kind:n,value:e,error:t}}var vr=null;function ni(n){if(Rt.useDeprecatedSynchronousErrorHandling){let e=!vr;if(e&&(vr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=vr;if(vr=null,t)throw r}}else n()}function o_(n){Rt.useDeprecatedSynchronousErrorHandling&&vr&&(vr.errorThrown=!0,vr.error=n)}var _r=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ya(e)&&e.add(this)):this.destination=qS}static create(e,t,r){return new ri(e,t,r)}next(e){this.isStopped?Td(s_(e),this):this._next(e)}error(e){this.isStopped?Td(i_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Td(r_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$S=Function.prototype.bind;function Ed(n,e){return $S.call(n,e)}var bd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Za(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Za(r)}else Za(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Za(t)}}},ri=class extends _r{constructor(e,t,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Rt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ed(e.next,s),error:e.error&&Ed(e.error,s),complete:e.complete&&Ed(e.complete,s)}):i=e}this.destination=new bd(i)}};function Za(n){Rt.useDeprecatedSynchronousErrorHandling?o_(n):Ja(n)}function HS(n){throw n}function Td(n,e){let{onStoppedNotification:t}=Rt;t&&ti.setTimeout(()=>t(n,e))}var qS={closed:!0,next:$s,error:HS,complete:$s};var ii=typeof Symbol=="function"&&Symbol.observable||"@@observable";function nt(n){return n}function Dd(...n){return Cd(n)}function Cd(n){return n.length===0?nt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var se=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=WS(t)?t:new ri(t,r,i);return ni(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=a_(r),new r((i,s)=>{let o=new ri({next:c=>{try{t(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ii](){return this}pipe(...t){return Cd(t)(this)}toPromise(t){return t=a_(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function a_(n){var e;return(e=n??Rt.Promise)!==null&&e!==void 0?e:Promise}function zS(n){return n&&K(n.next)&&K(n.error)&&K(n.complete)}function WS(n){return n&&n instanceof _r||zS(n)&&Ya(n)}function Sd(n){return K(n?.lift)}function X(n){return e=>{if(Sd(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ee(n,e,t,r,i){return new Hs(n,e,t,r,i)}var Hs=class extends _r{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function si(){return X((n,e)=>{let t=null;n._refCount++;let r=ee(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var oi=class extends se{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Sd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let t=this.getSubject();e.add(this.source.subscribe(ee(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return si()(this)}};var c_=ei(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class n extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Xa(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new c_}next(t){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Id:(this.currentObservers=null,s.push(t),new Ne(()=>{this.currentObservers=null,yr(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new se;return t.source=this,t}}return n.create=(e,t)=>new Xa(e,t),n})(),Xa=class extends Ue{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Id}};var ze=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ad={now(){return(Ad.delegate||Date).now()},delegate:void 0};var ec=class extends Ne{constructor(e,t){super()}schedule(e,t=0){return this}};var qs={setInterval(n,e,...t){let{delegate:r}=qs;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=qs;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ai=class extends ec{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return qs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&qs.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,yr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ci=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ci.now=Ad.now;var ui=class extends ci{constructor(e,t=ci.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Rd=new ui(ai);var tc=class extends ai{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var nc=class extends ui{};var Nd=new nc(tc);var ct=new se(n=>n.complete());function u_(n){return n&&K(n.schedule)}function l_(n){return n[n.length-1]}function d_(n){return K(l_(n))?n.pop():void 0}function kn(n){return u_(l_(n))?n.pop():void 0}function li(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function f_(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function h_(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ir(n){return this instanceof Ir?(this.v=n,this):new Ir(n)}function p_(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(T){return function(A){return Promise.resolve(A).then(T,p)}}function c(T,A){r[T]&&(i[T]=function(R){return new Promise(function(N,k){s.push([T,R,N,k])>1||u(T,R)})},A&&(i[T]=A(i[T])))}function u(T,A){try{l(r[T](A))}catch(R){y(s[0][3],R)}}function l(T){T.value instanceof Ir?Promise.resolve(T.value.v).then(f,p):y(s[0][2],T)}function f(T){u("next",T)}function p(T){u("throw",T)}function y(T,A){T(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function g_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof h_=="function"?h_(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,u){o=n[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var rc=n=>n&&typeof n.length=="number"&&typeof n!="function";function ic(n){return K(n?.then)}function sc(n){return K(n[ii])}function oc(n){return Symbol.asyncIterator&&K(n?.[Symbol.asyncIterator])}function ac(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var cc=GS();function uc(n){return K(n?.[cc])}function lc(n){return p_(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ir(t.read());if(i)return yield Ir(void 0);yield yield Ir(r)}}finally{t.releaseLock()}})}function dc(n){return K(n?.getReader)}function Me(n){if(n instanceof se)return n;if(n!=null){if(sc(n))return KS(n);if(rc(n))return QS(n);if(ic(n))return YS(n);if(oc(n))return m_(n);if(uc(n))return JS(n);if(dc(n))return ZS(n)}throw ac(n)}function KS(n){return new se(e=>{let t=n[ii]();if(K(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function QS(n){return new se(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function YS(n){return new se(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ja)})}function JS(n){return new se(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function m_(n){return new se(e=>{XS(n,e).catch(t=>e.error(t))})}function ZS(n){return m_(lc(n))}function XS(n,e){var t,r,i,s;return f_(this,void 0,void 0,function*(){try{for(t=g_(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function it(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ln(n,e=0){return X((t,r)=>{t.subscribe(ee(r,i=>it(r,n,()=>r.next(i),e),()=>it(r,n,()=>r.complete(),e),i=>it(r,n,()=>r.error(i),e)))})}function Fn(n,e=0){return X((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function y_(n,e){return Me(n).pipe(Fn(e),Ln(e))}function v_(n,e){return Me(n).pipe(Fn(e),Ln(e))}function __(n,e){return new se(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function I_(n,e){return new se(t=>{let r;return it(t,e,()=>{r=n[cc](),it(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function hc(n,e){if(!n)throw new Error("Iterable cannot be null");return new se(t=>{it(t,e,()=>{let r=n[Symbol.asyncIterator]();it(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function w_(n,e){return hc(lc(n),e)}function E_(n,e){if(n!=null){if(sc(n))return y_(n,e);if(rc(n))return __(n,e);if(ic(n))return v_(n,e);if(oc(n))return hc(n,e);if(uc(n))return I_(n,e);if(dc(n))return w_(n,e)}throw ac(n)}function De(n,e){return e?E_(n,e):Me(n)}function B(...n){let e=kn(n);return De(n,e)}function di(n,e){let t=K(n)?n:()=>n,r=i=>i.error(t());return new se(e?i=>e.schedule(r,0,i):r)}function Pd(n){return!!n&&(n instanceof se||K(n.lift)&&K(n.subscribe))}var fn=ei(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ae(n,e){return X((t,r)=>{let i=0;t.subscribe(ee(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:eA}=Array;function tA(n,e){return eA(e)?n(...e):n(e)}function T_(n){return ae(e=>tA(n,e))}var{isArray:nA}=Array,{getPrototypeOf:rA,prototype:iA,keys:sA}=Object;function b_(n){if(n.length===1){let e=n[0];if(nA(e))return{args:e,keys:null};if(oA(e)){let t=sA(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function oA(n){return n&&typeof n=="object"&&rA(n)===iA}function D_(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zs(...n){let e=kn(n),t=d_(n),{args:r,keys:i}=b_(n);if(r.length===0)return De([],e);let s=new se(aA(r,e,i?o=>D_(i,o):nt));return t?s.pipe(T_(t)):s}function aA(n,e,t=nt){return r=>{C_(e,()=>{let{length:i}=n,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)C_(e,()=>{let l=De(n[u],e),f=!1;l.subscribe(ee(r,p=>{s[u]=p,f||(f=!0,c--),c||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function C_(n,e,t){n?it(t,n,e):e()}function S_(n,e,t,r,i,s,o,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},T=R=>l<r?A(R):u.push(R),A=R=>{s&&e.next(R),l++;let N=!1;Me(t(R,f++)).subscribe(ee(e,k=>{i?.(k),s?T(k):e.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let k=u.shift();o?it(e,o,()=>A(k)):A(k)}y()}catch(k){e.error(k)}}))};return n.subscribe(ee(e,T,()=>{p=!0,y()})),()=>{c?.()}}function Oe(n,e,t=1/0){return K(e)?Oe((r,i)=>ae((s,o)=>e(r,s,i,o))(Me(n(r,i))),t):(typeof e=="number"&&(t=e),X((r,i)=>S_(r,i,n,t)))}function Vn(n=1/0){return Oe(nt,n)}function A_(){return Vn(1)}function hi(...n){return A_()(De(n,kn(n)))}function fc(n){return new se(e=>{Me(n()).subscribe(e)})}function gt(n,e){return X((t,r)=>{let i=0;t.subscribe(ee(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Un(n){return X((e,t)=>{let r=null,i=!1,s;r=e.subscribe(ee(t,void 0,void 0,o=>{s=Me(n(o,Un(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function R_(n,e,t,r,i){return(s,o)=>{let c=t,u=e,l=0;s.subscribe(ee(o,f=>{let p=l++;u=c?n(u,f,p):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function wr(n,e){return K(e)?Oe(n,e,1):Oe(n,1)}function jn(n){return X((e,t)=>{let r=!1;e.subscribe(ee(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function pn(n){return n<=0?()=>ct:X((e,t)=>{let r=0;e.subscribe(ee(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Md(n){return ae(()=>n)}function cA(n,e=nt){return n=n??uA,X((t,r)=>{let i,s=!0;t.subscribe(ee(r,o=>{let c=e(o);(s||!n(i,c))&&(s=!1,i=c,r.next(o))}))})}function uA(n,e){return n===e}function pc(n=lA){return X((e,t)=>{let r=!1;e.subscribe(ee(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function lA(){return new fn}function Ws(n){return X((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function jt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?gt((i,s)=>n(i,s,r)):nt,pn(1),t?jn(e):pc(()=>new fn))}function dA(n,e,t,r){return X((i,s)=>{let o;!e||typeof e=="function"?o=e:{duration:t,element:o,connector:r}=e;let c=new Map,u=A=>{c.forEach(A),A(s)},l=A=>u(R=>R.error(A)),f=0,p=!1,y=new Hs(s,A=>{try{let R=n(A),N=c.get(R);if(!N){c.set(R,N=r?r():new Ue);let k=T(R,N);if(s.next(k),t){let q=ee(N,()=>{N.complete(),q?.unsubscribe()},void 0,void 0,()=>c.delete(R));y.add(Me(t(k)).subscribe(q))}}N.next(o?o(A):A)}catch(R){l(R)}},()=>u(A=>A.complete()),l,()=>c.clear(),()=>(p=!0,f===0));i.subscribe(y);function T(A,R){let N=new se(k=>{f++;let q=R.subscribe(k);return()=>{q.unsubscribe(),--f===0&&p&&y.unsubscribe()}});return N.key=A,N}})}function fi(n){return n<=0?()=>ct:X((e,t)=>{let r=[];e.subscribe(ee(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Od(n,e){let t=arguments.length>=2;return r=>r.pipe(n?gt((i,s)=>n(i,s,r)):nt,fi(1),t?jn(e):pc(()=>new fn))}function hA(){return X((n,e)=>{let t,r=!1;n.subscribe(ee(e,i=>{let s=t;t=i,r&&e.next([s,i]),r=!0}))})}function xd(n,e){return X(R_(n,e,arguments.length>=2,!0))}function kd(...n){let e=kn(n);return X((t,r)=>{(e?hi(n,t,e):hi(n,t)).subscribe(r)})}function mt(n,e){return X((t,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();t.subscribe(ee(r,u=>{i?.unsubscribe();let l=0,f=s++;Me(n(u,f)).subscribe(i=ee(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function Ld(n){return X((e,t)=>{Me(n).subscribe(ee(t,()=>t.complete(),$s)),!t.closed&&e.subscribe(t)})}function Fe(n,e,t){let r=K(n)||e||t?{next:n,error:e,complete:t}:n;return r?X((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(ee(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):nt}var pI="https://g.co/ng/security#xss",H=class extends Error{constructor(e,t){super($h(e,t)),this.code=e}};function $h(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function so(n){return{toString:n}.toString()}var gc="__parameters__";function fA(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function gI(n,e,t){return so(()=>{let r=fA(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let p=u.hasOwnProperty(gc)?u[gc]:Object.defineProperty(u,gc,{value:[]})[gc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Er=globalThis;function Ie(n){for(let e in n)if(n[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function rt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(rt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function N_(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var pA=Ie({__forward_ref__:Ie});function mI(n){return n.__forward_ref__=mI,n.toString=function(){return rt(this())},n}function vt(n){return yI(n)?n():n}function yI(n){return typeof n=="function"&&n.hasOwnProperty(pA)&&n.__forward_ref__===mI}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function oo(n){return{providers:n.providers||[],imports:n.imports||[]}}function Hc(n){return P_(n,_I)||P_(n,II)}function vI(n){return Hc(n)!==null}function P_(n,e){return n.hasOwnProperty(e)?n[e]:null}function gA(n){let e=n&&(n[_I]||n[II]);return e||null}function M_(n){return n&&(n.hasOwnProperty(O_)||n.hasOwnProperty(mA))?n[O_]:null}var _I=Ie({\u0275prov:Ie}),O_=Ie({\u0275inj:Ie}),II=Ie({ngInjectableDef:Ie}),mA=Ie({ngInjectorDef:Ie}),Q=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function wI(n){return n&&!!n.\u0275providers}var yA=Ie({\u0275cmp:Ie}),vA=Ie({\u0275dir:Ie}),_A=Ie({\u0275pipe:Ie}),IA=Ie({\u0275mod:Ie}),bc=Ie({\u0275fac:Ie}),Gs=Ie({__NG_ELEMENT_ID__:Ie}),x_=Ie({__NG_ENV_ID__:Ie});function Ii(n){return typeof n=="string"?n:n==null?"":String(n)}function wA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ii(n)}function EA(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new H(-200,n)}function Hh(n,e){throw new H(-201,!1)}var re=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(re||{}),Yd;function EI(){return Yd}function yt(n){let e=Yd;return Yd=n,e}function TI(n,e,t){let r=Hc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&re.Optional)return null;if(e!==void 0)return e;Hh(n,"Injector")}var TA={},Ks=TA,Jd="__NG_DI_FLAG__",Dc="ngTempTokenPath",bA="ngTokenPath",DA=/\n/gm,CA="\u0275",k_="__source",vi;function SA(){return vi}function Bn(n){let e=vi;return vi=n,e}function AA(n,e=re.Default){if(vi===void 0)throw new H(-203,!1);return vi===null?TI(n,void 0,e):vi.get(n,e&re.Optional?null:void 0,e)}function G(n,e=re.Default){return(EI()||AA)(vt(n),e)}function x(n,e=re.Default){return G(n,qc(e))}function qc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Zd(n){let e=[];for(let t=0;t<n.length;t++){let r=vt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,s=re.Default;for(let o=0;o<r.length;o++){let c=r[o],u=RA(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(G(i,s))}else e.push(G(r))}return e}function bI(n,e){return n[Jd]=e,n.prototype[Jd]=e,n}function RA(n){return n[Jd]}function NA(n,e,t,r){let i=n[Dc];throw e[k_]&&i.unshift(e[k_]),n.message=PA(`
`+n.message,i,t,r),n[bA]=i,n[Dc]=null,n}function PA(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==CA?n.slice(2):n;let i=rt(e);if(Array.isArray(e))i=e.map(rt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):rt(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(DA,`
  `)}`}var It=bI(gI("Optional"),8);var qh=bI(gI("SkipSelf"),4);function wi(n,e){let t=n.hasOwnProperty(bc);return t?n[bc]:null}function MA(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function OA(n){return n.flat(Number.POSITIVE_INFINITY)}function zh(n,e){n.forEach(t=>Array.isArray(t)?zh(t,e):e(t))}function DI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Cc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xA(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function kA(n,e,t){let r=ao(n,e);return r>=0?n[r|1]=t:(r=~r,xA(n,r,e,t)),r}function Fd(n,e){let t=ao(n,e);if(t>=0)return n[t|1]}function ao(n,e){return LA(n,e,1)}function LA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var Qs={},Pt=[],Ei=new Q(""),CI=new Q("",-1),SI=new Q(""),Sc=class{get(e,t=Ks){if(t===Ks){let r=new Error(`NullInjectorError: No provider for ${rt(e)}!`);throw r.name="NullInjectorError",r}return t}},AI=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(AI||{}),Ht=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ht||{}),_t=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(_t||{});function FA(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Xd(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],c=t[r++];n.setAttribute(e,o,c,s)}else{let s=i,o=t[++r];VA(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function RI(n){return n===3||n===4||n===6}function VA(n){return n.charCodeAt(0)===64}function Wh(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?L_(n,t,i,null,e[++r]):L_(n,t,i,null,null))}}return n}function L_(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let c=n[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<n.length;){let c=n[s];if(typeof c=="number")break;if(c===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var NI="ng-template";function UA(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&FA(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Gh(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Gh(n){return n.type===4&&n.value!==NI}function jA(n,e,t){let r=n.type===4&&!t?NI:n.value;return e===r}function BA(n,e,t){let r=4,i=n.attrs,s=i!==null?qA(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!Nt(r)&&!Nt(u))return!1;if(o&&Nt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!jA(n,u,t)||u===""&&e.length===1){if(Nt(r))return!1;o=!0}}else if(r&8){if(i===null||!UA(n,i,u,t)){if(Nt(r))return!1;o=!0}}else{let l=e[++c],f=$A(u,i,Gh(n),t);if(f===-1){if(Nt(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Nt(r))return!1;o=!0}}}}return Nt(r)||o}function Nt(n){return(n&1)===0}function $A(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return zA(e,n)}function HA(n,e,t=!1){for(let r=0;r<e.length;r++)if(BA(n,e[r],t))return!0;return!1}function qA(n){for(let e=0;e<n.length;e++){let t=n[e];if(RI(t))return e}return n.length}function zA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function F_(n,e){return n?":not("+e.trim()+")":e}function WA(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let c=n[++t];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Nt(o)&&(e+=F_(s,i),i=""),r=o,s=s||!Nt(r);t++}return i!==""&&(e+=F_(s,i)),e}function GA(n){return n.map(WA).join(",")}function KA(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Nt(i))break;i=s}r++}return{attrs:e,classes:t}}function PI(n){return so(()=>{let e=LI(n),t=Se(F({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===AI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ht.Emulated,styles:n.styles||Pt,_:null,schemas:n.schemas||null,tView:null,id:""});FI(t);let r=n.dependencies;return t.directiveDefs=U_(r,!1),t.pipeDefs=U_(r,!0),t.id=JA(t),t})}function QA(n){return Hn(n)||MI(n)}function YA(n){return n!==null}function co(n){return so(()=>({type:n.type,bootstrap:n.bootstrap||Pt,declarations:n.declarations||Pt,imports:n.imports||Pt,exports:n.exports||Pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function V_(n,e){if(n==null)return Qs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,c=_t.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=c!==_t.None?[r,c]:r,e[s]=o):t[s]=r}return t}function Gn(n){return so(()=>{let e=LI(n);return FI(e),e})}function Hn(n){return n[yA]||null}function MI(n){return n[vA]||null}function OI(n){return n[_A]||null}function xI(n){let e=Hn(n)||MI(n)||OI(n);return e!==null?e.standalone:!1}function kI(n,e){let t=n[IA]||null;if(!t&&e===!0)throw new Error(`Type ${rt(n)} does not have '\u0275mod' property.`);return t}function LI(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Qs,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Pt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:V_(n.inputs,e),outputs:V_(n.outputs),debugInfo:null}}function FI(n){n.features?.forEach(e=>e(n))}function U_(n,e){if(!n)return null;let t=e?OI:QA;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(YA)}function JA(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Kn(n){return{\u0275providers:n}}function ZA(...n){return{\u0275providers:VI(!0,n),\u0275fromNgModule:!0}}function VI(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return zh(e,o=>{let c=o;eh(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&UI(i,s),t}function UI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Kh(i,s=>{e(s,r)})}}function eh(n,e,t,r){if(n=vt(n),!n)return!1;let i=null,s=M_(n),o=!s&&Hn(n);if(!s&&!o){let u=n.ngModule;if(s=M_(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)eh(l,e,t,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{zh(s.imports,f=>{eh(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&UI(l,e)}if(!c){let l=wi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Pt},i),e({provide:SI,useValue:i,multi:!0},i),e({provide:Ei,useValue:()=>G(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=n;Kh(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Kh(n,e){for(let t of n)wI(t)&&(t=t.\u0275providers),Array.isArray(t)?Kh(t,e):e(t)}var XA=Ie({provide:String,useValue:Ie});function jI(n){return n!==null&&typeof n=="object"&&XA in n}function e0(n){return!!(n&&n.useExisting)}function t0(n){return!!(n&&n.useFactory)}function th(n){return typeof n=="function"}var zc=new Q(""),vc={},n0={},Vd;function Qh(){return Vd===void 0&&(Vd=new Sc),Vd}var st=class{},Ys=class extends st{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rh(e,o=>this.processProvider(o)),this.records.set(CI,pi(void 0,this)),i.has("environment")&&this.records.set(st,pi(void 0,this));let s=this.records.get(zc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(SI,Pt,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=he(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Bn(this),r=yt(void 0),i;try{return e()}finally{Bn(t),yt(r)}}get(e,t=Ks,r=re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(x_))return e[x_](this);r=qc(r);let i,s=Bn(this),o=yt(void 0);try{if(!(r&re.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=c0(e)&&Hc(e);l&&this.injectableDefInScope(l)?u=pi(nh(e),vc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&re.Self?Qh():this.parent;return t=r&re.Optional&&t===Ks?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[Dc]=c[Dc]||[]).unshift(rt(e)),s)throw c;return NA(c,e,"R3InjectorError",this.source)}else throw c}finally{yt(o),Bn(s)}}resolveInjectorInitializers(){let e=he(null),t=Bn(this),r=yt(void 0),i;try{let s=this.get(Ei,Pt,re.Self);for(let o of s)o()}finally{Bn(t),yt(r),he(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=vt(e);let t=th(e)?e:vt(e&&e.provide),r=i0(e);if(!th(e)&&e.multi===!0){let i=this.records.get(t);i||(i=pi(void 0,vc,!0),i.factory=()=>Zd(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=he(null);try{return t.value===vc&&(t.value=n0,t.value=t.factory()),typeof t.value=="object"&&t.value&&a0(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=vt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function nh(n){let e=Hc(n),t=e!==null?e.factory:wi(n);if(t!==null)return t;if(n instanceof Q)throw new H(204,!1);if(n instanceof Function)return r0(n);throw new H(204,!1)}function r0(n){if(n.length>0)throw new H(204,!1);let t=gA(n);return t!==null?()=>t.factory(n):()=>new n}function i0(n){if(jI(n))return pi(void 0,n.useValue);{let e=s0(n);return pi(e,vc)}}function s0(n,e,t){let r;if(th(n)){let i=vt(n);return wi(i)||nh(i)}else if(jI(n))r=()=>vt(n.useValue);else if(t0(n))r=()=>n.useFactory(...Zd(n.deps||[]));else if(e0(n))r=()=>G(vt(n.useExisting));else{let i=vt(n&&(n.useClass||n.provide));if(o0(n))r=()=>new i(...Zd(n.deps));else return wi(i)||nh(i)}return r}function pi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function o0(n){return!!n.deps}function a0(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function c0(n){return typeof n=="function"||typeof n=="object"&&n instanceof Q}function rh(n,e){for(let t of n)Array.isArray(t)?rh(t,e):t&&wI(t)?rh(t.\u0275providers,e):e(t)}function yn(n,e){n instanceof Ys&&n.assertNotDestroyed();let t,r=Bn(n),i=yt(void 0);try{return e()}finally{Bn(r),yt(i)}}function BI(){return EI()!==void 0||SA()!=null}function u0(n){if(!BI())throw new H(-203,!1)}function l0(n){return typeof n=="function"}var vn=0,ie=1,z=2,We=3,Mt=4,kt=5,Ac=6,Js=7,Ot=8,Ti=9,xt=10,je=11,Zs=12,j_=13,Ai=14,qt=15,uo=16,gi=17,gn=18,Wc=19,$I=20,$n=21,Ud=22,Dr=23,qn=25,HI=1;var Cr=7,Rc=8,bi=9,lt=10,Yh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Yh||{});function Tr(n){return Array.isArray(n)&&typeof n[HI]=="object"}function _n(n){return Array.isArray(n)&&n[HI]===!0}function qI(n){return(n.flags&4)!==0}function Gc(n){return n.componentOffset>-1}function Jh(n){return(n.flags&1)===1}function lo(n){return!!n.template}function d0(n){return(n[z]&512)!==0}var ih=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function zI(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Ri(){return WI}function WI(n){return n.type.prototype.ngOnChanges&&(n.setInput=f0),h0}Ri.ngInherit=!0;function h0(){let n=KI(this),e=n?.current;if(e){let t=n.previous;if(t===Qs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function f0(n,e,t,r,i){let s=this.declaredInputs[r],o=KI(n)||p0(n,{previous:Qs,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new ih(l&&l.currentValue,t,u===Qs),zI(n,e,i,t)}var GI="__ngSimpleChanges__";function KI(n){return n[GI]||null}function p0(n,e){return n[GI]=e}var B_=null;var Bt=function(n,e,t){B_?.(n,e,t)},g0="svg",m0="math",y0=!1;function v0(){return y0}function zt(n){for(;Array.isArray(n);)n=n[vn];return n}function QI(n,e){return zt(e[n])}function wt(n,e){return zt(e[n.index])}function YI(n,e){return n.data[e]}function Qn(n,e){let t=e[n];return Tr(t)?t:t[vn]}function _0(n){return(n[z]&4)===4}function Zh(n){return(n[z]&128)===128}function I0(n){return _n(n[We])}function Nc(n,e){return e==null?null:n[e]}function JI(n){n[gi]=0}function w0(n){n[z]&1024||(n[z]|=1024,Zh(n)&&Xs(n))}function E0(n,e){for(;n>0;)e=e[Ai],n--;return e}function Xh(n){return!!(n[z]&9216||n[Dr]?.dirty)}function sh(n){n[xt].changeDetectionScheduler?.notify(1),Xh(n)?Xs(n):n[z]&64&&(v0()?(n[z]|=1024,Xs(n)):n[xt].changeDetectionScheduler?.notify())}function Xs(n){n[xt].changeDetectionScheduler?.notify();let e=eo(n);for(;e!==null&&!(e[z]&8192||(e[z]|=8192,!Zh(e)));)e=eo(e)}function ZI(n,e){if((n[z]&256)===256)throw new H(911,!1);n[$n]===null&&(n[$n]=[]),n[$n].push(e)}function T0(n,e){if(n[$n]===null)return;let t=n[$n].indexOf(e);t!==-1&&n[$n].splice(t,1)}function eo(n){let e=n[We];return _n(e)?e[We]:e}var te={lFrame:ow(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function b0(){return te.lFrame.elementDepthCount}function D0(){te.lFrame.elementDepthCount++}function C0(){te.lFrame.elementDepthCount--}function XI(){return te.bindingsEnabled}function S0(){return te.skipHydrationRootTNode!==null}function A0(n){return te.skipHydrationRootTNode===n}function R0(){te.skipHydrationRootTNode=null}function ve(){return te.lFrame.lView}function Et(){return te.lFrame.tView}function Kz(n){return te.lFrame.contextLView=n,n[Ot]}function Qz(n){return te.lFrame.contextLView=null,n}function dt(){let n=ew();for(;n!==null&&n.type===64;)n=n.parent;return n}function ew(){return te.lFrame.currentTNode}function N0(){let n=te.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ho(n,e){let t=te.lFrame;t.currentTNode=n,t.isParent=e}function tw(){return te.lFrame.isParent}function P0(){te.lFrame.isParent=!1}function M0(){let n=te.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function O0(){return te.lFrame.bindingIndex}function x0(n){return te.lFrame.bindingIndex=n}function ef(){return te.lFrame.bindingIndex++}function nw(n){let e=te.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function k0(){return te.lFrame.inI18n}function L0(n,e){let t=te.lFrame;t.bindingIndex=t.bindingRootIndex=n,oh(e)}function F0(){return te.lFrame.currentDirectiveIndex}function oh(n){te.lFrame.currentDirectiveIndex=n}function V0(n){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function rw(){return te.lFrame.currentQueryIndex}function tf(n){te.lFrame.currentQueryIndex=n}function U0(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[kt]:null}function iw(n,e,t){if(t&re.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&re.Host);)if(i=U0(s),i===null||(s=s[Ai],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=te.lFrame=sw();return r.currentTNode=e,r.lView=n,!0}function nf(n){let e=sw(),t=n[ie];te.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sw(){let n=te.lFrame,e=n===null?null:n.child;return e===null?ow(n):e}function ow(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function aw(){let n=te.lFrame;return te.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var cw=aw;function rf(){let n=aw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function j0(n){return(te.lFrame.contextLView=E0(n,te.lFrame.contextLView))[Ot]}function Or(){return te.lFrame.selectedIndex}function Sr(n){te.lFrame.selectedIndex=n}function sf(){let n=te.lFrame;return YI(n.tView,n.selectedIndex)}function B0(){return te.lFrame.currentNamespace}var uw=!0;function of(){return uw}function af(n){uw=n}function $0(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=WI(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function cf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(n.contentHooks??=[]).push(-t,o),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function _c(n,e,t){lw(n,e,3,t)}function Ic(n,e,t,r){(n[z]&3)===t&&lw(n,e,t,r)}function jd(n,e){let t=n[z];(t&3)===e&&(t&=16383,t+=1,n[z]=t)}function lw(n,e,t,r){let i=r!==void 0?n[gi]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[gi]+=65536),(c<s||s==-1)&&(H0(n,t,e,u),n[gi]=(n[gi]&4294901760)+u+2),u++}function $_(n,e){Bt(4,n,e);let t=he(null);try{e.call(n)}finally{he(t),Bt(5,n,e)}}function H0(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],c=n[o];i?n[z]>>14<n[gi]>>16&&(n[z]&3)===e&&(n[z]+=16384,$_(c,s)):$_(c,s)}var _i=-1,to=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function q0(n){return n instanceof to}function z0(n){return(n.flags&8)!==0}function W0(n){return(n.flags&16)!==0}function dw(n){return n!==_i}function Pc(n){return n&32767}function G0(n){return n>>16}function Mc(n,e){let t=G0(n),r=e;for(;t>0;)r=r[Ai],t--;return r}var ah=!0;function H_(n){let e=ah;return ah=n,e}var K0=256,hw=K0-1,fw=5,Q0=0,$t={};function Y0(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Gs)&&(r=t[Gs]),r==null&&(r=t[Gs]=Q0++);let i=r&hw,s=1<<i;e.data[n+(i>>fw)]|=s}function pw(n,e){let t=gw(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,Bd(r.data,n),Bd(e,null),Bd(r.blueprint,null));let i=uf(n,e),s=n.injectorIndex;if(dw(i)){let o=Pc(i),c=Mc(i,e),u=c[ie].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function Bd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function gw(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function uf(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Iw(i),r===null)return _i;if(t++,i=i[Ai],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return _i}function J0(n,e,t){Y0(n,e,t)}function Z0(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(RI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function mw(n,e,t){if(t&re.Optional||n!==void 0)return n;Hh(e,"NodeInjector")}function yw(n,e,t,r){if(t&re.Optional&&r===void 0&&(r=null),!(t&(re.Self|re.Host))){let i=n[Ti],s=yt(void 0);try{return i?i.get(e,r,t&re.Optional):TI(e,r,t&re.Optional)}finally{yt(s)}}return mw(r,e,t)}function vw(n,e,t,r=re.Default,i){if(n!==null){if(e[z]&2048&&!(r&re.Self)){let o=nR(n,e,t,r,$t);if(o!==$t)return o}let s=_w(n,e,t,r,$t);if(s!==$t)return s}return yw(e,t,r,i)}function _w(n,e,t,r,i){let s=eR(t);if(typeof s=="function"){if(!iw(e,n,r))return r&re.Host?mw(i,t,r):yw(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&re.Optional))Hh(t);else return o}finally{cw()}}else if(typeof s=="number"){let o=null,c=gw(n,e),u=_i,l=r&re.Host?e[qt][kt]:null;for((c===-1||r&re.SkipSelf)&&(u=c===-1?uf(n,e):e[c+8],u===_i||!z_(r,!1)?c=-1:(o=e[ie],c=Pc(u),e=Mc(u,e)));c!==-1;){let f=e[ie];if(q_(s,c,f.data)){let p=X0(c,e,t,o,r,l);if(p!==$t)return p}u=e[c+8],u!==_i&&z_(r,e[ie].data[c+8]===l)&&q_(s,c,e)?(o=f,c=Pc(u),e=Mc(u,e)):c=-1}}return i}function X0(n,e,t,r,i,s){let o=e[ie],c=o.data[n+8],u=r==null?Gc(c)&&ah:r!=o&&(c.type&3)!==0,l=i&re.Host&&s===c,f=wc(c,o,t,u,l);return f!==null?Di(e,o,f,c):$t}function wc(n,e,t,r,i){let s=n.providerIndexes,o=e.data,c=s&1048575,u=n.directiveStart,l=n.directiveEnd,f=s>>20,p=r?c:c+f,y=i?c+f:l;for(let T=p;T<y;T++){let A=o[T];if(T<u&&t===A||T>=u&&A.type===t)return T}if(i){let T=o[u];if(T&&lo(T)&&T.type===t)return u}return null}function Di(n,e,t,r){let i=n[t],s=e.data;if(q0(i)){let o=i;o.resolving&&EA(wA(s[t]));let c=H_(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?yt(o.injectImpl):null,f=iw(n,r,re.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&$0(t,s[t],e)}finally{l!==null&&yt(l),H_(c),o.resolving=!1,cw()}}return i}function eR(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Gs)?n[Gs]:void 0;return typeof e=="number"?e>=0?e&hw:tR:e}function q_(n,e,t){let r=1<<n;return!!(t[e+(n>>fw)]&r)}function z_(n,e){return!(n&re.Self)&&!(n&re.Host&&e)}var br=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return vw(this._tNode,this._lView,e,qc(r),t)}};function tR(){return new br(dt(),ve())}function lf(n){return so(()=>{let e=n.prototype.constructor,t=e[bc]||ch(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[bc]||ch(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ch(n){return yI(n)?()=>{let e=ch(vt(n));return e&&e()}:wi(n)}function nR(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[z]&2048&&!(o[z]&512);){let c=_w(s,o,t,r|re.Self,$t);if(c!==$t)return c;let u=s.parent;if(!u){let l=o[$I];if(l){let f=l.get(t,$t,r);if(f!==$t)return f}u=Iw(o),o=o[Ai]}s=u}return i}function Iw(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[kt]:null}function df(n){return Z0(dt(),n)}function W_(n,e=null,t=null,r){let i=ww(n,e,t,r);return i.resolveInjectorInitializers(),i}function ww(n,e=null,t=null,r,i=new Set){let s=[t||Pt,ZA(n)];return r=r||(typeof n=="object"?void 0:rt(n)),new Ys(s,e||Qh(),r||null,i)}var Tt=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Ks}static{this.NULL=new Sc}static create(t,r){if(Array.isArray(t))return W_({name:""},r,t,"");{let i=t.name??"";return W_({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=$({token:n,providedIn:"any",factory:()=>G(CI)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var rR="ngOriginalError";function $d(n){return n[rR]}var Wt=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&$d(e);for(;t&&$d(t);)t=$d(t);return t||null}},Ew=new Q("",{providedIn:"root",factory:()=>x(Wt).handleError.bind(void 0)}),hf=(()=>{class n{static{this.__NG_ELEMENT_ID__=iR}static{this.__NG_ENV_ID__=t=>t}}return n})(),uh=class extends hf{constructor(e){super(),this._lView=e}onDestroy(e){return ZI(this._lView,e),()=>T0(this._lView,e)}};function iR(){return new uh(ve())}function sR(){return Ni(dt(),ve())}function Ni(n,e){return new Gt(wt(n,e))}var Gt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=sR}}return n})();function oR(n){return n instanceof Gt?n.nativeElement:n}var lh=class extends Ue{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,BI()&&(this.destroyRef=x(hf,{optional:!0})??void 0)}emit(e){let t=he(null);try{super.next(e)}finally{he(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Hd(s),i&&(i=Hd(i)),o&&(o=Hd(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(c),c}};function Hd(n){return e=>{setTimeout(n,void 0,e)}}var ut=lh;function aR(){return this._results[Symbol.iterator]()}var dh=class n{get changes(){return this._changes??=new ut}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=aR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=OA(e);(this._changesDetected=!MA(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Tw(n){return(n.flags&128)===128}var bw=new Map,cR=0;function uR(){return cR++}function lR(n){bw.set(n[Wc],n)}function dR(n){bw.delete(n[Wc])}var G_="__ngContext__";function Ar(n,e){Tr(e)?(n[G_]=e[Wc],lR(e)):n[G_]=e}function Dw(n){return Sw(n[Zs])}function Cw(n){return Sw(n[Mt])}function Sw(n){for(;n!==null&&!_n(n);)n=n[Mt];return n}var hh;function Aw(n){hh=n}function hR(){if(hh!==void 0)return hh;if(typeof document<"u")return document;throw new H(210,!1)}var ff=new Q("",{providedIn:"root",factory:()=>fR}),fR="ng",pf=new Q(""),Kt=new Q("",{providedIn:"platform",factory:()=>"unknown"});var gf=new Q("",{providedIn:"root",factory:()=>hR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pR="h",gR="b";var mR=()=>null;function mf(n,e,t=!1){return mR(n,e,t)}var Rw=!1,yR=new Q("",{providedIn:"root",factory:()=>Rw});var mc;function vR(){if(mc===void 0&&(mc=null,Er.trustedTypes))try{mc=Er.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return mc}function K_(n){return vR()?.createScriptURL(n)||n}var Oc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pI})`}};function fo(n){return n instanceof Oc?n.changingThisBreaksApplicationSecurity:n}function yf(n,e){let t=_R(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${pI})`)}return t===e}function _R(n){return n instanceof Oc&&n.getTypeName()||null}var IR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nw(n){return n=String(n),n.match(IR)?n:"unsafe:"+n}var Kc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Kc||{});function wR(n){let e=Mw();return e?e.sanitize(Kc.URL,n)||"":yf(n,"URL")?fo(n):Nw(Ii(n))}function ER(n){let e=Mw();if(e)return K_(e.sanitize(Kc.RESOURCE_URL,n)||"");if(yf(n,"ResourceURL"))return K_(fo(n));throw new H(904,!1)}function TR(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?ER:wR}function Pw(n,e,t){return TR(e,t)(n)}function Mw(){let n=ve();return n&&n[xt].sanitizer}function Ow(n){return n instanceof Function?n():n}function bR(n){return(n??x(Tt)).get(Kt)==="browser"}var mn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(mn||{}),DR;function vf(n,e){return DR(n,e)}function mi(n,e,t,r,i){if(r!=null){let s,o=!1;_n(r)?s=r:Tr(r)&&(o=!0,r=r[vn]);let c=zt(r);n===0&&t!==null?i==null?Vw(e,t,c):xc(e,t,c,i||null,!0):n===1&&t!==null?xc(e,t,c,i||null,!0):n===2?$R(e,c,o):n===3&&e.destroyNode(c),s!=null&&qR(e,n,s,t,i)}}function CR(n,e){return n.createText(e)}function SR(n,e,t){n.setValue(e,t)}function xw(n,e,t){return n.createElement(e,t)}function AR(n,e){kw(n,e),e[vn]=null,e[kt]=null}function RR(n,e,t,r,i,s){r[vn]=i,r[kt]=e,Qc(n,r,t,1,i,s)}function kw(n,e){e[xt].changeDetectionScheduler?.notify(1),Qc(n,e,e[je],2,null,null)}function NR(n){let e=n[Zs];if(!e)return qd(n[ie],n);for(;e;){let t=null;if(Tr(e))t=e[Zs];else{let r=e[lt];r&&(t=r)}if(!t){for(;e&&!e[Mt]&&e!==n;)Tr(e)&&qd(e[ie],e),e=e[We];e===null&&(e=n),Tr(e)&&qd(e[ie],e),t=e&&e[Mt]}e=t}}function PR(n,e,t,r){let i=lt+r,s=t.length;r>0&&(t[i-1][Mt]=e),r<s-lt?(e[Mt]=t[i],DI(t,lt+r,e)):(t.push(e),e[Mt]=null),e[We]=t;let o=e[uo];o!==null&&t!==o&&MR(o,e);let c=e[gn];c!==null&&c.insertView(n),sh(e),e[z]|=128}function MR(n,e){let t=n[bi],i=e[We][We][qt];e[qt]!==i&&(n[z]|=Yh.HasTransplantedViews),t===null?n[bi]=[e]:t.push(e)}function Lw(n,e){let t=n[bi],r=t.indexOf(e);t.splice(r,1)}function fh(n,e){if(n.length<=lt)return;let t=lt+e,r=n[t];if(r){let i=r[uo];i!==null&&i!==n&&Lw(i,r),e>0&&(n[t-1][Mt]=r[Mt]);let s=Cc(n,lt+e);AR(r[ie],r);let o=s[gn];o!==null&&o.detachView(s[ie]),r[We]=null,r[Mt]=null,r[z]&=-129}return r}function Fw(n,e){if(!(e[z]&256)){let t=e[je];t.destroyNode&&Qc(n,e,t,3,null,null),NR(e)}}function qd(n,e){if(e[z]&256)return;let t=he(null);try{e[z]&=-129,e[z]|=256,e[Dr]&&e_(e[Dr]),xR(n,e),OR(n,e),e[ie].type===1&&e[je].destroy();let r=e[uo];if(r!==null&&_n(e[We])){r!==e[We]&&Lw(r,e);let i=e[gn];i!==null&&i.detachView(n)}dR(e)}finally{he(t)}}function OR(n,e){let t=n.cleanup,r=e[Js];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Js]=null);let i=e[$n];if(i!==null){e[$n]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function xR(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof to)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Bt(4,c,u);try{u.call(c)}finally{Bt(5,c,u)}}else{Bt(4,i,s);try{s.call(i)}finally{Bt(5,i,s)}}}}}function kR(n,e,t){return LR(n,e.parent,t)}function LR(n,e,t){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return t[vn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===Ht.None||s===Ht.Emulated)return null}return wt(r,t)}}function xc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Vw(n,e,t){n.appendChild(e,t)}function Q_(n,e,t,r,i){r!==null?xc(n,e,t,r,i):Vw(n,e,t)}function FR(n,e,t,r){n.removeChild(e,t,r)}function _f(n,e){return n.parentNode(e)}function VR(n,e){return n.nextSibling(e)}function UR(n,e,t){return BR(n,e,t)}function jR(n,e,t){return n.type&40?wt(n,t):null}var BR=jR,Y_;function If(n,e,t,r){let i=kR(n,r,e),s=e[je],o=r.parent||e[kt],c=UR(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Q_(s,i,t[u],c,!1);else Q_(s,i,t,c,!1);Y_!==void 0&&Y_(s,r,e,t,i)}function Ec(n,e){if(e!==null){let t=e.type;if(t&3)return wt(e,n);if(t&4)return ph(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ec(n,r);{let i=n[e.index];return _n(i)?ph(-1,i):zt(i)}}else{if(t&32)return vf(e,n)()||zt(n[e.index]);{let r=Uw(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=eo(n[qt]);return Ec(i,r)}else return Ec(n,e.next)}}}return null}function Uw(n,e){if(e!==null){let r=n[qt][kt],i=e.projection;return r.projection[i]}return null}function ph(n,e){let t=lt+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return Ec(r,i)}return e[Cr]}function $R(n,e,t){let r=_f(n,e);r&&FR(n,r,e,t)}function wf(n,e,t,r,i,s,o){for(;t!=null;){let c=r[t.index],u=t.type;if(o&&e===0&&(c&&Ar(zt(c),r),t.flags|=2),(t.flags&32)!==32)if(u&8)wf(n,e,t.child,r,i,s,!1),mi(e,n,i,c,s);else if(u&32){let l=vf(t,r),f;for(;f=l();)mi(e,n,i,f,s);mi(e,n,i,c,s)}else u&16?HR(n,e,r,t,i,s):mi(e,n,i,c,s);t=o?t.projectionNext:t.next}}function Qc(n,e,t,r,i,s){wf(t,r,n.firstChild,e,i,s,!1)}function HR(n,e,t,r,i,s){let o=t[qt],u=o[kt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];mi(e,n,i,f,s)}else{let l=u,f=o[We];Tw(r)&&(l.flags|=128),wf(n,e,l,f,i,s,!0)}}function qR(n,e,t,r,i){let s=t[Cr],o=zt(t);s!==o&&mi(e,n,r,s,i);for(let c=lt;c<t.length;c++){let u=t[c];Qc(u[ie],u,n,e,r,s)}}function zR(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:mn.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=mn.Important),n.setStyle(t,r,i,s))}}function WR(n,e,t){n.setAttribute(e,"style",t)}function jw(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Bw(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&Xd(n,e,r),i!==null&&jw(n,e,i),s!==null&&WR(n,e,s)}var Qt={};function Yz(n=1){$w(Et(),ve(),Or()+n,!1)}function $w(n,e,t,r){if(!r)if((e[z]&3)===3){let s=n.preOrderCheckHooks;s!==null&&_c(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Ic(e,s,0,t)}Sr(t)}function xe(n,e=re.Default){let t=ve();if(t===null)return G(n,e);let r=dt();return vw(r,t,vt(n),e)}function Hw(){let n="invalid";throw new Error(n)}function qw(n,e,t,r,i,s){let o=he(null);try{let c=null;i&_t.SignalBased&&(c=e[r][Yv]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&_t.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,c,s,t,r):zI(e,c,r,s)}finally{he(o)}}function GR(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Sr(~i);else{let s=i,o=t[++r],c=t[++r];L0(o,s);let u=e[s];c(2,u)}}}finally{Sr(-1)}}function Yc(n,e,t,r,i,s,o,c,u,l,f){let p=e.blueprint.slice();return p[vn]=i,p[z]=r|4|128|8|64,(l!==null||n&&n[z]&2048)&&(p[z]|=2048),JI(p),p[We]=p[Ai]=n,p[Ot]=t,p[xt]=o||n&&n[xt],p[je]=c||n&&n[je],p[Ti]=u||n&&n[Ti]||null,p[kt]=s,p[Wc]=uR(),p[Ac]=f,p[$I]=l,p[qt]=e.type==2?n[qt]:p,p}function Jc(n,e,t,r,i){let s=n.data[e];if(s===null)s=KR(n,e,t,r,i),k0()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=N0();s.injectorIndex=o===null?-1:o.injectorIndex}return ho(s,!0),s}function KR(n,e,t,r,i){let s=ew(),o=tw(),c=o?s:s&&s.parent,u=n.data[e]=eN(n,c,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function zw(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Ww(n,e,t,r,i){let s=Or(),o=r&2;try{Sr(-1),o&&e.length>qn&&$w(n,e,qn,!1),Bt(o?2:0,i),t(r,i)}finally{Sr(s),Bt(o?3:1,i)}}function Gw(n,e,t){if(qI(e)){let r=he(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=n.data[o];if(c.contentQueries){let u=t[o];c.contentQueries(1,u,o)}}}finally{he(r)}}}function Kw(n,e,t){XI()&&(oN(n,e,t,wt(t,e)),(t.flags&64)===64&&eE(n,e,t))}function Qw(n,e,t=wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?t(e,n):n[o];n[i++]=c}}}function Yw(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ef(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ef(n,e,t,r,i,s,o,c,u,l,f){let p=qn+r,y=p+i,T=QR(p,y),A=typeof l=="function"?l():l;return T[ie]={type:n,blueprint:T,template:t,queries:null,viewQuery:c,declTNode:e,data:T.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function QR(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Qt);return t}function YR(n,e,t,r){let s=r.get(yR,Rw)||t===Ht.ShadowDom,o=n.selectRootElement(e,s);return JR(o),o}function JR(n){ZR(n)}var ZR=()=>null;function XR(n,e,t,r){let i=rE(e);i.push(t),n.firstCreatePass&&iE(n).push(r,i.length-1)}function eN(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,c=0;return S0()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function J_(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=_t.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}n===0?Z_(r,t,l,c,u):Z_(r,t,l,c)}return r}function Z_(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function tN(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],y=t?t.get(p):null,T=y?y.inputs:null,A=y?y.outputs:null;u=J_(0,p.inputs,f,u,T),l=J_(1,p.outputs,f,l,A);let R=u!==null&&o!==null&&!Gh(e)?yN(u,f,o):null;c.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function nN(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Jw(n,e,t,r,i,s,o,c){let u=wt(e,t),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Tf(n,t,f,r,i),Gc(e)&&rN(t,e.index)):e.type&3?(r=nN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function rN(n,e){let t=Qn(e,n);t[z]&16||(t[z]|=64)}function Zw(n,e,t,r){if(XI()){let i=r===null?null:{"":-1},s=cN(n,t),o,c;s===null?o=c=null:[o,c]=s,o!==null&&Xw(n,e,t,o,i,c),i&&uN(t,r,i)}t.mergedAttrs=Wh(t.mergedAttrs,t.attrs)}function Xw(n,e,t,r,i,s){for(let l=0;l<r.length;l++)J0(pw(t,e),n,r[l].type);dN(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=zw(n,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];t.mergedAttrs=Wh(t.mergedAttrs,f.hostAttrs),hN(n,t,e,u,f),lN(u,f,i),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),u++}tN(n,t,s)}function iN(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let c=~e.index;sN(o)!=c&&o.push(c),o.push(t,r,s)}}function sN(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function oN(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;Gc(t)&&fN(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||pw(t,e),Ar(r,e);let o=t.initialInputs;for(let c=i;c<s;c++){let u=n.data[c],l=Di(e,n,c,t);if(Ar(l,e),o!==null&&mN(e,c-i,l,u,t,o),lo(u)){let f=Qn(t.index,e);f[Ot]=Di(e,n,c,t)}}}function eE(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=F0();try{Sr(s);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];oh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&aN(u,l)}}finally{Sr(-1),oh(o)}}function aN(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function cN(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(HA(e,o.selectors,!1))if(r||(r=[]),lo(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;gh(n,e,u)}else r.unshift(o),gh(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function gh(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function uN(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new H(-301,!1);r.push(e[i],s)}}}function lN(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;lo(e)&&(t[""]=n)}}function dN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function hN(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=wi(i.type,!0)),o=new to(s,lo(i),xe);n.blueprint[r]=o,t[r]=o,iN(n,e,r,zw(n,t,i.hostVars,Qt),i)}function fN(n,e,t){let r=wt(e,n),i=Yw(t),s=n[xt].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let c=Zc(n,Yc(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=c}function pN(n,e,t,r,i,s){let o=wt(n,e);gN(e[je],o,s,n.value,t,r,i)}function gN(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let c=o==null?Ii(s):o(s,r||"",i);n.setAttribute(e,i,c,t)}}function mN(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],p=o[c++];qw(r,t,u,l,f,p)}}function yN(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],t[i+1]);break}}i+=2}return r}function tE(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function nE(n,e){let t=n.contentQueries;if(t!==null){let r=he(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let c=n.data[o];tf(s),c.contentQueries(2,e[o],o)}}}finally{he(r)}}}function Zc(n,e){return n[Zs]?n[j_][Mt]=e:n[Zs]=e,n[j_]=e,e}function mh(n,e,t){tf(0);let r=he(null);try{e(n,t)}finally{he(r)}}function rE(n){return n[Js]||(n[Js]=[])}function iE(n){return n.cleanup||(n.cleanup=[])}function sE(n,e){let t=n[Ti],r=t?t.get(Wt,null):null;r&&r.handleError(e)}function Tf(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],c=t[s++],u=t[s++],l=e[o],f=n.data[o];qw(f,l,r,c,u,i)}}function oE(n,e,t){let r=QI(e,n);SR(n[je],r,t)}function vN(n,e){let t=Qn(e,n),r=t[ie];_N(r,t);let i=t[vn];i!==null&&t[Ac]===null&&(t[Ac]=mf(i,t[Ti])),bf(r,t,t[Ot])}function _N(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function bf(n,e,t){nf(e);try{let r=n.viewQuery;r!==null&&mh(1,r,t);let i=n.template;i!==null&&Ww(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[gn]?.finishViewCreation(n),n.staticContentQueries&&nE(n,e),n.staticViewQueries&&mh(2,n.viewQuery,t);let s=n.components;s!==null&&IN(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[z]&=-5,rf()}}function IN(n,e){for(let t=0;t<e.length;t++)vN(n,e[t])}function wN(n,e,t,r){let i=he(null);try{let s=e.tView,c=n[z]&4096?4096:16,u=Yc(n,s,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[uo]=l;let f=n[gn];return f!==null&&(u[gn]=f.createEmbeddedView(s)),bf(s,u,t),u}finally{he(i)}}function X_(n,e){return!e||e.firstChild===null||Tw(n)}function EN(n,e,t,r=!0){let i=e[ie];if(PR(i,e,n,t),r){let o=ph(t,n),c=e[je],u=_f(c,n[Cr]);u!==null&&RR(i,n[kt],c,e,u,o)}let s=e[Ac];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function kc(n,e,t,r,i=!1){for(;t!==null;){let s=e[t.index];s!==null&&r.push(zt(s)),_n(s)&&TN(s,r);let o=t.type;if(o&8)kc(n,e,t.child,r);else if(o&32){let c=vf(t,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=Uw(e,t);if(Array.isArray(c))r.push(...c);else{let u=eo(e[qt]);kc(u[ie],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function TN(n,e){for(let t=lt;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&kc(r[ie],r,i,e)}n[Cr]!==n[vn]&&e.push(n[Cr])}var aE=[];function bN(n){return n[Dr]??DN(n)}function DN(n){let e=aE.pop()??Object.create(SN);return e.lView=n,e}function CN(n){n.lView[Dr]!==n&&(n.lView=null,aE.push(n))}var SN=Se(F({},Jv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Xs(n.lView)},consumerOnSignalRead(){this.lView[Dr]=this}}),cE=100;function uE(n,e=!0,t=0){let r=n[xt],i=r.rendererFactory,s=!1;s||i.begin?.();try{AN(n,t)}catch(o){throw e&&sE(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function AN(n,e){yh(n,e);let t=0;for(;Xh(n);){if(t===cE)throw new H(103,!1);t++,yh(n,1)}}function RN(n,e,t,r){let i=e[z];if((i&256)===256)return;let s=!1;!s&&e[xt].inlineEffectRunner?.flush(),nf(e);let o=null,c=null;!s&&NN(n)&&(c=bN(e),o=Zv(c));try{JI(e),x0(n.bindingStartIndex),t!==null&&Ww(n,e,t,2,r);let u=(i&3)===3;if(!s)if(u){let p=n.preOrderCheckHooks;p!==null&&_c(e,p,null)}else{let p=n.preOrderHooks;p!==null&&Ic(e,p,0,null),jd(e,0)}if(PN(e),lE(e,0),n.contentQueries!==null&&nE(n,e),!s)if(u){let p=n.contentCheckHooks;p!==null&&_c(e,p)}else{let p=n.contentHooks;p!==null&&Ic(e,p,1),jd(e,1)}GR(n,e);let l=n.components;l!==null&&hE(e,l,0);let f=n.viewQuery;if(f!==null&&mh(2,f,r),!s)if(u){let p=n.viewCheckHooks;p!==null&&_c(e,p)}else{let p=n.viewHooks;p!==null&&Ic(e,p,2),jd(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Ud]){for(let p of e[Ud])p();e[Ud]=null}s||(e[z]&=-73)}catch(u){throw Xs(e),u}finally{c!==null&&(Xv(c,o),CN(c)),rf()}}function NN(n){return n.type!==2}function lE(n,e){for(let t=Dw(n);t!==null;t=Cw(t))for(let r=lt;r<t.length;r++){let i=t[r];dE(i,e)}}function PN(n){for(let e=Dw(n);e!==null;e=Cw(e)){if(!(e[z]&Yh.HasTransplantedViews))continue;let t=e[bi];for(let r=0;r<t.length;r++){let i=t[r],s=i[We];w0(i)}}}function MN(n,e,t){let r=Qn(e,n);dE(r,t)}function dE(n,e){Zh(n)&&yh(n,e)}function yh(n,e){let r=n[ie],i=n[z],s=n[Dr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&yd(s)),s&&(s.dirty=!1),n[z]&=-9217,o)RN(r,n,r.template,n[Ot]);else if(i&8192){lE(n,1);let c=r.components;c!==null&&hE(n,c,1)}}function hE(n,e,t){for(let r=0;r<e.length;r++)MN(n,e[r],t)}function Df(n){for(n[xt].changeDetectionScheduler?.notify();n;){n[z]|=64;let e=eo(n);if(d0(n)&&!e)return n;n=e}return null}var Rr=class{get rootNodes(){let e=this._lView,t=e[ie];return kc(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ot]}set context(e){this._lView[Ot]=e}get destroyed(){return(this._lView[z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[We];if(_n(e)){let t=e[Rc],r=t?t.indexOf(this):-1;r>-1&&(fh(e,r),Cc(t,r))}this._attachedToViewContainer=!1}Fw(this._lView[ie],this._lView)}onDestroy(e){ZI(this._lView,e)}markForCheck(){Df(this._cdRefInjectingView||this._lView)}detach(){this._lView[z]&=-129}reattach(){sh(this._lView),this._lView[z]|=128}detectChanges(){this._lView[z]|=1024,uE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,kw(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e,sh(this._lView)}},Nr=(()=>{class n{static{this.__NG_ELEMENT_ID__=kN}}return n})(),ON=Nr,xN=class extends ON{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=wN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Rr(i)}};function kN(){return Cf(dt(),ve())}function Cf(n,e){return n.type&4?new xN(e,n,Ni(n,e)):null}var Zz=new RegExp(`^(\\d+)*(${gR}|${pR})*(.*)`);var LN=()=>null;function eI(n,e){return LN(n,e)}var Lc=class{},vh=class{},Fc=class{};function FN(n){let e=Error(`No component factory found for ${rt(n)}.`);return e[VN]=n,e}var VN="ngComponent";var _h=class{resolveComponentFactory(e){throw FN(e)}},Xc=(()=>{class n{static{this.NULL=new _h}}return n})(),no=class{},Pi=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>UN()}}return n})();function UN(){let n=ve(),e=dt(),t=Qn(e.index,n);return(Tr(t)?t:n)[je]}var jN=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>null})}}return n})(),zd={};var tI=new Set;function Sf(n){tI.has(n)||(tI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function nI(...n){}function BN(){let n=typeof Er.requestAnimationFrame=="function",e=Er[n?"requestAnimationFrame":"setTimeout"],t=Er[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var ye=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ut(!1),this.onMicrotaskEmpty=new ut(!1),this.onStable=new ut(!1),this.onError=new ut(!1),typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=BN().nativeRequestAnimationFrame,qN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,$N,nI,nI);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},$N={};function Af(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function HN(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Er,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ih(n),n.isCheckStableRunning=!0,Af(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ih(n))}function qN(n){let e=()=>{HN(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,c)=>{if(zN(c))return t.invokeTask(i,s,o,c);try{return rI(n),t.invokeTask(i,s,o,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),iI(n)}},onInvoke:(t,r,i,s,o,c,u)=>{try{return rI(n),t.invoke(i,s,o,c,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),iI(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ih(n),Af(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ih(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function rI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function iI(n){n._nesting--,Af(n)}function zN(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var yi=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(yi||{}),WN={destroy(){}};function eu(n,e){!e&&u0(eu);let t=e?.injector??x(Tt);if(!bR(t))return WN;Sf("NgAfterNextRender");let r=t.get(Rf),i=r.handler??=new Eh,s=e?.phase??yi.MixedReadWrite,o=()=>{i.unregister(u),c()},c=t.get(hf).onDestroy(o),u=yn(t,()=>new wh(s,()=>{o(),n()}));return i.register(u),{destroy:o}}var wh=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=x(ye),this.errorHandler=x(Wt,{optional:!0}),x(Lc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Eh=class{constructor(){this.executingCallbacks=!1,this.buckets={[yi.EarlyRead]:new Set,[yi.Write]:new Set,[yi.MixedReadWrite]:new Set,[yi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Rf=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Th(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=N_(i,c);else if(s==2){let u=c,l=e[++o];r=N_(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Vc=class extends Xc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Hn(e);return new Ci(t,this.ngModule)}};function sI(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let r=n[t];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}function GN(n){let e=n.toLowerCase();return e==="svg"?g0:e==="math"?m0:null}var bh=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=qc(r);let i=this.injector.get(e,zd,r);return i!==zd||t===zd?i:this.parentInjector.get(e,t,r)}},Ci=class extends Fc{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=sI(e.inputs);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return sI(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=GA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=he(null);try{i=i||this.ngModule;let o=i instanceof st?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new bh(e,o):e,u=c.get(no,null);if(u===null)throw new H(407,!1);let l=c.get(jN,null),f=c.get(Rf,null),p=c.get(Lc,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},T=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=r?YR(T,r,this.componentDef.encapsulation,c):xw(T,A,GN(A)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let k=null;R!==null&&(k=mf(R,c,!0));let q=Ef(0,null,null,1,0,null,null,null,null,null,null),j=Yc(null,q,null,N,null,null,y,T,c,null,k);nf(j);let ne,Ee;try{let W=this.componentDef,E,m=null;W.findHostDirectiveDefs?(E=[],m=new Map,W.findHostDirectiveDefs(W,E,m),E.push(W)):E=[W];let v=KN(j,R),w=QN(v,R,W,E,j,y,T);Ee=YI(q,qn),R&&ZN(T,W,R,r),t!==void 0&&XN(Ee,this.ngContentSelectors,t),ne=JN(w,W,E,m,j,[eP]),bf(q,j,null)}finally{rf()}return new Dh(this.componentType,ne,Ni(Ee,j),j,Ee)}finally{he(s)}}},Dh=class extends vh{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Rr(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Tf(s[ie],s,i,e,t),this.previousInputValues.set(e,t);let o=Qn(this._tNode.index,s);Df(o)}}get injector(){return new br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function KN(n,e){let t=n[ie],r=qn;return n[r]=e,Jc(t,r,2,"#host",null)}function QN(n,e,t,r,i,s,o){let c=i[ie];YN(r,n,e,o);let u=null;e!==null&&(u=mf(e,i[Ti]));let l=s.rendererFactory.createRenderer(e,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let p=Yc(i,Yw(t),null,f,i[n.index],n,s,l,null,null,u);return c.firstCreatePass&&gh(c,n,r.length-1),Zc(i,p),i[n.index]=p}function YN(n,e,t,r){for(let i of n)e.mergedAttrs=Wh(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Th(e,e.mergedAttrs,!0),t!==null&&Bw(r,t,e))}function JN(n,e,t,r,i,s){let o=dt(),c=i[ie],u=wt(o,i);Xw(c,i,o,t,null,r);for(let f=0;f<t.length;f++){let p=o.directiveStart+f,y=Di(i,c,p,o);Ar(y,i)}eE(c,i,o),u&&Ar(u,i);let l=Di(i,c,o.directiveStart+o.componentOffset,o);if(n[Ot]=i[Ot]=l,s!==null)for(let f of s)f(l,e);return Gw(c,o,i),l}function ZN(n,e,t,r){if(r)Xd(n,t,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=KA(e.selectors[0]);i&&Xd(n,t,i),s&&s.length>0&&jw(n,t,s.join(" "))}}function XN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function eP(){let n=dt();cf(ve()[ie],n)}var Yn=(()=>{class n{static{this.__NG_ELEMENT_ID__=tP}}return n})();function tP(){let n=dt();return pE(n,ve())}var nP=Yn,fE=class extends nP{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ni(this._hostTNode,this._hostLView)}get injector(){return new br(this._hostTNode,this._hostLView)}get parentInjector(){let e=uf(this._hostTNode,this._hostLView);if(dw(e)){let t=Mc(e,this._hostLView),r=Pc(e),i=t[ie].data[r+8];return new br(i,t)}else return new br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=oI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=eI(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(c,i,X_(this._hostTNode,o)),c}createComponent(e,t,r,i,s){let o=e&&!l0(e),c;if(o)c=t;else{let A=t||{};c=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new Ci(Hn(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let R=(o?l:this.parentInjector).get(st,null);R&&(s=R)}let f=Hn(u.componentType??{}),p=eI(this._lContainer,f?.id??null),y=p?.firstChild??null,T=u.create(l,i,y,s);return this.insertImpl(T.hostView,c,X_(this._hostTNode,p)),T}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(I0(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[We],l=new fE(u,u[kt],u[We]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return EN(o,i,s,r),e.attachToViewContainerRef(),DI(Wd(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=oI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=fh(this._lContainer,t);r&&(Cc(Wd(this._lContainer),t),Fw(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=fh(this._lContainer,t);return r&&Cc(Wd(this._lContainer),t)!=null?new Rr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function oI(n){return n[Rc]}function Wd(n){return n[Rc]||(n[Rc]=[])}function pE(n,e){let t,r=e[n.index];return _n(r)?t=r:(t=tE(r,e,null,n),e[n.index]=t,Zc(e,t)),iP(t,e,n,r),new fE(t,n,e)}function rP(n,e){let t=n[je],r=t.createComment(""),i=wt(e,n),s=_f(t,i);return xc(t,s,r,VR(t,i),!1),r}var iP=aP,sP=()=>!1;function oP(n,e,t){return sP(n,e,t)}function aP(n,e,t,r){if(n[Cr])return;let i;t.type&8?i=zt(r):i=rP(e,t),n[Cr]=i}var Ch=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Sh=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),c=this.queries[o.indexInDeclarationView];i.push(c.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Nf(e,t).matches!==null&&this.queries[t].setDirty()}},Ah=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=gP(e):this.predicate=e}},Rh=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Nh=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,cP(t,s)),this.matchTNodeWithReadOption(e,t,wc(t,e,s,!1,!1))}else r===Nr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,wc(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Gt||i===Yn||i===Nr&&t.type&4)this.addMatch(t.index,-2);else{let s=wc(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function cP(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function uP(n,e){return n.type&11?Ni(n,e):n.type&4?Cf(n,e):null}function lP(n,e,t,r){return t===-1?uP(e,n):t===-2?dP(n,e,r):Di(n,n[ie],t,e)}function dP(n,e,t){if(t===Gt)return Ni(e,n);if(t===Nr)return Cf(e,n);if(t===Yn)return pE(e,n)}function gE(n,e,t,r){let i=e[gn].queries[r];if(i.matches===null){let s=n.data,o=t.matches,c=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)c.push(null);else{let f=s[l];c.push(lP(e,f,o[u+1],t.metadata.read))}}i.matches=c}return i.matches}function Ph(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=gE(n,e,i,t);for(let c=0;c<s.length;c+=2){let u=s[c];if(u>0)r.push(o[c/2]);else{let l=s[c+1],f=e[-u];for(let p=lt;p<f.length;p++){let y=f[p];y[uo]===y[We]&&Ph(y[ie],y,l,r)}if(f[bi]!==null){let p=f[bi];for(let y=0;y<p.length;y++){let T=p[y];Ph(T[ie],T,l,r)}}}}}return r}function hP(n,e){return n[gn].queries[e].queryList}function fP(n,e,t){let r=new dh((t&4)===4);return XR(n,e,r,r.destroy),(e[gn]??=new Sh).queries.push(new Ch(r))-1}function pP(n,e,t,r){let i=Et();if(i.firstCreatePass){let s=dt();mP(i,new Ah(e,t,r),s.index),yP(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return fP(i,ve(),t)}function gP(n){return n.split(",").map(e=>e.trim())}function mP(n,e,t){n.queries===null&&(n.queries=new Rh),n.queries.track(new Nh(e,t))}function yP(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Nf(n,e){return n.queries.getByIndex(e)}function vP(n,e){let t=n[ie],r=Nf(t,e);return r.crossesNgTemplate?Ph(t,n,e,[]):gE(t,n,r,e)}function Pf(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var zn=class{},ro=class{};var Mh=class extends zn{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vc(this);let i=kI(e);this._bootstrapComponents=Ow(i.bootstrap),this._r3Injector=ww(e,t,[{provide:zn,useValue:this},{provide:Xc,useValue:this.componentFactoryResolver},...r],rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Oh=class extends ro{constructor(e){super(),this.moduleType=e}create(e){return new Mh(this.moduleType,e,[])}};var Uc=class extends zn{constructor(e){super(),this.componentFactoryResolver=new Vc(this),this.instance=null;let t=new Ys([...e.providers,{provide:zn,useValue:this},{provide:Xc,useValue:this.componentFactoryResolver}],e.parent||Qh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function tu(n,e,t=null){return new Uc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var nu=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mE(n){return IP(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function _P(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function IP(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function wP(n,e,t){return n[e]=t}function Pr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function EP(n,e,t,r){let i=Pr(n,e,t);return Pr(n,e+1,r)||i}function TP(n){return(n.flags&32)===32}function bP(n,e,t,r,i,s,o,c,u){let l=e.consts,f=Jc(e,n,4,o||null,Nc(l,c));Zw(e,t,f,Nc(l,u)),cf(e,f);let p=f.tView=Ef(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function DP(n,e,t,r,i,s,o,c){let u=ve(),l=Et(),f=n+qn,p=l.firstCreatePass?bP(f,l,u,e,t,r,i,s,o):l.data[f];ho(p,!1);let y=CP(l,u,p,n);of()&&If(l,u,y,p),Ar(y,u);let T=tE(y,u,y,p);return u[f]=T,Zc(u,T),oP(T,p,u),Jh(p)&&Kw(l,u,p),o!=null&&Qw(u,p,c),DP}var CP=SP;function SP(n,e,t,r){return af(!0),e[je].createComment("")}function Mf(n,e,t,r){let i=ve(),s=ef();if(Pr(i,s,e)){let o=Et(),c=sf();pN(c,i,n,e,t,r)}return Mf}function yE(n,e,t,r){return Pr(n,ef(),t)?e+Ii(t)+r:Qt}function AP(n,e,t,r,i,s){let o=O0(),c=EP(n,o,t,i);return nw(2),c?e+Ii(t)+r+Ii(i)+s:Qt}function yc(n,e){return n<<17|e<<2}function Mr(n){return n>>17&32767}function RP(n){return(n&2)==2}function NP(n,e){return n&131071|e<<17}function xh(n){return n|2}function Si(n){return(n&131068)>>2}function Gd(n,e){return n&-131069|e<<2}function PP(n){return(n&1)===1}function kh(n){return n|1}function MP(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Mr(o),u=Si(o);n[r]=t;let l=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||ao(p,f)>0)&&(l=!0)}else f=t;if(i)if(u!==0){let y=Mr(n[c+1]);n[r+1]=yc(y,c),y!==0&&(n[y+1]=Gd(n[y+1],r)),n[c+1]=NP(n[c+1],r)}else n[r+1]=yc(c,0),c!==0&&(n[c+1]=Gd(n[c+1],r)),c=r;else n[r+1]=yc(u,0),c===0?c=r:n[u+1]=Gd(n[u+1],r),u=r;l&&(n[r+1]=xh(n[r+1])),aI(n,f,r,!0),aI(n,f,r,!1),OP(e,f,n,r,s),o=yc(c,u),s?e.classBindings=o:e.styleBindings=o}function OP(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&ao(s,e)>=0&&(t[r+1]=kh(t[r+1]))}function aI(n,e,t,r){let i=n[t+1],s=e===null,o=r?Mr(i):Si(i),c=!1;for(;o!==0&&(c===!1||s);){let u=n[o],l=n[o+1];xP(u,e)&&(c=!0,n[o+1]=r?kh(l):xh(l)),o=r?Mr(l):Si(l)}c&&(n[t+1]=r?xh(i):kh(i))}function xP(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ao(n,e)>=0:!1}function kP(n,e,t){let r=ve(),i=ef();if(Pr(r,i,e)){let s=Et(),o=sf();Jw(s,o,r,n,e,r[je],t,!1)}return kP}function cI(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";Tf(n,t,s[o],o,r)}function LP(n,e){return FP(n,e,null,!0),LP}function FP(n,e,t,r){let i=ve(),s=Et(),o=nw(2);if(s.firstUpdatePass&&UP(s,n,o,r),e!==Qt&&Pr(i,o,e)){let c=s.data[Or()];qP(s,c,i,i[je],n,i[o+1]=zP(e,t),r,o)}}function VP(n,e){return e>=n.expandoStartIndex}function UP(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Or()],o=VP(n,t);WP(s,r)&&e===null&&!o&&(e=!1),e=jP(i,s,e,r),MP(i,s,e,t,o,r)}}function jP(n,e,t,r){let i=V0(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Kd(null,n,e,t,r),t=io(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Kd(i,n,e,t,r),s===null){let u=BP(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Kd(null,n,e,u[1],r),u=io(u,e.attrs,r),$P(n,e,r,u))}else s=HP(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function BP(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Si(r)!==0)return n[Mr(r)]}function $P(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Mr(i)]=r}function HP(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=io(r,o,t)}return io(r,e.attrs,t)}function Kd(n,e,t,r,i){let s=null,o=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<o&&(s=e[c],r=io(r,s.hostAttrs,i),s!==n);)c++;return n!==null&&(t.directiveStylingLast=c),r}function io(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),kA(n,o,t?!0:e[++s]))}return n===void 0?null:n}function qP(n,e,t,r,i,s,o,c){if(!(e.type&3))return;let u=n.data,l=u[c+1],f=PP(l)?uI(u,e,t,i,Si(l),o):void 0;if(!jc(f)){jc(s)||RP(l)&&(s=uI(u,null,t,i,c,o));let p=QI(Or(),t);zR(r,o,p,i,s)}}function uI(n,e,t,r,i,s){let o=e===null,c;for(;i>0;){let u=n[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=t[i+1];y===Qt&&(y=p?Pt:void 0);let T=p?Fd(y,r):f===r?y:void 0;if(l&&!jc(T)&&(T=Fd(u,r)),jc(T)&&(c=T,o))return c;let A=n[i+1];i=o?Mr(A):Si(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=Fd(u,r))}return c}function jc(n){return n!==void 0}function zP(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=rt(fo(n)))),n}function WP(n,e){return(n.flags&(e?8:16))!==0}function GP(n,e,t,r,i,s){let o=e.consts,c=Nc(o,i),u=Jc(e,n,2,r,c);return Zw(e,t,u,Nc(o,s)),u.attrs!==null&&Th(u,u.attrs,!1),u.mergedAttrs!==null&&Th(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function vE(n,e,t,r){let i=ve(),s=Et(),o=qn+n,c=i[je],u=s.firstCreatePass?GP(o,s,i,e,t,r):s.data[o],l=KP(s,i,u,c,e,n);i[o]=l;let f=Jh(u);return ho(u,!0),Bw(c,l,u),!TP(u)&&of()&&If(s,i,l,u),b0()===0&&Ar(l,i),D0(),f&&(Kw(s,i,u),Gw(s,u,i)),r!==null&&Qw(i,u),vE}function _E(){let n=dt();tw()?P0():(n=n.parent,ho(n,!1));let e=n;A0(e)&&R0(),C0();let t=Et();return t.firstCreatePass&&(cf(t,n),qI(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&z0(e)&&cI(t,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&W0(e)&&cI(t,e,ve(),e.stylesWithoutHost,!1),_E}function Of(n,e,t,r){return vE(n,e,t,r),_E(),Of}var KP=(n,e,t,r,i,s)=>(af(!0),xw(r,i,B0()));function eW(){return ve()}var Bc="en-US";var QP=Bc;function YP(n){typeof n=="string"&&(QP=n.toLowerCase().replace(/_/g,"-"))}function xf(n,e,t,r){let i=ve(),s=Et(),o=dt();return ZP(s,i,i[je],o,n,e,r),xf}function JP(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let c=e[Js],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function ZP(n,e,t,r,i,s,o){let c=Jh(r),l=n.firstCreatePass&&iE(n),f=e[Ot],p=rE(e),y=!0;if(r.type&3||o){let R=wt(r,e),N=o?o(R):R,k=p.length,q=o?ne=>o(zt(ne[r.index])):r.index,j=null;if(!o&&c&&(j=JP(n,e,i,r.index)),j!==null){let ne=j.__ngLastListenerFn__||j;ne.__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,y=!1}else{s=dI(r,e,f,s,!1);let ne=t.listen(N,i,s);p.push(s,ne),l&&l.push(i,q,k,k+1)}}else s=dI(r,e,f,s,!1);let T=r.outputs,A;if(y&&T!==null&&(A=T[i])){let R=A.length;if(R)for(let N=0;N<R;N+=2){let k=A[N],q=A[N+1],Ee=e[k][q].subscribe(s),W=p.length;p.push(s,Ee),l&&l.push(i,r.index,W,-(W+1))}}}function lI(n,e,t,r){let i=he(null);try{return Bt(6,e,t),t(r)!==!1}catch(s){return sE(n,s),!1}finally{Bt(7,e,t),he(i)}}function dI(n,e,t,r,i){return function s(o){if(o===Function)return r;let c=n.componentOffset>-1?Qn(n.index,e):e;Df(c);let u=lI(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)u=lI(e,t,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function tW(n=1){return j0(n)}function XP(n,e,t){return IE(n,"",e,"",t),XP}function IE(n,e,t,r,i){let s=ve(),o=yE(s,e,t,r);if(o!==Qt){let c=Et(),u=sf();Jw(c,u,s,n,o,s[je],i,!1)}return IE}function wE(n,e,t,r){pP(n,e,t,r)}function EE(n){let e=ve(),t=Et(),r=rw();tf(r+1);let i=Nf(t,r);if(n.dirty&&_0(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=vP(e,r);n.reset(s,oR),n.notifyOnChanges()}return!0}return!1}function TE(){return hP(ve(),rw())}function nW(n,e=""){let t=ve(),r=Et(),i=n+qn,s=r.firstCreatePass?Jc(r,i,1,e,null):r.data[i],o=eM(r,t,s,e,n);t[i]=o,of()&&If(r,t,o,s),ho(s,!1)}var eM=(n,e,t,r,i)=>(af(!0),CR(e[je],r));function tM(n){return bE("",n,""),tM}function bE(n,e,t){let r=ve(),i=yE(r,n,e,t);return i!==Qt&&oE(r,Or(),i),bE}function nM(n,e,t,r,i){let s=ve(),o=AP(s,n,e,t,r,i);return o!==Qt&&oE(s,Or(),o),nM}var rM=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=VI(!1,t.type),i=r.length>0?tu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(G(st))})}}return n})();function DE(n){Sf("NgStandalone"),n.getStandaloneInjector=e=>e.get(rM).getOrCreateStandaloneInjector(n)}function rW(n,e,t,r){return sM(ve(),M0(),n,e,t,r)}function iM(n,e){let t=n[e];return t===Qt?void 0:t}function sM(n,e,t,r,i,s){let o=e+t;return Pr(n,o,i)?wP(n,o+1,s?r.call(s,i):r(i)):iM(n,o+1)}var Wn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},CE=new Wn("17.3.12"),ru=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var SE=new Q("");function po(n){return!!n&&typeof n.then=="function"}function AE(n){return!!n&&typeof n.subscribe=="function"}var iu=new Q(""),RE=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=x(iu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(po(s))t.push(s);else if(AE(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),su=new Q("");function oM(){t_(()=>{throw new H(600,!1)})}function aM(n){return n.isBoundToModule}function cM(n,e,t){try{let r=t();return po(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var go=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(Ew),this.afterRenderEffectManager=x(Rf),this.externalTestViews=new Set,this.beforeRender=new Ue,this.afterTick=new Ue,this.componentTypes=[],this.components=[],this.isStable=x(nu).hasPendingTasks.pipe(ae(t=>!t)),this._injector=x(st)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Fc;if(!this._injector.get(RE).done){let y=!i&&xI(t),T=!1;throw new H(405,T)}let o;i?o=t:o=this._injector.get(Xc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let c=aM(o)?void 0:this._injector.get(zn),u=r||o.selector,l=o.create(Tt.NULL,[],u,c),f=l.location.nativeElement,p=l.injector.get(SE,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Qd(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new H(101,!1);let r=he(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,he(r)}}detectChangesInAttachedViews(t){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===cE)throw new H(103,!1);if(t){let s=r===0;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:c}of this._views)uM(o,s,c)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Lh(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Lh(s))))break}}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Qd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(su,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Qd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Qd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function uM(n,e,t){!e&&!Lh(n)||lM(n,t,e)}function Lh(n){return Xh(n)}function lM(n,e,t){let r;t?(r=0,n[z]|=1024):n[z]&64?r=0:r=1,uE(n,e,r)}var Fh=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ou=(()=>{class n{compileModuleSync(t){return new Oh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=kI(t),s=Ow(i.declarations).reduce((o,c)=>{let u=Hn(c);return u&&o.push(new Ci(u)),o},[]);return new Fh(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var dM=(()=>{class n{constructor(){this.zone=x(ye),this.applicationRef=x(go)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hM(n){return[{provide:ye,useFactory:n},{provide:Ei,multi:!0,useFactory:()=>{let e=x(dM,{optional:!0});return()=>e.initialize()}},{provide:Ei,multi:!0,useFactory:()=>{let e=x(mM);return()=>{e.initialize()}}},{provide:Ew,useFactory:fM}]}function fM(){let n=x(ye),e=x(Wt);return t=>n.runOutsideAngular(()=>e.handleError(t))}function pM(n){let e=hM(()=>new ye(gM(n)));return Kn([[],e])}function gM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var mM=(()=>{class n{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=x(ye),this.pendingTasks=x(nu)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function yM(){return typeof $localize<"u"&&$localize.locale||Bc}var kf=new Q("",{providedIn:"root",factory:()=>x(kf,re.Optional|re.SkipSelf)||yM()});var NE=new Q("");var Tc=null;function vM(n=[],e){return Tt.create({name:e,providers:[{provide:zc,useValue:"platform"},{provide:NE,useValue:new Set([()=>Tc=null])},...n]})}function _M(n=[]){if(Tc)return Tc;let e=vM(n);return Tc=e,oM(),IM(e),e}function IM(n){n.get(pf,null)?.forEach(t=>t())}var Mi=(()=>{class n{static{this.__NG_ELEMENT_ID__=wM}}return n})();function wM(n){return EM(dt(),ve(),(n&16)===16)}function EM(n,e,t){if(Gc(n)&&!t){let r=Qn(n.index,e);return new Rr(r,r)}else if(n.type&47){let r=e[qt];return new Rr(r,e)}return null}var Vh=class{constructor(){}supports(e){return mE(e)}create(e){return new Uh(e)}},TM=(n,e)=>e,Uh=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||TM}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<hI(r,i,s)?t:r,c=hI(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=c-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){let T=y<s.length?s[y]:s[y]=0,A=T+y;f<=A&&A<l&&(s[y]=T+1)}let p=o.previousIndex;s[p]=f-l}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!mE(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,c),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,c)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,_P(e,c=>{o=this._trackByFn(i,c),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,c,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,o,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new jh(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new $c),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $c),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},jh=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Bh=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},$c=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Bh,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hI(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function fI(){return new Lf([new Vh])}var Lf=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:fI})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||fI()),deps:[[n,new qh,new It]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function PE(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=_M(r),s=[pM(),...t||[]],c=new Uc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(ye);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(Wt,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:T=>{l.handleError(T)}})});let p=()=>c.destroy(),y=i.get(NE);return y.add(p),c.onDestroy(()=>{f.unsubscribe(),y.delete(p)}),cM(l,u,()=>{let T=c.get(RE);return T.runInitializers(),T.donePromise.then(()=>{let A=c.get(kf,Bc);YP(A||Bc);let R=c.get(go);return e!==void 0&&R.bootstrap(e),R})})})}catch(e){return Promise.reject(e)}}function mo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ME(n){let e=Hn(n);if(!e)return null;let t=new Ci(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var VE=null;function Oi(){return VE}function UE(n){VE??=n}var cu=class{};var ot=new Q(""),$f=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>x(bM),providedIn:"platform"})}}return n})(),jE=new Q(""),bM=(()=>{class n extends $f{constructor(){super(),this._doc=x(ot),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Oi().getBaseHref(this._doc)}onPopState(t){let r=Oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Oi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Hf(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function OE(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function In(n){return n&&n[0]!=="?"?"?"+n:n}var wn=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>x(qf),providedIn:"root"})}}return n})(),BE=new Q(""),qf=(()=>{class n extends wn{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Hf(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+In(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+In(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+In(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(G($f),G(BE,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$E=(()=>{class n extends wn{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Hf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+In(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+In(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(G($f),G(BE,8))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),xi=(()=>{class n{constructor(t){this._subject=new ut,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=SM(OE(xE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+In(r))}normalize(t){return n.stripTrailingSlash(CM(this._basePath,xE(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+In(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+In(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=In}static{this.joinWithSlash=Hf}static{this.stripTrailingSlash=OE}static{this.\u0275fac=function(r){return new(r||n)(G(wn))}}static{this.\u0275prov=$({token:n,factory:()=>DM(),providedIn:"root"})}}return n})();function DM(){return new xi(G(wn))}function CM(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function xE(n){return n.replace(/\/index.html$/,"")}function SM(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function HE(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Ff=/\s+/,kE=[],RW=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=kE,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Ff):kE}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Ff):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Ff).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(xe(Gt),xe(Pi))}}static{this.\u0275dir=Gn({type:n,selectors:[["","ngClass",""]],inputs:{klass:[_t.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Vf=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},NW=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Vf(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),LE(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);LE(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(xe(Yn),xe(Nr),xe(Lf))}}static{this.\u0275dir=Gn({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function LE(n,e){n.context.$implicit=e.item}var PW=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Uf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){FE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){FE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(xe(Yn),xe(Nr))}}static{this.\u0275dir=Gn({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Uf=class{constructor(){this.$implicit=null,this.ngIf=null}};function FE(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${rt(e)}'.`)}var AM=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=co({type:n})}static{this.\u0275inj=oo({})}}return n})(),zf="browser",RM="server";function NM(n){return n===zf}function Wf(n){return n===RM}var qE=(()=>{class n{static{this.\u0275prov=$({token:n,providedIn:"root",factory:()=>NM(x(Kt))?new jf(x(ot),window):new Bf})}}return n})(),jf=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=PM(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function PM(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Bf=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},uu=class{};var Qf=class extends cu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Yf=class n extends Qf{static makeCurrent(){UE(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=OM();return t==null?null:xM(t)}resetBaseElement(){yo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return HE(document.cookie,e)}},yo=null;function OM(){return yo=yo||document.querySelector("base"),yo?yo.getAttribute("href"):null}function xM(n){return new URL(n,document.baseURI).pathname}var kM=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Jf=new Q(""),KE=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(G(Jf),G(ye))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),lu=class{constructor(e){this._doc=e}},Gf="ng-app-id",QE=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wf(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Gf}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Gf),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Gf,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(G(ot),G(ff),G(gf,8),G(Kt))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),Kf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xf=/%COMP%/g,YE="%COMP%",LM=`_nghost-${YE}`,FM=`_ngcontent-${YE}`,VM=!0,UM=new Q("",{providedIn:"root",factory:()=>VM});function jM(n){return FM.replace(Xf,n)}function BM(n){return LM.replace(Xf,n)}function JE(n,e){return e.map(t=>t.replace(Xf,n))}var zE=(()=>{class n{constructor(t,r,i,s,o,c,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Wf(c),this.defaultRenderer=new vo(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ht.ShadowDom&&(r=Se(F({},r),{encapsulation:Ht.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof du?i.applyToHost(t):i instanceof _o&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Ht.Emulated:s=new du(u,l,r,this.appId,f,o,c,p);break;case Ht.ShadowDom:return new Zf(u,l,t,r,o,c,this.nonce,p);default:s=new _o(u,l,r,f,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(G(KE),G(QE),G(ff),G(UM),G(ot),G(Kt),G(ye),G(gf))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),vo=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Kf[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(WE(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(WE(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Kf[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Kf[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(mn.DashCase|mn.Important)?e.style.setProperty(t,r,i&mn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Oi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function WE(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Zf=class extends vo{constructor(e,t,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=JE(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_o=class extends vo{constructor(e,t,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?JE(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},du=class extends _o{constructor(e,t,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,t,r,s,o,c,u,l),this.contentAttr=jM(l),this.hostAttr=BM(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},$M=(()=>{class n extends lu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(G(ot))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})(),GE=["alt","control","meta","shift"],HM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qM={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},zM=(()=>{class n extends lu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Oi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),GE.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=HM[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),GE.forEach(o=>{if(o!==i){let c=qM[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(G(ot))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function nG(n,e){return PE(F({rootComponent:n},WM(e)))}function WM(n){return{appProviders:[...JM,...n?.providers??[]],platformProviders:YM}}function GM(){Yf.makeCurrent()}function KM(){return new Wt}function QM(){return Aw(document),document}var YM=[{provide:Kt,useValue:zf},{provide:pf,useValue:GM,multi:!0},{provide:ot,useFactory:QM,deps:[]}];var JM=[{provide:zc,useValue:"root"},{provide:Wt,useFactory:KM,deps:[]},{provide:Jf,useClass:$M,multi:!0,deps:[ot,ye,Kt]},{provide:Jf,useClass:zM,multi:!0,deps:[ot]},zE,QE,KE,{provide:no,useExisting:zE},{provide:uu,useClass:kM,deps:[]},[]];var ZE=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(G(ot))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var J="primary",ko=Symbol("RouteTitle"),ip=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ui(n){return new ip(n)}function XM(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o.startsWith(":"))i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function eO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yt(n[t],e[t]))return!1;return!0}function Yt(n,e){let t=n?sp(n):void 0,r=e?sp(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!cT(n[i],e[i]))return!1;return!0}function sp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function cT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function uT(n){return n.length>0?n[n.length-1]:null}function tr(n){return Pd(n)?n:po(n)?De(Promise.resolve(n)):B(n)}var tO={exact:dT,subset:hT},lT={exact:nO,subset:rO,ignored:()=>!0};function XE(n,e,t){return tO[t.paths](n.root,e.root,t.matrixParams)&&lT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function nO(n,e){return Yt(n,e)}function dT(n,e,t){if(!kr(n.segments,e.segments)||!pu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!dT(n.children[r],e.children[r],t))return!1;return!0}function rO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cT(n[t],e[t]))}function hT(n,e,t){return fT(n,e,e.segments,t)}function fT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!kr(i,t)||e.hasChildren()||!pu(i,t,r))}else if(n.segments.length===t.length){if(!kr(n.segments,t)||!pu(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!hT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!kr(n.segments,i)||!pu(n.segments,i,r)||!n.children[J]?!1:fT(n.children[J],e,s,r)}}function pu(n,e,t){return e.every((r,i)=>lT[t](n[i].parameters,r.parameters))}var Jn=class{constructor(e=new me([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ui(this.queryParams),this._queryParamMap}toString(){return oO.serialize(this)}},me=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gu(this)}},xr=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ui(this.parameters),this._parameterMap}toString(){return gT(this)}};function iO(n,e){return kr(n,e)&&n.every((t,r)=>Yt(t.parameters,e[r].parameters))}function kr(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function sO(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===J&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==J&&(t=t.concat(e(i,r)))}),t}var Lo=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>new Co,providedIn:"root"})}}return n})(),Co=class{parse(e){let t=new ap(e);return new Jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Io(e.root,!0)}`,r=uO(e.queryParams),i=typeof e.fragment=="string"?`#${aO(e.fragment)}`:"";return`${t}${r}${i}`}},oO=new Co;function gu(n){return n.segments.map(e=>gT(e)).join("/")}function Io(n,e){if(!n.hasChildren())return gu(n);if(e){let t=n.children[J]?Io(n.children[J],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==J&&r.push(`${i}:${Io(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=sO(n,(r,i)=>i===J?[Io(n.children[J],!1)]:[`${i}:${Io(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[J]!=null?`${gu(n)}/${t[0]}`:`${gu(n)}/(${t.join("//")})`}}function pT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hu(n){return pT(n).replace(/%3B/gi,";")}function aO(n){return encodeURI(n)}function op(n){return pT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mu(n){return decodeURIComponent(n)}function eT(n){return mu(n.replace(/\+/g,"%20"))}function gT(n){return`${op(n.path)}${cO(n.parameters)}`}function cO(n){return Object.entries(n).map(([e,t])=>`;${op(e)}=${op(t)}`).join("")}function uO(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${hu(t)}=${hu(i)}`).join("&"):`${hu(t)}=${hu(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var lO=/^[^\/()?;#]+/;function ep(n){let e=n.match(lO);return e?e[0]:""}var dO=/^[^\/()?;=#]+/;function hO(n){let e=n.match(dO);return e?e[0]:""}var fO=/^[^=?&#]+/;function pO(n){let e=n.match(fO);return e?e[0]:""}var gO=/^[^&#]+/;function mO(n){let e=n.match(gO);return e?e[0]:""}var ap=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[J]=new me(e,t)),r}parseSegment(){let e=ep(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new xr(mu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=hO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ep(this.remaining);i&&(r=i,this.capture(r))}e[mu(t)]=mu(r)}parseQueryParam(e){let t=pO(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=mO(this.remaining);o&&(r=o,this.capture(r))}let i=eT(t),s=eT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ep(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=J);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[J]:new me([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function mT(n){return n.segments.length>0?new me([],{[J]:n}):n}function yT(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=yT(i);if(r===J&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new me(n.segments,e);return yO(t)}function yO(n){if(n.numberOfChildren===1&&n.children[J]){let e=n.children[J];return new me(n.segments.concat(e.segments),e.children)}return n}function ji(n){return n instanceof Jn}function vO(n,e,t=null,r=null){let i=vT(n);return _T(i,e,t,r)}function vT(n){let e;function t(s){let o={};for(let u of s.children){let l=t(u);o[u.outlet]=l}let c=new me(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=mT(r);return e??i}function _T(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return tp(i,i,i,t,r);let s=_O(e);if(s.toRoot())return tp(i,i,new me([],{}),t,r);let o=IO(s,i,n),c=o.processChildren?To(o.segmentGroup,o.index,s.commands):wT(o.segmentGroup,o.index,s.commands);return tp(i,o.segmentGroup,c,t,r)}function yu(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function So(n){return typeof n=="object"&&n!=null&&n.outlets}function tp(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;n===e?o=t:o=IT(n,e,t);let c=mT(yT(o));return new Jn(c,s,i)}function IT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=IT(s,e,t)}),new me(n.segments,r)}var vu=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&yu(r[0]))throw new H(4003,!1);let i=r.find(So);if(i&&i!==uT(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _O(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new vu(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new vu(t,e,r)}var Fi=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function IO(n,e,t){if(n.isAbsolute)return new Fi(e,!0,0);if(!t)return new Fi(e,!1,NaN);if(t.parent===null)return new Fi(t,!0,0);let r=yu(n.commands[0])?0:1,i=t.segments.length-1+r;return wO(t,i,n.numberOfDoubleDots)}function wO(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new Fi(r,!1,i-s)}function EO(n){return So(n[0])?n[0].outlets:{[J]:n}}function wT(n,e,t){if(n??=new me([],{}),n.segments.length===0&&n.hasChildren())return To(n,e,t);let r=TO(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new me(n.segments.slice(0,r.pathIndex),{});return s.children[J]=new me(n.segments.slice(r.pathIndex),n.children),To(s,0,i)}else return r.match&&i.length===0?new me(n.segments,{}):r.match&&!n.hasChildren()?cp(n,e,t):r.match?To(n,0,i):cp(n,e,t)}function To(n,e,t){if(t.length===0)return new me(n.segments,{});{let r=EO(t),i={};if(Object.keys(r).some(s=>s!==J)&&n.children[J]&&n.numberOfChildren===1&&n.children[J].segments.length===0){let s=To(n.children[J],e,t);return new me(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=wT(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new me(n.segments,i)}}function TO(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if(So(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!nT(u,l,o))return s;r+=2}else{if(!nT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function cp(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(So(s)){let u=bO(s.outlets);return new me(r,u)}if(i===0&&yu(t[0])){let u=n.segments[e];r.push(new xr(u.path,tT(t[0]))),i++;continue}let o=So(s)?s.outlets[J]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&yu(c)?(r.push(new xr(o,tT(c))),i+=2):(r.push(new xr(o,{})),i++)}return new me(r,{})}function bO(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=cp(new me([],{}),0,r))}),e}function tT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function nT(n,e,t){return n==t.path&&Yt(e,t.parameters)}var bo="imperative",Be=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Be||{}),bt=class{constructor(e,t){this.id=e,this.url=t}},Bi=class extends bt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Be.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Lt=class extends bt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Be.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ft=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ft||{}),_u=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(_u||{}),Zn=class extends bt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Be.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xn=class extends bt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Be.NavigationSkipped}},Ao=class extends bt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Be.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Iu=class extends bt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Be.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},up=class extends bt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Be.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lp=class extends bt{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Be.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dp=class extends bt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Be.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hp=class extends bt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Be.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fp=class{constructor(e){this.route=e,this.type=Be.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pp=class{constructor(e){this.route=e,this.type=Be.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gp=class{constructor(e){this.snapshot=e,this.type=Be.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mp=class{constructor(e){this.snapshot=e,this.type=Be.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yp=class{constructor(e){this.snapshot=e,this.type=Be.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vp=class{constructor(e){this.snapshot=e,this.type=Be.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wu=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Be.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ro=class{},No=class{constructor(e){this.url=e}};var _p=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fo,this.attachRef=null}},Fo=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _p,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Eu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ip(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ip(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=wp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wp(e,this._root).map(t=>t.value)}};function Ip(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ip(n,t);if(r)return r}return null}function wp(n,e){if(n===e.value)return[e];for(let t of e.children){let r=wp(n,t);if(r.length)return r.unshift(e),r}return[]}var ht=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Li(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Tu=class extends Eu{constructor(e,t){super(e),this.snapshot=t,Pp(this,e)}toString(){return this.snapshot.toString()}};function ET(n){let e=DO(n),t=new ze([new xr("",{})]),r=new ze({}),i=new ze({}),s=new ze({}),o=new ze(""),c=new er(t,r,s,o,i,J,n,e.root);return c.snapshot=e.root,new Tu(new ht(c,[]),e)}function DO(n){let e={},t={},r={},i="",s=new Po([],e,r,i,t,J,n,null,{});return new bu("",new ht(s,[]))}var er=class{constructor(e,t,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ae(l=>l[ko]))??B(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>Ui(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>Ui(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Np(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),n.params),data:F(F({},e.data),n.data),resolve:F(F(F(F({},n.data),e.data),i?.data),n._resolvedData)}:r={params:F({},n.params),data:F({},n.data),resolve:F(F({},n.data),n._resolvedData??{})},i&&bT(i)&&(r.resolve[ko]=i.title),r}var Po=class{get title(){return this.data?.[ko]}constructor(e,t,r,i,s,o,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ui(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ui(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},bu=class extends Eu{constructor(e,t){super(t),this.url=e,Pp(this,t)}toString(){return TT(this._root)}};function Pp(n,e){e.value._routerState=n,e.children.forEach(t=>Pp(n,t))}function TT(n){let e=n.children.length>0?` { ${n.children.map(TT).join(", ")} } `:"";return`${n.value}${e}`}function np(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yt(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Yt(e.params,t.params)||n.paramsSubject.next(t.params),eO(e.url,t.url)||n.urlSubject.next(t.url),Yt(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ep(n,e){let t=Yt(n.params,e.params)&&iO(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ep(n.parent,e.parent))}function bT(n){return typeof n.title=="string"||n.title===null}var CO=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new ut,this.deactivateEvents=new ut,this.attachEvents=new ut,this.detachEvents=new ut,this.parentContexts=x(Fo),this.location=x(Yn),this.changeDetector=x(Mi),this.environmentInjector=x(st),this.inputBinder=x(Au,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Tp(t,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Gn({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ri]})}}return n})(),Tp=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===er?this.route:e===Fo?this.childContexts:this.parent.get(e,t)}},Au=new Q(""),rT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=zs([r.queryParams,r.params,r.data]).pipe(mt(([s,o,c],u)=>(c=F(F(F({},s),o),c),u===0?B(c):Promise.resolve(c)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=ME(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of o.inputs)t.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function SO(n,e,t){let r=Mo(n,e._root,t?t._root:void 0);return new Tu(r,e)}function Mo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=AO(n,e,t);return new ht(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Mo(n,c)),o}}let r=RO(e.value),i=e.children.map(s=>Mo(n,s));return new ht(r,i)}}function AO(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Mo(n,r,i);return Mo(n,r)})}function RO(n){return new er(new ze(n.url),new ze(n.params),new ze(n.queryParams),new ze(n.fragment),new ze(n.data),n.outlet,n.component,n)}var DT="ngNavigationCancelingError";function CT(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ji(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ST(!1,ft.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ST(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[DT]=!0,t.cancellationCode=e,t}function NO(n){return AT(n)&&ji(n.url)}function AT(n){return!!n&&n[DT]}var PO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=PI({type:n,selectors:[["ng-component"]],standalone:!0,features:[DE],decls:1,vars:0,template:function(r,i){r&1&&Of(0,"router-outlet")},dependencies:[CO],encapsulation:2})}}return n})();function MO(n,e){return n.providers&&!n._injector&&(n._injector=tu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Mp(n){let e=n.children&&n.children.map(Mp),t=e?Se(F({},n),{children:e}):F({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==J&&(t.component=PO),t}function Jt(n){return n.outlet||J}function OO(n,e){let t=n.filter(r=>Jt(r)===e);return t.push(...n.filter(r=>Jt(r)!==e)),t}function Vo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var xO=(n,e,t,r)=>ae(i=>(new bp(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),bp=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),np(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Li(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Li(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Li(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Li(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new vp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(np(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),np(c.route.value),this.activateChildRoutes(e,null,o.children)}else{let c=Vo(i.snapshot);o.attachRef=null,o.route=i,o.injector=c,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Du=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Vi=class{constructor(e,t){this.component=e,this.route=t}};function kO(n,e,t){let r=n._root,i=e?e._root:null;return wo(r,i,t,[r.value])}function LO(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Hi(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!vI(n)?n:e.get(n):r}function wo(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Li(e);return n.children.forEach(o=>{FO(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Do(c,t.getContext(o),i)),i}function FO(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=VO(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Du(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?wo(n,e,c?c.children:null,r,i):wo(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Vi(c.outlet.component,o))}else o&&Do(e,c,i),i.canActivateChecks.push(new Du(r)),s.component?wo(n,null,c?c.children:null,r,i):wo(n,null,t,r,i);return i}function VO(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!kr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!kr(n.url,e.url)||!Yt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ep(n,e)||!Yt(n.queryParams,e.queryParams);case"paramsChange":default:return!Ep(n,e)}}function Do(n,e,t){let r=Li(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Do(o,e.children.getContext(s),t):Do(o,null,t):Do(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Vi(e.outlet.component,i)):t.canDeactivateChecks.push(new Vi(null,i)):t.canDeactivateChecks.push(new Vi(null,i))}function Uo(n){return typeof n=="function"}function UO(n){return typeof n=="boolean"}function jO(n){return n&&Uo(n.canLoad)}function BO(n){return n&&Uo(n.canActivate)}function $O(n){return n&&Uo(n.canActivateChild)}function HO(n){return n&&Uo(n.canDeactivate)}function qO(n){return n&&Uo(n.canMatch)}function RT(n){return n instanceof fn||n?.name==="EmptyError"}var fu=Symbol("INITIAL_VALUE");function $i(){return mt(n=>zs(n.map(e=>e.pipe(pn(1),kd(fu)))).pipe(ae(e=>{for(let t of e)if(t!==!0){if(t===fu)return fu;if(t===!1||t instanceof Jn)return t}return!0}),gt(e=>e!==fu),pn(1)))}function zO(n,e){return Oe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?B(Se(F({},t),{guardsResult:!0})):WO(o,r,i,n).pipe(Oe(c=>c&&UO(c)?GO(r,s,n,e):B(c)),ae(c=>Se(F({},t),{guardsResult:c})))})}function WO(n,e,t,r){return De(n).pipe(Oe(i=>ZO(i.component,i.route,t,e,r)),jt(i=>i!==!0,!0))}function GO(n,e,t,r){return De(e).pipe(wr(i=>hi(QO(i.route.parent,r),KO(i.route,r),JO(n,i.path,t),YO(n,i.route,t))),jt(i=>i!==!0,!0))}function KO(n,e){return n!==null&&e&&e(new yp(n)),B(!0)}function QO(n,e){return n!==null&&e&&e(new gp(n)),B(!0)}function YO(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let i=r.map(s=>fc(()=>{let o=Vo(e)??t,c=Hi(s,o),u=BO(c)?c.canActivate(e,n):yn(o,()=>c(e,n));return tr(u).pipe(jt())}));return B(i).pipe($i())}function JO(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>LO(o)).filter(o=>o!==null).map(o=>fc(()=>{let c=o.guards.map(u=>{let l=Vo(o.node)??t,f=Hi(u,l),p=$O(f)?f.canActivateChild(r,n):yn(l,()=>f(r,n));return tr(p).pipe(jt())});return B(c).pipe($i())}));return B(s).pipe($i())}function ZO(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return B(!0);let o=s.map(c=>{let u=Vo(e)??i,l=Hi(c,u),f=HO(l)?l.canDeactivate(n,e,t,r):yn(u,()=>l(n,e,t,r));return tr(f).pipe(jt())});return B(o).pipe($i())}function XO(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return B(!0);let s=i.map(o=>{let c=Hi(o,n),u=jO(c)?c.canLoad(e,t):yn(n,()=>c(e,t));return tr(u)});return B(s).pipe($i(),NT(r))}function NT(n){return Dd(Fe(e=>{if(ji(e))throw CT(n,e)}),ae(e=>e===!0))}function ex(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return B(!0);let s=i.map(o=>{let c=Hi(o,n),u=qO(c)?c.canMatch(e,t):yn(n,()=>c(e,t));return tr(u)});return B(s).pipe($i(),NT(r))}var Oo=class{constructor(e){this.segmentGroup=e||null}},Cu=class extends Error{constructor(e){super(),this.urlTree=e}};function ki(n){return di(new Oo(n))}function tx(n){return di(new H(4e3,!1))}function nx(n){return di(ST(!1,ft.GuardRejected))}var Dp=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return B(r);if(i.numberOfChildren>1||!i.children[J])return tx(e.redirectTo);i=i.children[J]}}applyRedirectCommands(e,t,r){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new Cu(i);return i}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new Jn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new me(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Cp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rx(n,e,t,r,i){let s=Op(n,e,t);return s.matched?(r=MO(e,r),ex(r,e,t,i).pipe(ae(o=>o===!0?s:F({},Cp)))):B(s)}function Op(n,e,t){if(e.path==="**")return ix(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?F({},Cp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||XM)(t,n,e);if(!i)return F({},Cp);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ix(n){return{matched:!0,parameters:n.length>0?uT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function iT(n,e,t,r){return t.length>0&&ax(n,t,r)?{segmentGroup:new me(e,ox(r,new me(t,n.children))),slicedSegments:[]}:t.length===0&&cx(n,t,r)?{segmentGroup:new me(n.segments,sx(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new me(n.segments,n.children),slicedSegments:t}}function sx(n,e,t,r){let i={};for(let s of t)if(Ru(n,e,s)&&!r[Jt(s)]){let o=new me([],{});i[Jt(s)]=o}return F(F({},r),i)}function ox(n,e){let t={};t[J]=e;for(let r of n)if(r.path===""&&Jt(r)!==J){let i=new me([],{});t[Jt(r)]=i}return t}function ax(n,e,t){return t.some(r=>Ru(n,e,r)&&Jt(r)!==J)}function cx(n,e,t){return t.some(r=>Ru(n,e,r))}function Ru(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function ux(n,e,t,r){return Jt(n)!==r&&(r===J||!Ru(e,t,n))?!1:Op(e,n,t).matched}function lx(n,e,t){return e.length===0&&!n.children[t]}var Sp=class{};function dx(n,e,t,r,i,s,o="emptyOnly"){return new Ap(n,e,t,r,i,o,s).recognize()}var hx=31,Ap=class{constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Dp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=iT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(t=>{let r=new Po([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,{},J,this.rootComponentType,null,{}),i=new ht(r,t),s=new bu("",i),o=vO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,J).pipe(Un(r=>{if(r instanceof Cu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Oo?this.noMatchError(r):r}))}inheritParamsAndData(e,t){let r=e.value,i=Np(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,t,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(ae(s=>s instanceof ht?[s]:[]))}processChildren(e,t,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return De(i).pipe(wr(s=>{let o=r.children[s],c=OO(t,s);return this.processSegmentGroup(e,c,o,s)}),xd((s,o)=>(s.push(...o),s)),jn(null),Od(),Oe(s=>{if(s===null)return ki(r);let o=PT(s);return fx(o),B(o)}))}processSegment(e,t,r,i,s,o){return De(t).pipe(wr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o).pipe(Un(u=>{if(u instanceof Oo)return B(null);throw u}))),jt(c=>!!c),Un(c=>{if(RT(c))return lx(r,i,s)?B(new Sp):ki(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,c){return ux(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):ki(i):ki(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=Op(t,i,s);if(!c)return ki(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hx&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Oe(y=>this.processSegment(e,r,t,y.concat(f),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){let o=rx(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),o.pipe(mt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(mt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:y}=c,T=new Po(f,y,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,gx(r),Jt(r),r.component??r._loadedComponent??null,r,mx(r)),{segmentGroup:A,slicedSegments:R}=iT(t,f,p,u);if(R.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(ae(k=>k===null?null:new ht(T,k)));if(u.length===0&&R.length===0)return B(new ht(T,[]));let N=Jt(r)===s;return this.processSegment(l,u,A,R,N?J:s,!0).pipe(ae(k=>new ht(T,k instanceof ht?[k]:[])))}))):ki(t)))}getChildConfig(e,t,r){return t.children?B({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?B({routes:t._loadedRoutes,injector:t._loadedInjector}):XO(e,t,r,this.urlSerializer).pipe(Oe(i=>i?this.configLoader.loadChildren(e,t).pipe(Fe(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):nx(t))):B({routes:[],injector:e})}};function fx(n){n.sort((e,t)=>e.value.outlet===J?-1:t.value.outlet===J?1:e.value.outlet.localeCompare(t.value.outlet))}function px(n){let e=n.value.routeConfig;return e&&e.path===""}function PT(n){let e=[],t=new Set;for(let r of n){if(!px(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=PT(r.children);e.push(new ht(r.value,i))}return e.filter(r=>!t.has(r))}function gx(n){return n.data||{}}function mx(n){return n.resolve||{}}function yx(n,e,t,r,i,s){return Oe(o=>dx(n,e,t,r,o.extractedUrl,i,s).pipe(ae(({state:c,tree:u})=>Se(F({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function vx(n,e){return Oe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return B(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of MT(u))o.add(l);let c=0;return De(o).pipe(wr(u=>s.has(u)?_x(u,r,n,e):(u.data=Np(u,u.parent,n).resolve,B(void 0))),Fe(()=>c++),fi(1),Oe(u=>c===o.size?B(t):ct))})}function MT(n){let e=n.children.map(t=>MT(t)).flat();return[n,...e]}function _x(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!bT(i)&&(s[ko]=i.title),Ix(s,n,e,r).pipe(ae(o=>(n._resolvedData=o,n.data=Np(n,n.parent,t).resolve,null)))}function Ix(n,e,t,r){let i=sp(n);if(i.length===0)return B({});let s={};return De(i).pipe(Oe(o=>wx(n[o],e,t,r).pipe(jt(),Fe(c=>{s[o]=c}))),fi(1),Md(s),Un(o=>RT(o)?ct:di(o)))}function wx(n,e,t,r){let i=Vo(e)??r,s=Hi(n,i),o=s.resolve?s.resolve(e,t):yn(i,()=>s(e,t));return tr(o)}function rp(n){return mt(e=>{let t=n(e);return t?De(t).pipe(ae(()=>e)):B(e)})}var OT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===J);return r}getResolvedTitleForRoute(t){return t.data[ko]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>x(Ex),providedIn:"root"})}}return n})(),Ex=(()=>{class n extends OT{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(G(ZE))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jo=new Q("",{providedIn:"root",factory:()=>({})}),xo=new Q(""),xp=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(ou)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return B(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=tr(t.loadComponent()).pipe(ae(xT),Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ws(()=>{this.componentLoaders.delete(t)})),i=new oi(r,()=>new Ue).pipe(si());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Tx(r,this.compiler,t,this.onLoadEndListener).pipe(Ws(()=>{this.childrenLoaders.delete(r)})),o=new oi(s,()=>new Ue).pipe(si());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Tx(n,e,t,r){return tr(n.loadChildren()).pipe(ae(xT),Oe(i=>i instanceof ro||Array.isArray(i)?B(i):De(e.compileModuleAsync(i))),ae(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(xo,[],{optional:!0,self:!0}).flat()),{routes:o.map(Mp),injector:s}}))}function bx(n){return n&&typeof n=="object"&&"default"in n}function xT(n){return bx(n)?n.default:n}var kp=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>x(Dx),providedIn:"root"})}}return n})(),Dx=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kT=new Q(""),LT=new Q("");function Cx(n,e,t){let r=n.get(LT),i=n.get(ot);return n.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),Sx(n))),{onViewTransitionCreated:u}=r;return u&&yn(n,()=>u({transition:c,from:e,to:t})),o})}function Sx(n){return new Promise(e=>{eu(e,{injector:n})})}var Lp=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ue,this.transitionAbortSubject=new Ue,this.configLoader=x(xp),this.environmentInjector=x(st),this.urlSerializer=x(Lo),this.rootContexts=x(Fo),this.location=x(xi),this.inputBindingEnabled=x(Au,{optional:!0})!==null,this.titleStrategy=x(OT),this.options=x(jo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(kp),this.createViewTransition=x(kT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>B(void 0),this.rootComponentType=null;let t=i=>this.events.next(new fp(i)),r=i=>this.events.next(new pp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Se(F(F({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new ze({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:bo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gt(s=>s.id!==0),ae(s=>Se(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),mt(s=>{let o=!1,c=!1;return B(s).pipe(mt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ft.SupersededByNewNavigation),ct;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Se(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new Xn(u.id,this.urlSerializer.serialize(u.rawUrl),p,_u.IgnoredSameUrlNavigation)),u.resolve(null),ct}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return B(u).pipe(mt(p=>{let y=this.transitions?.getValue();return this.events.next(new Bi(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?ct:Promise.resolve(p)}),yx(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Se(F({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new Iu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:T,restoredState:A,extras:R}=u,N=new Bi(p,this.urlSerializer.serialize(y),T,A);this.events.next(N);let k=ET(this.rootComponentType).snapshot;return this.currentTransition=s=Se(F({},u),{targetSnapshot:k,urlAfterRedirects:y,extras:Se(F({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,B(s)}else{let p="";return this.events.next(new Xn(u.id,this.urlSerializer.serialize(u.extractedUrl),p,_u.IgnoredByUrlHandlingStrategy)),u.resolve(null),ct}}),Fe(u=>{let l=new up(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ae(u=>(this.currentTransition=s=Se(F({},u),{guards:kO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),zO(this.environmentInjector,u=>this.events.next(u)),Fe(u=>{if(s.guardsResult=u.guardsResult,ji(u.guardsResult))throw CT(this.urlSerializer,u.guardsResult);let l=new lp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),gt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ft.GuardRejected),!1)),rp(u=>{if(u.guards.canActivateChecks.length)return B(u).pipe(Fe(l=>{let f=new dp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),mt(l=>{let f=!1;return B(l).pipe(vx(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",ft.NoDataFromResolver)}}))}),Fe(l=>{let f=new hp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),rp(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Fe(y=>{f.component=y}),ae(()=>{})));for(let y of f.children)p.push(...l(y));return p};return zs(l(u.targetSnapshot.root)).pipe(jn(null),pn(1))}),rp(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?De(f).pipe(ae(()=>s)):B(s)}),ae(u=>{let l=SO(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Se(F({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Fe(()=>{this.events.next(new Ro)}),xO(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),pn(1),Fe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Lt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Ld(this.transitionAbortSubject.pipe(Fe(u=>{throw u}))),Ws(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",ft.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Un(u=>{if(c=!0,AT(u))this.events.next(new Zn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),NO(u)?this.events.next(new No(u.url)):s.resolve(!1);else{this.events.next(new Ao(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return ct}))}))}cancelNavigationTransition(t,r,i){let s=new Zn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ax(n){return n!==bo}var Rx=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>x(Nx),providedIn:"root"})}}return n})(),Rp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Nx=(()=>{class n extends Rp{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=lf(n)))(i||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:()=>x(Px),providedIn:"root"})}}return n})(),Px=(()=>{class n extends FT{constructor(){super(...arguments),this.location=x(xi),this.urlSerializer=x(Lo),this.options=x(jo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(kp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ET(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Bi)this.stateMemento=this.createStateMemento();else if(t instanceof Xn)this.rawUrlTree=r.initialUrl;else if(t instanceof Iu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof Ro?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof Zn&&(t.code===ft.GuardRejected||t.code===ft.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ao?this.restoreHistory(r,!0):t instanceof Lt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=F(F({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=F(F({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=lf(n)))(i||n)}})()}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Eo=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Eo||{});function VT(n,e){n.events.pipe(gt(t=>t instanceof Lt||t instanceof Zn||t instanceof Ao||t instanceof Xn),ae(t=>t instanceof Lt||t instanceof Xn?Eo.COMPLETE:(t instanceof Zn?t.code===ft.Redirect||t.code===ft.SupersededByNewNavigation:!1)?Eo.REDIRECTING:Eo.FAILED),gt(t=>t!==Eo.REDIRECTING),pn(1)).subscribe(()=>{e()})}function Mx(n){throw n}var Ox={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Zt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=x(ru),this.stateManager=x(FT),this.options=x(jo,{optional:!0})||{},this.pendingTasks=x(nu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Lp),this.urlSerializer=x(Lo),this.location=x(xi),this.urlHandlingStrategy=x(kp),this._events=new Ue,this.errorHandler=this.options.errorHandler||Mx,this.navigated=!1,this.routeReuseStrategy=x(Rx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(xo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(Au,{optional:!0}),this.eventsSubscription=new Ne,this.isNgZoneEnabled=x(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Zn&&r.code!==ft.Redirect&&r.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Lt)this.navigated=!0;else if(r instanceof No){let o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Ax(i.source)};this.scheduleNavigation(o,bo,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Lx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=F({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Mp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,f=null;switch(c){case"merge":f=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=vT(y)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return _T(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ji(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,bo,null,r)}navigate(t,r={skipLocationChange:!1}){return kx(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=F({},Ox):r===!1?i=F({},xx):i=r,ji(t))return XE(this.currentUrlTree,t,i);let s=this.parseUrl(t);return XE(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,y)=>{c=p,u=y});let f=this.pendingTasks.add();return VT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kx(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}function Lx(n){return!(n instanceof Ro)&&!(n instanceof No)}var sT=(()=>{class n{constructor(t,r,i,s,o,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Ue,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Lt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Pw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(xe(Zt),xe(er),df("tabindex"),xe(Pi),xe(Gt),xe(wn))}}static{this.\u0275dir=Gn({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&xf("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Mf("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[_t.HasDecoratorInputTransform,"preserveFragment","preserveFragment",mo],skipLocationChange:[_t.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",mo],replaceUrl:[_t.HasDecoratorInputTransform,"replaceUrl","replaceUrl",mo],routerLink:"routerLink"},standalone:!0,features:[Pf,Ri]})}}return n})(),IG=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ut,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof Lt&&this.update()})}ngAfterContentInit(){B(this.links.changes,B(null)).pipe(Vn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=De(t).pipe(Vn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=Fx(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(xe(Zt),xe(Gt),xe(Pi),xe(Mi),xe(sT,8))}}static{this.\u0275dir=Gn({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&wE(s,sT,5),r&2){let o;EE(o=TE())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ri]})}}return n})();function Fx(n){return!!n.paths}var Su=class{};var Vx=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(gt(t=>t instanceof Lt),wr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=tu(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return De(i).pipe(Vn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=B(null);let s=i.pipe(Oe(o=>o===null?B(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return De([s,o]).pipe(Vn())}else return s})}static{this.\u0275fac=function(r){return new(r||n)(G(Zt),G(ou),G(st),G(Su),G(xp))}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UT=new Q(""),Ux=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=x(st),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Bi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Lt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Xn&&t.code===_u.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wu&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>I(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),eu(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new wu(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){Hw()}}static{this.\u0275prov=$({token:n,factory:n.\u0275fac})}}return n})();function wG(n,...e){return Kn([{provide:xo,multi:!0,useValue:n},[],{provide:er,useFactory:jT,deps:[Zt]},{provide:su,multi:!0,useFactory:BT},e.map(t=>t.\u0275providers)])}function jT(n){return n.routerState.root}function Bo(n,e){return{\u0275kind:n,\u0275providers:e}}function BT(){let n=x(Tt);return e=>{let t=n.get(go);if(e!==t.components[0])return;let r=n.get(Zt),i=n.get($T);n.get(Fp)===1&&r.initialNavigation(),n.get(HT,null,re.Optional)?.setUpPreloading(),n.get(UT,null,re.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var $T=new Q("",{factory:()=>new Ue}),Fp=new Q("",{providedIn:"root",factory:()=>1});function jx(){return Bo(2,[{provide:Fp,useValue:0},{provide:iu,multi:!0,deps:[Tt],useFactory:e=>{let t=e.get(jE,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Zt),s=e.get($T);VT(i,()=>{r(!0)}),e.get(Lp).afterPreactivation=()=>(r(!0),s.closed?B(void 0):s),i.initialNavigation()}))}}])}function Bx(){return Bo(3,[{provide:iu,multi:!0,useFactory:()=>{let e=x(Zt);return()=>{e.setUpLocationChangeListener()}}},{provide:Fp,useValue:2}])}var HT=new Q("");function $x(n){return Bo(0,[{provide:HT,useExisting:Vx},{provide:Su,useExisting:n}])}function Hx(){return Bo(8,[rT,{provide:Au,useExisting:rT}])}function qx(n){let e=[{provide:kT,useValue:Cx},{provide:LT,useValue:F({skipNextTransition:!!n?.skipInitialTransition},n)}];return Bo(9,e)}var oT=new Q("ROUTER_FORROOT_GUARD"),zx=[xi,{provide:Lo,useClass:Co},Zt,Fo,{provide:er,useFactory:jT,deps:[Zt]},xp,[]],EG=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[zx,[],{provide:xo,multi:!0,useValue:t},{provide:oT,useFactory:Qx,deps:[[Zt,new It,new qh]]},{provide:jo,useValue:r||{}},r?.useHash?Gx():Kx(),Wx(),r?.preloadingStrategy?$x(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Yx(r):[],r?.bindToComponentInputs?Hx().\u0275providers:[],r?.enableViewTransitions?qx().\u0275providers:[],Jx()]}}static forChild(t){return{ngModule:n,providers:[{provide:xo,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(G(oT,8))}}static{this.\u0275mod=co({type:n})}static{this.\u0275inj=oo({})}}return n})();function Wx(){return{provide:UT,useFactory:()=>{let n=x(qE),e=x(ye),t=x(jo),r=x(Lp),i=x(Lo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Ux(i,r,n,e,t)}}}function Gx(){return{provide:wn,useClass:$E}}function Kx(){return{provide:wn,useClass:qf}}function Qx(n){return"guarded"}function Yx(n){return[n.initialNavigation==="disabled"?Bx().\u0275providers:[],n.initialNavigation==="enabledBlocking"?jx().\u0275providers:[]]}var aT=new Q("");function Jx(){return[{provide:aT,useFactory:BT},{provide:su,multi:!0,useExisting:aT}]}var zT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Zx=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},WT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,T=l&63;u||(T=64,o||(y=64)),r.push(t[f],t[p],t[y],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Zx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new Up;let y=s<<2|c>>4;if(r.push(y),l!==64){let T=c<<4&240|l>>2;if(r.push(T),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Up=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Xx=function(n){let e=zT(n);return WT.encodeByteArray(e,!0)},$o=function(n){return Xx(n).replace(/\./g,"")},Bp=function(n){try{return WT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ek(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var tk=()=>ek().__FIREBASE_DEFAULTS__,nk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Bp(n[1]);return e&&JSON.parse(e)},Pu=()=>{try{return tk()||nk()||rk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},GT=n=>{var e,t;return(t=(e=Pu())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},KT=n=>{let e=GT(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},$p=()=>{var n;return(n=Pu())===null||n===void 0?void 0:n.config},QT=n=>{var e;return(e=Pu())===null||e===void 0?void 0:e[`_${n}`]};var Nu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function YT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$o(JSON.stringify(t)),$o(JSON.stringify(o)),""].join(".")}function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function ik(){var n;let e=(n=Pu())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XT(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tb(){return!ik()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hp(){try{return typeof indexedDB=="object"}catch{return!1}}function nb(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function DG(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var sk="FirebaseError",Dt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=sk,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}},En=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ok(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Dt(i,c,r)}};function ok(n,e){return n.replace(ak,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ak=/\{\$([^}]+)}/g;function qi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(qT(s)&&qT(o)){if(!qi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function qT(n){return n!==null&&typeof n=="object"}function qp(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rb(n,e){let t=new jp(n,e);return t.subscribe.bind(t)}var jp=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");ck(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Vp),i.error===void 0&&(i.error=Vp),i.complete===void 0&&(i.complete=Vp);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ck(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Vp(){}var uk=1e3,lk=2,dk=4*60*60*1e3,hk=.5;function CG(n,e=uk,t=lk){let r=e*Math.pow(t,n),i=Math.round(hk*r*(Math.random()-.5)*2);return Math.min(dk,r+i)}function nr(n){return n&&n._delegate?n._delegate:n}var Ct=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Lr="[DEFAULT]";var zp=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Nu;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pk(e))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Lr){return this.instances.has(e)}getOptions(e=Lr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lr){return this.component?this.component.multipleInstances?e:Lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function fk(n){return n===Lr?void 0:n}function pk(n){return n.instantiationMode==="EAGER"}var Mu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new zp(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var gk=[],oe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(oe||{}),mk={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},yk=oe.INFO,vk={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},_k=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=vk[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},rr=class{constructor(e){this.name=e,this._logLevel=yk,this._logHandler=_k,this._userLogHandler=null,gk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}};var Ik=(n,e)=>e.some(t=>n instanceof t),ib,sb;function wk(){return ib||(ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ek(){return sb||(sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ob=new WeakMap,Gp=new WeakMap,ab=new WeakMap,Wp=new WeakMap,Qp=new WeakMap;function Tk(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Xt(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&ob.set(t,n)}).catch(()=>{}),Qp.set(e,n),e}function bk(n){if(Gp.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Gp.set(n,e)}var Kp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ab.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cb(n){Kp=n(Kp)}function Dk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ou(this),e,...t);return ab.set(r,e.sort?e.sort():[e]),Xt(r)}:Ek().includes(n)?function(...e){return n.apply(Ou(this),e),Xt(ob.get(this))}:function(...e){return Xt(n.apply(Ou(this),e))}}function Ck(n){return typeof n=="function"?Dk(n):(n instanceof IDBTransaction&&bk(n),Ik(n,wk())?new Proxy(n,Kp):n)}function Xt(n){if(n instanceof IDBRequest)return Tk(n);if(Wp.has(n))return Wp.get(n);let e=Ck(n);return e!==n&&(Wp.set(n,e),Qp.set(e,n)),e}var Ou=n=>Qp.get(n);function xu(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=Xt(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Xt(o.result),u.oldVersion,u.newVersion,Xt(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var Sk=["get","getKey","getAll","getAllKeys","count"],Ak=["put","add","delete","clear"],Yp=new Map;function ub(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Ak.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sk.includes(t)))return;let s=function(o,...c){return I(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return Yp.set(e,s),s}cb(n=>Se(F({},n),{get:(e,t,r)=>ub(e,t)||n.get(e,t,r),has:(e,t)=>!!ub(e,t)||n.has(e,t)}));var Zp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Rk(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Rk(n){let e=n.getComponent();return e?.type==="VERSION"}var Xp="@firebase/app",lb="0.10.13";var Tn=new rr("@firebase/app"),Nk="@firebase/app-compat",Pk="@firebase/analytics-compat",Mk="@firebase/analytics",Ok="@firebase/app-check-compat",xk="@firebase/app-check",kk="@firebase/auth",Lk="@firebase/auth-compat",Fk="@firebase/database",Vk="@firebase/data-connect",Uk="@firebase/database-compat",jk="@firebase/functions",Bk="@firebase/functions-compat",$k="@firebase/installations",Hk="@firebase/installations-compat",qk="@firebase/messaging",zk="@firebase/messaging-compat",Wk="@firebase/performance",Gk="@firebase/performance-compat",Kk="@firebase/remote-config",Qk="@firebase/remote-config-compat",Yk="@firebase/storage",Jk="@firebase/storage-compat",Zk="@firebase/firestore",Xk="@firebase/vertexai-preview",eL="@firebase/firestore-compat",tL="firebase",nL="10.14.1";var eg="[DEFAULT]",rL={[Xp]:"fire-core",[Nk]:"fire-core-compat",[Mk]:"fire-analytics",[Pk]:"fire-analytics-compat",[xk]:"fire-app-check",[Ok]:"fire-app-check-compat",[kk]:"fire-auth",[Lk]:"fire-auth-compat",[Fk]:"fire-rtdb",[Vk]:"fire-data-connect",[Uk]:"fire-rtdb-compat",[jk]:"fire-fn",[Bk]:"fire-fn-compat",[$k]:"fire-iid",[Hk]:"fire-iid-compat",[qk]:"fire-fcm",[zk]:"fire-fcm-compat",[Wk]:"fire-perf",[Gk]:"fire-perf-compat",[Kk]:"fire-rc",[Qk]:"fire-rc-compat",[Yk]:"fire-gcs",[Jk]:"fire-gcs-compat",[Zk]:"fire-fst",[eL]:"fire-fst-compat",[Xk]:"fire-vertex","fire-js":"fire-js",[tL]:"fire-js-all"};var Ho=new Map,iL=new Map,tg=new Map;function db(n,e){try{n.container.addComponent(e)}catch(t){Tn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function sr(n){let e=n.name;if(tg.has(e))return Tn.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,n);for(let t of Ho.values())db(t,n);for(let t of iL.values())db(t,n);return!0}function sg(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zi(n){return n.settings!==void 0}var sL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new En("app","Firebase",sL);var ng=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}};var Wi=nL;function og(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:eg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ir.create("bad-app-name",{appName:String(i)});if(t||(t=$p()),!t)throw ir.create("no-options");let s=Ho.get(i);if(s){if(qi(t,s.options)&&qi(r,s.config))return s;throw ir.create("duplicate-app",{appName:i})}let o=new Mu(i);for(let u of tg.values())o.addComponent(u);let c=new ng(t,r,o);return Ho.set(i,c),c}function zo(n=eg){let e=Ho.get(n);if(!e&&n===eg&&$p())return og();if(!e)throw ir.create("no-app",{appName:n});return e}function ku(){return Array.from(Ho.values())}function $e(n,e,t){var r;let i=(r=rL[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tn.warn(c.join(" "));return}sr(new Ct(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var oL="firebase-heartbeat-database",aL=1,qo="firebase-heartbeat-store",Jp=null;function gb(){return Jp||(Jp=xu(oL,aL,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qo)}catch(t){console.warn(t)}}}}).catch(n=>{throw ir.create("idb-open",{originalErrorMessage:n.message})})),Jp}function cL(n){return I(this,null,function*(){try{let t=(yield gb()).transaction(qo),r=yield t.objectStore(qo).get(mb(n));return yield t.done,r}catch(e){if(e instanceof Dt)Tn.warn(e.message);else{let t=ir.create("idb-get",{originalErrorMessage:e?.message});Tn.warn(t.message)}}})}function hb(n,e){return I(this,null,function*(){try{let r=(yield gb()).transaction(qo,"readwrite");yield r.objectStore(qo).put(e,mb(n)),yield r.done}catch(t){if(t instanceof Dt)Tn.warn(t.message);else{let r=ir.create("idb-set",{originalErrorMessage:t?.message});Tn.warn(r.message)}}})}function mb(n){return`${n.name}!${n.options.appId}`}var uL=1024,lL=30*24*60*60*1e3,rg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ig(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=lL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Tn.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=fb(),{heartbeatsToSend:r,unsentEntries:i}=dL(this._heartbeatsCache.heartbeats),s=$o(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Tn.warn(t),""}})}};function fb(){return new Date().toISOString().substring(0,10)}function dL(n,e=uL){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pb(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),pb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ig=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Hp()?nb().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield cL(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return hb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function pb(n){return $o(JSON.stringify({version:2,heartbeats:n})).length}function hL(n){sr(new Ct("platform-logger",e=>new Zp(e),"PRIVATE")),sr(new Ct("heartbeat",e=>new rg(e),"PRIVATE")),$e(Xp,lb,n),$e(Xp,lb,"esm2017"),$e("fire-js","")}hL("");var fL="firebase",pL="10.14.1";$e(fL,pL,"app");var Ki=new Wn("ANGULARFIRE2_VERSION"),n4=n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`;function cg(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Go=(n,e)=>{let t=e?[e]:ku(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Wo=class{constructor(){return Go(gL)}},gL="app-check";function Gi(){}var Lu=class{zone;delegate;constructor(e,t=Nd){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},ag=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gi,{},Gi,Gi)),t.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ko=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Lu(Zone.current)),this.insideAngular=t.run(()=>new Lu(Zone.current,Rd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(G(ye))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fu(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function mL(n){return Fu().ngZone.runOutsideAngular(()=>n())}function Fr(n){return Fu().ngZone.run(()=>n())}function yL(n){return vL(Fu())(n)}function vL(n){return function(t){return t=t.lift(new ag(n.ngZone)),t.pipe(Fn(n.outsideAngular),Ln(n.insideAngular))}}var _L=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Fr(()=>n.apply(void 0,r))},en=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Fr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gi,{},Gi,Gi))),r[s]=_L(r[s],t));let i=mL(()=>n.apply(this,r));if(!e)if(i instanceof se){let s=Fu();return i.pipe(Fn(s.outsideAngular),Ln(s.insideAngular))}else return Fr(()=>i);return i instanceof se?i.pipe(yL):i instanceof Promise?Fr(()=>new Promise((s,o)=>i.then(c=>Fr(()=>s(c)),c=>Fr(()=>o(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Fr(()=>i)};var Vr=class{constructor(e){return e}},Qo=class{constructor(){return ku()}};function IL(n){return n&&n.length===1?n[0]:new Vr(zo())}var ug=new Q("angularfire2._apps"),wL={provide:Vr,useFactory:IL,deps:[[new It,ug]]},EL={provide:Qo,deps:[[new It,ug]]};function TL(n){return(e,t)=>{let r=t.get(Kt);$e("angularfire",Ki.full,"core"),$e("angularfire",Ki.full,"app"),$e("angular",CE.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Vr(i)}}function f4(n,...e){return Kn([wL,EL,{provide:ug,useFactory:TL(n),multi:!0,deps:[ye,Tt,Ko,...e]}])}var p4=en(og,!0);var yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vb={};var or,lg;(function(){var n;function e(E,m){function v(){}v.prototype=m.prototype,E.D=m.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(w,b,C){for(var _=Array(arguments.length-2),ln=2;ln<arguments.length;ln++)_[ln-2]=arguments[ln];return m.prototype[b].apply(w,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,m,v){v||(v=0);var w=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)w[b]=m.charCodeAt(v++)|m.charCodeAt(v++)<<8|m.charCodeAt(v++)<<16|m.charCodeAt(v++)<<24;else for(b=0;16>b;++b)w[b]=m[v++]|m[v++]<<8|m[v++]<<16|m[v++]<<24;m=E.g[0],v=E.g[1],b=E.g[2];var C=E.g[3],_=m+(C^v&(b^C))+w[0]+3614090360&4294967295;m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+w[1]+3905402710&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+w[2]+606105819&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+w[3]+3250441966&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(C^v&(b^C))+w[4]+4118548399&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+w[5]+1200080426&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+w[6]+2821735955&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+w[7]+4249261313&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(C^v&(b^C))+w[8]+1770035416&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+w[9]+2336552879&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+w[10]+4294925233&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+w[11]+2304563134&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(C^v&(b^C))+w[12]+1804603682&4294967295,m=v+(_<<7&4294967295|_>>>25),_=C+(b^m&(v^b))+w[13]+4254626195&4294967295,C=m+(_<<12&4294967295|_>>>20),_=b+(v^C&(m^v))+w[14]+2792965006&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(m^b&(C^m))+w[15]+1236535329&4294967295,v=b+(_<<22&4294967295|_>>>10),_=m+(b^C&(v^b))+w[1]+4129170786&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+w[6]+3225465664&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+w[11]+643717713&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+w[0]+3921069994&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^C&(v^b))+w[5]+3593408605&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+w[10]+38016083&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+w[15]+3634488961&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+w[4]+3889429448&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^C&(v^b))+w[9]+568446438&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+w[14]+3275163606&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+w[3]+4107603335&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+w[8]+1163531501&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(b^C&(v^b))+w[13]+2850285829&4294967295,m=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(m^v))+w[2]+4243563512&4294967295,C=m+(_<<9&4294967295|_>>>23),_=b+(m^v&(C^m))+w[7]+1735328473&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^m&(b^C))+w[12]+2368359562&4294967295,v=b+(_<<20&4294967295|_>>>12),_=m+(v^b^C)+w[5]+4294588738&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+w[8]+2272392833&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+w[11]+1839030562&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+w[14]+4259657740&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^C)+w[1]+2763975236&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+w[4]+1272893353&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+w[7]+4139469664&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+w[10]+3200236656&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^C)+w[13]+681279174&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+w[0]+3936430074&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+w[3]+3572445317&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+w[6]+76029189&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(v^b^C)+w[9]+3654602809&4294967295,m=v+(_<<4&4294967295|_>>>28),_=C+(m^v^b)+w[12]+3873151461&4294967295,C=m+(_<<11&4294967295|_>>>21),_=b+(C^m^v)+w[15]+530742520&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^m)+w[2]+3299628645&4294967295,v=b+(_<<23&4294967295|_>>>9),_=m+(b^(v|~C))+w[0]+4096336452&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+w[7]+1126891415&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+w[14]+2878612391&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+w[5]+4237533241&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~C))+w[12]+1700485571&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+w[3]+2399980690&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+w[10]+4293915773&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+w[1]+2240044497&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~C))+w[8]+1873313359&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+w[15]+4264355552&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+w[6]+2734768916&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+w[13]+1309151649&4294967295,v=b+(_<<21&4294967295|_>>>11),_=m+(b^(v|~C))+w[4]+4149444226&4294967295,m=v+(_<<6&4294967295|_>>>26),_=C+(v^(m|~b))+w[11]+3174756917&4294967295,C=m+(_<<10&4294967295|_>>>22),_=b+(m^(C|~v))+w[2]+718787259&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~m))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+m&4294967295,E.g[1]=E.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.u=function(E,m){m===void 0&&(m=E.length);for(var v=m-this.blockSize,w=this.B,b=this.h,C=0;C<m;){if(b==0)for(;C<=v;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<m;)if(w[b++]=E.charCodeAt(C++),b==this.blockSize){i(this,w),b=0;break}}else for(;C<m;)if(w[b++]=E[C++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=m},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var m=1;m<E.length-8;++m)E[m]=0;var v=8*this.o;for(m=E.length-8;m<E.length;++m)E[m]=v&255,v/=256;for(this.u(E),E=Array(16),m=v=0;4>m;++m)for(var w=0;32>w;w+=8)E[v++]=this.g[m]>>>w&255;return E};function s(E,m){var v=c;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=m(E)}function o(E,m){this.h=m;for(var v=[],w=!0,b=E.length-1;0<=b;b--){var C=E[b]|0;w&&C==m||(v[b]=C,w=!1)}this.g=v}var c={};function u(E){return-128<=E&&128>E?s(E,function(m){return new o([m|0],0>m?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return N(l(-E));for(var m=[],v=1,w=0;E>=v;w++)m[w]=E/v|0,v*=4294967296;return new o(m,0)}function f(E,m){if(E.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(E.charAt(0)=="-")return N(f(E.substring(1),m));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(m,8)),w=p,b=0;b<E.length;b+=8){var C=Math.min(8,E.length-b),_=parseInt(E.substring(b,b+C),m);8>C?(C=l(Math.pow(m,C)),w=w.j(C).add(l(_))):(w=w.j(v),w=w.add(l(_)))}return w}var p=u(0),y=u(1),T=u(16777216);n=o.prototype,n.m=function(){if(R(this))return-N(this).m();for(var E=0,m=1,v=0;v<this.g.length;v++){var w=this.i(v);E+=(0<=w?w:4294967296+w)*m,m*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(R(this))return"-"+N(this).toString(E);for(var m=l(Math.pow(E,6)),v=this,w="";;){var b=ne(v,m).g;v=k(v,b.j(m));var C=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=b,A(v))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var m=0;m<E.g.length;m++)if(E.g[m]!=0)return!1;return!0}function R(E){return E.h==-1}n.l=function(E){return E=k(this,E),R(E)?-1:A(E)?0:1};function N(E){for(var m=E.g.length,v=[],w=0;w<m;w++)v[w]=~E.g[w];return new o(v,~E.h).add(y)}n.abs=function(){return R(this)?N(this):this},n.add=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0,b=0;b<=m;b++){var C=w+(this.i(b)&65535)+(E.i(b)&65535),_=(C>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);w=_>>>16,C&=65535,_&=65535,v[b]=_<<16|C}return new o(v,v[v.length-1]&-2147483648?-1:0)};function k(E,m){return E.add(N(m))}n.j=function(E){if(A(this)||A(E))return p;if(R(this))return R(E)?N(this).j(N(E)):N(N(this).j(E));if(R(E))return N(this.j(N(E)));if(0>this.l(T)&&0>E.l(T))return l(this.m()*E.m());for(var m=this.g.length+E.g.length,v=[],w=0;w<2*m;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<E.g.length;b++){var C=this.i(w)>>>16,_=this.i(w)&65535,ln=E.i(b)>>>16,Ts=E.i(b)&65535;v[2*w+2*b]+=_*Ts,q(v,2*w+2*b),v[2*w+2*b+1]+=C*Ts,q(v,2*w+2*b+1),v[2*w+2*b+1]+=_*ln,q(v,2*w+2*b+1),v[2*w+2*b+2]+=C*ln,q(v,2*w+2*b+2)}for(w=0;w<m;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=m;w<2*m;w++)v[w]=0;return new o(v,0)};function q(E,m){for(;(E[m]&65535)!=E[m];)E[m+1]+=E[m]>>>16,E[m]&=65535,m++}function j(E,m){this.g=E,this.h=m}function ne(E,m){if(A(m))throw Error("division by zero");if(A(E))return new j(p,p);if(R(E))return m=ne(N(E),m),new j(N(m.g),N(m.h));if(R(m))return m=ne(E,N(m)),new j(N(m.g),m.h);if(30<E.g.length){if(R(E)||R(m))throw Error("slowDivide_ only works with positive integers.");for(var v=y,w=m;0>=w.l(E);)v=Ee(v),w=Ee(w);var b=W(v,1),C=W(w,1);for(w=W(w,2),v=W(v,2);!A(w);){var _=C.add(w);0>=_.l(E)&&(b=b.add(v),C=_),w=W(w,1),v=W(v,1)}return m=k(E,b.j(m)),new j(b,m)}for(b=p;0<=E.l(m);){for(v=Math.max(1,Math.floor(E.m()/m.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(v),_=C.j(m);R(_)||0<_.l(E);)v-=w,C=l(v),_=C.j(m);A(C)&&(C=y),b=b.add(C),E=k(E,_)}return new j(b,E)}n.A=function(E){return ne(this,E).h},n.and=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)&E.i(w);return new o(v,this.h&E.h)},n.or=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)|E.i(w);return new o(v,this.h|E.h)},n.xor=function(E){for(var m=Math.max(this.g.length,E.g.length),v=[],w=0;w<m;w++)v[w]=this.i(w)^E.i(w);return new o(v,this.h^E.h)};function Ee(E){for(var m=E.g.length+1,v=[],w=0;w<m;w++)v[w]=E.i(w)<<1|E.i(w-1)>>>31;return new o(v,E.h)}function W(E,m){var v=m>>5;m%=32;for(var w=E.g.length-v,b=[],C=0;C<w;C++)b[C]=0<m?E.i(C+v)>>>m|E.i(C+v+1)<<32-m:E.i(C+v);return new o(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lg=vb.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,or=vb.Integer=o}).apply(typeof yb<"u"?yb:typeof self<"u"?self:typeof window<"u"?window:{});var Vu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bn={};var dg,bL,Qi,hg,Yo,Uu,fg,pg,gg;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vu=="object"&&Vu];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in h))break e;h=h[D]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,D={next:function(){if(!g&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function T(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,D,S){for(var M=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)M[_e-2]=arguments[_e];return d.prototype[D].apply(g,M)}}function R(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function N(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let D=a.length||0,S=g.length||0;a.length=D+S;for(let M=0;M<S;M++)a[D+M]=g[M]}else a.push(g)}}class k{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function q(a){return/^[\s\xa0]*$/.test(a)}function j(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ne(a){return ne[" "](a),a}ne[" "]=function(){};var Ee=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function W(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)a[h]=g[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function b(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=zl;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class ln{constructor(){this.h=this.g=null}add(d,h){let g=Ts.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Ts=new k(()=>new XC,a=>a.reset());class XC{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let bs,Ds=!1,zl=new ln,Wy=()=>{let a=c.Promise.resolve(void 0);bs=()=>{a.then(eS)}};var eS=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){C(h)}var d=Ts;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ds=!1};function Pn(){this.s=this.s,this.C=this.C}Pn.prototype.s=!1,Pn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Pn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ge(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Ge.prototype.h=function(){this.defaultPrevented=!0};var tS=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Cs(a,d){if(Ge.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ee){e:{try{ne(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:nS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Cs.aa.h.call(this)}}A(Cs,Ge);var nS={2:"touch",3:"pen",4:"mouse"};Cs.prototype.h=function(){Cs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ss="closure_listenable_"+(1e6*Math.random()|0),rS=0;function iS(a,d,h,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++rS,this.da=this.fa=!1}function Pa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ma(a){this.src=a,this.g={},this.h=0}Ma.prototype.add=function(a,d,h,g,D){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var M=Gl(a,d,g,D);return-1<M?(d=a[M],h||(d.fa=!1)):(d=new iS(d,this.src,S,!!g,D),d.fa=h,a.push(d)),d};function Wl(a,d){var h=d.type;if(h in a.g){var g=a.g[h],D=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=D)&&Array.prototype.splice.call(g,D,1),S&&(Pa(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Gl(a,d,h,g){for(var D=0;D<a.length;++D){var S=a[D];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return D}return-1}var Kl="closure_lm_"+(1e6*Math.random()|0),Ql={};function Gy(a,d,h,g,D){if(g&&g.once)return Qy(a,d,h,g,D);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Gy(a,d[S],h,g,D);return null}return h=Xl(h),a&&a[Ss]?a.K(d,h,l(g)?!!g.capture:!!g,D):Ky(a,d,h,!1,g,D)}function Ky(a,d,h,g,D,S){if(!d)throw Error("Invalid event type");var M=l(D)?!!D.capture:!!D,_e=Jl(a);if(_e||(a[Kl]=_e=new Ma(a)),h=_e.add(d,h,g,M,S),h.proxy)return h;if(g=sS(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)tS||(D=M),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(Jy(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function sS(){function a(h){return d.call(a.src,a.listener,h)}let d=oS;return a}function Qy(a,d,h,g,D){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Qy(a,d[S],h,g,D);return null}return h=Xl(h),a&&a[Ss]?a.L(d,h,l(g)?!!g.capture:!!g,D):Ky(a,d,h,!0,g,D)}function Yy(a,d,h,g,D){if(Array.isArray(d))for(var S=0;S<d.length;S++)Yy(a,d[S],h,g,D);else g=l(g)?!!g.capture:!!g,h=Xl(h),a&&a[Ss]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=Gl(S,h,g,D),-1<h&&(Pa(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Jl(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Gl(d,h,g,D)),(h=-1<a?d[a]:null)&&Yl(h))}function Yl(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ss])Wl(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(Jy(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Jl(d))?(Wl(h,a),h.h==0&&(h.src=null,d[Kl]=null)):Pa(a)}}}function Jy(a){return a in Ql?Ql[a]:Ql[a]="on"+a}function oS(a,d){if(a.da)a=!0;else{d=new Cs(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Yl(a),a=h.call(g,d)}return a}function Jl(a){return a=a[Kl],a instanceof Ma?a:null}var Zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(a){return typeof a=="function"?a:(a[Zl]||(a[Zl]=function(d){return a.handleEvent(d)}),a[Zl])}function Ke(){Pn.call(this),this.i=new Ma(this),this.M=this,this.F=null}A(Ke,Pn),Ke.prototype[Ss]=!0,Ke.prototype.removeEventListener=function(a,d,h,g){Yy(this,a,d,h,g)};function et(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Ge(d,a);else if(d instanceof Ge)d.target=d.target||a;else{var D=d;d=new Ge(g,a),w(d,D)}if(D=!0,h)for(var S=h.length-1;0<=S;S--){var M=d.g=h[S];D=Oa(M,g,!0,d)&&D}if(M=d.g=a,D=Oa(M,g,!0,d)&&D,D=Oa(M,g,!1,d)&&D,h)for(S=0;S<h.length;S++)M=d.g=h[S],D=Oa(M,g,!1,d)&&D}Ke.prototype.N=function(){if(Ke.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Pa(h[g]);delete a.g[d],a.h--}}this.F=null},Ke.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},Ke.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Oa(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,S=0;S<d.length;++S){var M=d[S];if(M&&!M.da&&M.capture==h){var _e=M.listener,qe=M.ha||M.src;M.fa&&Wl(a.i,M),D=_e.call(qe,g)!==!1&&D}}return D&&!g.defaultPrevented}function Zy(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Xy(a){a.g=Zy(()=>{a.g=null,a.i&&(a.i=!1,Xy(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class aS extends Pn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Xy(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(a){Pn.call(this),this.h=a,this.g={}}A(As,Pn);var ev=[];function tv(a){W(a.g,function(d,h){this.g.hasOwnProperty(h)&&Yl(d)},a),a.g={}}As.prototype.N=function(){As.aa.N.call(this),tv(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ed=c.JSON.stringify,cS=c.JSON.parse,uS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function td(){}td.prototype.h=null;function nv(a){return a.h||(a.h=a.i())}function rv(){}var Rs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nd(){Ge.call(this,"d")}A(nd,Ge);function rd(){Ge.call(this,"c")}A(rd,Ge);var fr={},iv=null;function xa(){return iv=iv||new Ke}fr.La="serverreachability";function sv(a){Ge.call(this,fr.La,a)}A(sv,Ge);function Ns(a){let d=xa();et(d,new sv(d))}fr.STAT_EVENT="statevent";function ov(a,d){Ge.call(this,fr.STAT_EVENT,a),this.stat=d}A(ov,Ge);function tt(a){let d=xa();et(d,new ov(d,a))}fr.Ma="timingevent";function av(a,d){Ge.call(this,fr.Ma,a),this.size=d}A(av,Ge);function Ps(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ms(){this.g=!0}Ms.prototype.xa=function(){this.g=!1};function lS(a,d,h,g,D,S){a.info(function(){if(a.g)if(S)for(var M="",_e=S.split("&"),qe=0;qe<_e.length;qe++){var de=_e[qe].split("=");if(1<de.length){var Qe=de[0];de=de[1];var Ye=Qe.split("_");M=2<=Ye.length&&Ye[1]=="type"?M+(Qe+"="+de+"&"):M+(Qe+"=redacted&")}}else M=null;else M=S;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+M})}function dS(a,d,h,g,D,S,M){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+S+" "+M})}function Yr(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+fS(a,h)+(g?" "+g:"")})}function hS(a,d){a.info(function(){return"TIMEOUT: "+d})}Ms.prototype.info=function(){};function fS(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var S=D[0];if(S!="noop"&&S!="stop"&&S!="close")for(var M=1;M<D.length;M++)D[M]=""}}}}return ed(h)}catch{return d}}var ka={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},id;function La(){}A(La,td),La.prototype.g=function(){return new XMLHttpRequest},La.prototype.i=function(){return{}},id=new La;function Mn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new As(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uv}function uv(){this.i=null,this.g="",this.h=!1}var lv={},sd={};function od(a,d,h){a.L=1,a.v=ja(dn(d)),a.m=h,a.P=!0,dv(a,null)}function dv(a,d){a.F=Date.now(),Fa(a),a.A=dn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Dv(h.i,"t",g),a.C=0,h=a.j.J,a.h=new uv,a.g=Hv(a.j,h?d:null,!a.m),0<a.O&&(a.M=new aS(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(ev[0]=D.toString()),D=ev);for(var S=0;S<D.length;S++){var M=Gy(h,D[S],g||d.handleEvent,!1,d.h||d);if(!M)break;d.g[M.key]=M}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Ns(),lS(a.i,a.u,a.A,a.l,a.R,a.m)}Mn.prototype.ca=function(a){a=a.target;let d=this.M;d&&hn(a)==3?d.j():this.Y(a)},Mn.prototype.Y=function(a){try{if(a==this.g)e:{let Ye=hn(this.g);var d=this.g.Ba();let Xr=this.g.Z();if(!(3>Ye)&&(Ye!=3||this.g&&(this.h.h||this.g.oa()||Mv(this.g)))){this.J||Ye!=4||d==7||(d==8||0>=Xr?Ns(3):Ns(2)),ad(this);var h=this.g.Z();this.X=h;t:if(hv(this)){var g=Mv(this.g);a="";var D=g.length,S=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),Os(this);var M="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,M=this.h.g}else M=this.g.oa();if(this.o=h==200,dS(this.i,this.u,this.A,this.l,this.R,Ye,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,qe=this.g;if((_e=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(_e)){var de=_e;break t}}de=null}if(h=de)Yr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cd(this,h);else{this.o=!1,this.s=3,tt(12),pr(this),Os(this);break e}}if(this.P){h=!0;let At;for(;!this.J&&this.C<M.length;)if(At=pS(this,M),At==sd){Ye==4&&(this.s=4,tt(14),h=!1),Yr(this.i,this.l,null,"[Incomplete Response]");break}else if(At==lv){this.s=4,tt(15),Yr(this.i,this.l,M,"[Invalid Chunk]"),h=!1;break}else Yr(this.i,this.l,At,null),cd(this,At);if(hv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||M.length!=0||this.h.h||(this.s=1,tt(16),h=!1),this.o=this.o&&h,!h)Yr(this.i,this.l,M,"[Invalid Chunked Response]"),pr(this),Os(this);else if(0<M.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),pd(Qe),Qe.M=!0,tt(11))}}else Yr(this.i,this.l,M,null),cd(this,M);Ye==4&&pr(this),this.o&&!this.J&&(Ye==4?Uv(this.j,this):(this.o=!1,Fa(this)))}else PS(this.g),h==400&&0<M.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),pr(this),Os(this)}}}catch{}finally{}};function hv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function pS(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?sd:(h=Number(d.substring(h,g)),isNaN(h)?lv:(g+=1,g+h>d.length?sd:(d=d.slice(g,g+h),a.C=g+h,d)))}Mn.prototype.cancel=function(){this.J=!0,pr(this)};function Fa(a){a.S=Date.now()+a.I,fv(a,a.I)}function fv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ps(y(a.ba,a),d)}function ad(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Mn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(hS(this.i,this.A),this.L!=2&&(Ns(),tt(17)),pr(this),this.s=2,Os(this)):fv(this,this.S-a)};function Os(a){a.j.G==0||a.J||Uv(a.j,a)}function pr(a){ad(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,tv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function cd(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||ud(h.h,a))){if(!a.K&&ud(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)za(h),Ha(h);else break e;fd(h),tt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Ps(y(h.Za,h),6e3));if(1>=mv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else mr(h,11)}else if((a.K||h.g==a)&&za(h),!q(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let de=D[d];if(h.T=de[0],de=de[1],h.G==2)if(de[0]=="c"){h.K=de[1],h.ia=de[2];let Qe=de[3];Qe!=null&&(h.la=Qe,h.j.info("VER="+h.la));let Ye=de[4];Ye!=null&&(h.Aa=Ye,h.j.info("SVER="+h.Aa));let Xr=de[5];Xr!=null&&typeof Xr=="number"&&0<Xr&&(g=1.5*Xr,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let At=a.g;if(At){let Ga=At.g?At.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ga){var S=g.h;S.g||Ga.indexOf("spdy")==-1&&Ga.indexOf("quic")==-1&&Ga.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(ld(S,S.h),S.h=null))}if(g.D){let gd=At.g?At.g.getResponseHeader("X-HTTP-Session-Id"):null;gd&&(g.ya=gd,Te(g.I,g.D,gd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var M=a;if(g.qa=$v(g,g.J?g.ia:null,g.W),M.K){yv(g.h,M);var _e=M,qe=g.L;qe&&(_e.I=qe),_e.B&&(ad(_e),Fa(_e)),g.g=M}else Fv(g);0<h.i.length&&qa(h)}else de[0]!="stop"&&de[0]!="close"||mr(h,7);else h.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?mr(h,7):hd(h):de[0]!="noop"&&h.l&&h.l.ta(de),h.v=0)}}Ns(4)}catch{}}var gS=class{constructor(a,d){this.g=a,this.map=d}};function pv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function mv(a){return a.h?1:a.g?a.g.size:0}function ud(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ld(a,d){a.g?a.g.add(d):a.h=d}function yv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}pv.prototype.cancel=function(){if(this.i=vv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function vv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return R(a.i)}function mS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function yS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function _v(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=yS(a),g=mS(a),D=g.length,S=0;S<D;S++)d.call(void 0,g[S],h&&h[S],a)}var Iv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),D=null;if(0<=g){var S=a[h].substring(0,g);D=a[h].substring(g+1)}else S=a[h];d(S,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function gr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof gr){this.h=a.h,Va(this,a.j),this.o=a.o,this.g=a.g,Ua(this,a.s),this.l=a.l;var d=a.i,h=new Ls;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),wv(this,h),this.m=a.m}else a&&(d=String(a).match(Iv))?(this.h=!1,Va(this,d[1]||"",!0),this.o=xs(d[2]||""),this.g=xs(d[3]||"",!0),Ua(this,d[4]),this.l=xs(d[5]||"",!0),wv(this,d[6]||"",!0),this.m=xs(d[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}gr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ks(d,Ev,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ks(d,Ev,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ks(h,h.charAt(0)=="/"?wS:IS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ks(h,TS)),a.join("")};function dn(a){return new gr(a)}function Va(a,d,h){a.j=h?xs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ua(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function wv(a,d,h){d instanceof Ls?(a.i=d,bS(a.i,a.h)):(h||(d=ks(d,ES)),a.i=new Ls(d,a.h))}function Te(a,d,h){a.i.set(d,h)}function ja(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function xs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ks(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,_S),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function _S(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ev=/[#\/\?@]/g,IS=/[#\?:]/g,wS=/[#\?]/g,ES=/[#\?@]/g,TS=/#/g;function Ls(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function On(a){a.g||(a.g=new Map,a.h=0,a.i&&vS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=Ls.prototype,n.add=function(a,d){On(this),this.i=null,a=Jr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Tv(a,d){On(a),d=Jr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function bv(a,d){return On(a),d=Jr(a,d),a.g.has(d)}n.forEach=function(a,d){On(this),this.g.forEach(function(h,g){h.forEach(function(D){a.call(d,D,g,this)},this)},this)},n.na=function(){On(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let D=a[g];for(let S=0;S<D.length;S++)h.push(d[g])}return h},n.V=function(a){On(this);let d=[];if(typeof a=="string")bv(this,a)&&(d=d.concat(this.g.get(Jr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return On(this),this.i=null,a=Jr(this,a),bv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Dv(a,d,h){Tv(a,d),0<h.length&&(a.i=null,a.g.set(Jr(a,d),R(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),M=this.V(g);for(g=0;g<M.length;g++){var D=S;M[g]!==""&&(D+="="+encodeURIComponent(String(M[g]))),a.push(D)}}return this.i=a.join("&")};function Jr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function bS(a,d){d&&!a.j&&(On(a),a.i=null,a.g.forEach(function(h,g){var D=g.toLowerCase();g!=D&&(Tv(this,g),Dv(this,D,h))},a)),a.j=d}function DS(a,d){let h=new Ms;if(c.Image){let g=new Image;g.onload=T(xn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=T(xn,h,"TestLoadImage: error",!1,d,g),g.onabort=T(xn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=T(xn,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function CS(a,d){let h=new Ms,g=new AbortController,D=setTimeout(()=>{g.abort(),xn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(D),S.ok?xn(h,"TestPingServer: ok",!0,d):xn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),xn(h,"TestPingServer: error",!1,d)})}function xn(a,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function SS(){this.g=new uS}function AS(a,d,h){let g=h||"";try{_v(a,function(D,S){let M=D;l(D)&&(M=ed(D)),d.push(g+S+"="+encodeURIComponent(M))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Fs(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Fs,td),Fs.prototype.g=function(){return new Ba(this.l,this.j)},Fs.prototype.i=function(a){return function(){return a}}({});function Ba(a,d){Ke.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ba,Ke),n=Ba.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Us(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Vs(this):Us(this),this.readyState==3&&Cv(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Vs(this))},n.Qa=function(a){this.g&&(this.response=a,Vs(this))},n.ga=function(){this.g&&Vs(this)};function Vs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Us(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Us(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Sv(a){let d="";return W(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function dd(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=Sv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Te(a,d,h))}function Ce(a){Ke.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ce,Ke);var RS=/^https?$/i,NS=["POST","PUT"];n=Ce.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():id.g(),this.v=this.o?nv(this.o):nv(id),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){Av(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(NS,d,void 0))||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,M]of h)this.g.setRequestHeader(S,M);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pv(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){Av(this,S)}};function Av(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Rv(a),$a(a)}function Rv(a){a.A||(a.A=!0,et(a,"complete"),et(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,et(this,"complete"),et(this,"abort"),$a(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$a(this,!0)),Ce.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Nv(this):this.bb())},n.bb=function(){Nv(this)};function Nv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||hn(a)!=4||a.Z()!=2)){if(a.u&&hn(a)==4)Zy(a.Ea,0,a);else if(et(a,"readystatechange"),hn(a)==4){a.h=!1;try{let M=a.Z();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=M===0){var D=String(a.D).match(Iv)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!RS.test(D?D.toLowerCase():"")}h=g}if(h)et(a,"complete"),et(a,"success");else{a.m=6;try{var S=2<hn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",Rv(a)}}finally{$a(a)}}}}function $a(a,d){if(a.g){Pv(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||et(a,"ready");try{h.onreadystatechange=g}catch{}}}function Pv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function hn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),cS(d)}};function Mv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function PS(a){let d={};a=(a.g&&2<=hn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(q(a[g]))continue;var h=b(a[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[D]||[];d[D]=S,S.push(h)}E(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function Ov(a){this.Aa=0,this.i=[],this.j=new Ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=js("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=js("baseRetryDelayMs",5e3,a),this.cb=js("retryDelaySeedMs",1e4,a),this.Wa=js("forwardChannelMaxRetries",2,a),this.wa=js("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new pv(a&&a.concurrentRequestLimit),this.Da=new SS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ov.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){tt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=$v(this,null,this.W),qa(this)};function hd(a){if(xv(a),a.G==3){var d=a.U++,h=dn(a.I);if(Te(h,"SID",a.K),Te(h,"RID",d),Te(h,"TYPE","terminate"),Bs(a,h),d=new Mn(a,a.j,d),d.L=2,d.v=ja(dn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=Hv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fa(d)}Bv(a)}function Ha(a){a.g&&(pd(a),a.g.cancel(),a.g=null)}function xv(a){Ha(a),a.u&&(c.clearTimeout(a.u),a.u=null),za(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function qa(a){if(!gv(a.h)&&!a.s){a.s=!0;var d=a.Ga;bs||Wy(),Ds||(bs(),Ds=!0),zl.add(d,a),a.B=0}}function MS(a,d){return mv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ps(y(a.Ga,a,d),jv(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new Mn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(D.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Lv(this,D,d),h=dn(this.I),Te(h,"RID",a),Te(h,"CVER",22),this.D&&Te(h,"X-HTTP-Session-Id",this.D),Bs(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(Sv(S)))+"&"+d:this.m&&dd(h,this.m,S)),ld(this.h,D),this.Ua&&Te(h,"TYPE","init"),this.P?(Te(h,"$req",d),Te(h,"SID","null"),D.T=!0,od(D,h,null)):od(D,h,d),this.G=2}}else this.G==3&&(a?kv(this,a):this.i.length==0||gv(this.h)||kv(this))};function kv(a,d){var h;d?h=d.l:h=a.U++;let g=dn(a.I);Te(g,"SID",a.K),Te(g,"RID",h),Te(g,"AID",a.T),Bs(a,g),a.m&&a.o&&dd(g,a.m,a.o),h=new Mn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Lv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ld(a.h,h),od(h,g,d)}function Bs(a,d){a.H&&W(a.H,function(h,g){Te(d,g,h)}),a.l&&_v({},function(h,g){Te(d,g,h)})}function Lv(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var D=a.i;let S=-1;for(;;){let M=["count="+h];S==-1?0<h?(S=D[0].g,M.push("ofs="+S)):S=0:M.push("ofs="+S);let _e=!0;for(let qe=0;qe<h;qe++){let de=D[qe].g,Qe=D[qe].map;if(de-=S,0>de)S=Math.max(0,D[qe].g-100),_e=!1;else try{AS(Qe,M,"req"+de+"_")}catch{g&&g(Qe)}}if(_e){g=M.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function Fv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;bs||Wy(),Ds||(bs(),Ds=!0),zl.add(d,a),a.v=0}}function fd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ps(y(a.Fa,a),jv(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Vv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ps(y(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Ha(this),Vv(this))};function pd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Vv(a){a.g=new Mn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=dn(a.qa);Te(d,"RID","rpc"),Te(d,"SID",a.K),Te(d,"AID",a.T),Te(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(d,"TO",a.ja),Te(d,"TYPE","xmlhttp"),Bs(a,d),a.m&&a.o&&dd(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=ja(dn(d)),h.m=null,h.P=!0,dv(h,a)}n.Za=function(){this.C!=null&&(this.C=null,Ha(this),fd(this),tt(19))};function za(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Uv(a,d){var h=null;if(a.g==d){za(a),pd(a),a.g=null;var g=2}else if(ud(a.h,d))h=d.D,yv(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=xa(),et(g,new av(g,h)),qa(a)}else Fv(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&MS(a,d)||g==2&&fd(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),D){case 1:mr(a,5);break;case 4:mr(a,10);break;case 3:mr(a,6);break;default:mr(a,2)}}}function jv(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function mr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let D=!g;g=new gr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Va(g,"https"),ja(g),D?DS(g.toString(),h):CS(g.toString(),h)}else tt(2);a.G=0,a.l&&a.l.sa(d),Bv(a),xv(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Bv(a){if(a.G=0,a.ka=[],a.l){let d=vv(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function $v(a,d,h){var g=h instanceof gr?dn(h):new gr(h);if(g.g!="")d&&(g.g=d+"."+g.g),Ua(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var S=new gr(null);g&&Va(S,g),d&&(S.g=d),D&&Ua(S,D),h&&(S.l=h),g=S}return h=a.D,d=a.ya,h&&d&&Te(g,h,d),Te(g,"VER",a.la),Bs(a,g),g}function Hv(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ce(new Fs({eb:h})):new Ce(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qv(){}n=qv.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wa(){}Wa.prototype.g=function(a,d){return new at(a,d)};function at(a,d){Ke.call(this),this.g=new Ov(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!q(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!q(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Zr(this)}A(at,Ke),at.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},at.prototype.close=function(){hd(this.g)},at.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ed(a),a=h);d.i.push(new gS(d.Ya++,a)),d.G==3&&qa(d)},at.prototype.N=function(){this.g.l=null,delete this.j,hd(this.g),delete this.g,at.aa.N.call(this)};function zv(a){nd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(zv,nd);function Wv(){rd.call(this),this.status=1}A(Wv,rd);function Zr(a){this.g=a}A(Zr,qv),Zr.prototype.ua=function(){et(this.g,"a")},Zr.prototype.ta=function(a){et(this.g,new zv(a))},Zr.prototype.sa=function(a){et(this.g,new Wv)},Zr.prototype.ra=function(){et(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,at.prototype.send=at.prototype.o,at.prototype.open=at.prototype.m,at.prototype.close=at.prototype.close,gg=bn.createWebChannelTransport=function(){return new Wa},pg=bn.getStatEventTarget=function(){return xa()},fg=bn.Event=fr,Uu=bn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,Yo=bn.ErrorCode=ka,cv.COMPLETE="complete",hg=bn.EventType=cv,rv.EventType=Rs,Rs.OPEN="a",Rs.CLOSE="b",Rs.ERROR="c",Rs.MESSAGE="d",Ke.prototype.listen=Ke.prototype.K,Qi=bn.WebChannel=rv,bL=bn.FetchXmlHttpFactory=Fs,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,dg=bn.XhrIo=Ce}).apply(typeof Vu<"u"?Vu:typeof self<"u"?self:typeof window<"u"?window:{});var _b="@firebase/firestore";var He=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");var ms="10.14.0";var Hr=new rr("@firebase/firestore");function Jo(){return Hr.logLevel}function L(n,...e){if(Hr.logLevel<=oe.DEBUG){let t=e.map(zm);Hr.debug(`Firestore (${ms}): ${n}`,...t)}}function Cn(n,...e){if(Hr.logLevel<=oe.ERROR){let t=e.map(zm);Hr.error(`Firestore (${ms}): ${n}`,...t)}}function rs(n,...e){if(Hr.logLevel<=oe.WARN){let t=e.map(zm);Hr.warn(`Firestore (${ms}): ${n}`,...t)}}function zm(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Y(n="Unexpected state"){let e=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: `+n;throw Cn(e),new Error(e)}function Re(n,e){n||Y()}function ue(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Dt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var nn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Hu=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},wg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(He.UNAUTHENTICATED))}shutdown(){}},Eg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Tg=class{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new nn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new nn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new nn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new Hu(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new He(e)}},bg=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Dg=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new bg(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Cg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Sg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Re(this.o===void 0);let r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string"),this.R=t.token,new Cg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function DL(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var qu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=DL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function fe(n,e){return n<e?-1:n>e?1:0}function is(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var St=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Z=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new St(0,0))}static max(){return new n(new St(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var zu=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Y(),r===void 0?r=e.length-t:r>e.length-t&&Y(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ae=class n extends zu{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},CL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ft=class n extends zu{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return CL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new V(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new V(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var U=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ae.fromString(e))}static fromName(e){return new n(Ae.fromString(e).popFirst(5))}static empty(){return new n(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ae(e.slice()))}};var Ag=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Ag.UNKNOWN_ID=-1;function SL(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new St(t+1,0):new St(t,r));return new qr(i,U.empty(),e)}function AL(n){return new qr(n.readTime,n.key,-1)}var qr=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Z.min(),U.empty(),-1)}static max(){return new n(Z.max(),U.empty(),-1)}};function RL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=U.comparator(n.documentKey,e.documentKey),t!==0?t:fe(n.largestBatchId,e.largestBatchId))}var NL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Rg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Wm(n){return I(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==NL)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;t(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function PL(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ma(n){return n.name==="IndexedDbTransactionError"}var Xb=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function vl(n){return n==null}function Wu(n){return n===0&&1/n==-1/0}var ML=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],A4=[...ML,"documentOverlays"],OL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xL=OL,kL=[...xL,"indexConfiguration","indexState","indexEntries"];var R4=[...kL,"globals"];function Ib(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _l(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LL(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pe=class n{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xi(this.root,e,this.comparator,!0)}},Xi=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},rn=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,t,r,i,s){return this}insert(e,t,r){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ze=class n{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gu(this.data.getIterator())}getIteratorFrom(e){return new Gu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Gu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ur=class n{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ze(Ft.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Ku=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xe=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ku("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xe.EMPTY_BYTE_STRING=new Xe("");var FL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sn(n){if(Re(!!n),typeof n=="string"){let e=0,t=FL.exec(n);if(Re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(n.seconds),nanos:be(n.nanos)}}function be(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function cr(n){return typeof n=="string"?Xe.fromBase64String(n):Xe.fromUint8Array(n)}function Gm(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Km(n){let e=n.mapValue.fields.__previous_value__;return Gm(e)?Km(e):e}function ia(n){let e=Sn(n.mapValue.fields.__local_write_time__.timestampValue);return new St(e.seconds,e.nanos)}var Ng=class{constructor(e,t,r,i,s,o,c,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Qu=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gm(n)?4:tD(n)?9007199254740991:eD(n)?10:11:Y()}function an(n,e){if(n===e)return!0;let t=zr(n);if(t!==zr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ia(n).isEqual(ia(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Sn(i.timestampValue),c=Sn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return cr(i.bytesValue).isEqual(cr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=be(i.doubleValue),c=be(s.doubleValue);return o===c?Wu(o)===Wu(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return is(n.arrayValue.values||[],e.arrayValue.values||[],an);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Ib(o)!==Ib(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!an(o[u],c[u])))return!1;return!0}(n,e);default:return Y()}}function sa(n,e){return(n.values||[]).find(t=>an(t,e))!==void 0}function ss(n,e){if(n===e)return 0;let t=zr(n),r=zr(e);if(t!==r)return fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return fe(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=be(s.integerValue||s.doubleValue),u=be(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return wb(n.timestampValue,e.timestampValue);case 4:return wb(ia(n),ia(e));case 5:return fe(n.stringValue,e.stringValue);case 6:return function(s,o){let c=cr(s),u=cr(o);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=fe(c[l],u[l]);if(f!==0)return f}return fe(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=fe(be(s.latitude),be(o.latitude));return c!==0?c:fe(be(s.longitude),be(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Eb(n.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let p=s.fields||{},y=o.fields||{},T=(c=p.value)===null||c===void 0?void 0:c.arrayValue,A=(u=y.value)===null||u===void 0?void 0:u.arrayValue,R=fe(((l=T?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:Eb(T,A)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===ju.mapValue&&o===ju.mapValue)return 0;if(s===ju.mapValue)return 1;if(o===ju.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=fe(u[p],f[p]);if(y!==0)return y;let T=ss(c[u[p]],l[f[p]]);if(T!==0)return T}return fe(u.length,f.length)}(n.mapValue,e.mapValue);default:throw Y()}}function wb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return fe(n,e);let t=Sn(n),r=Sn(e),i=fe(t.seconds,r.seconds);return i!==0?i:fe(t.nanos,r.nanos)}function Eb(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=ss(t[i],r[i]);if(s)return s}return fe(t.length,r.length)}function os(n){return Pg(n)}function Pg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Sn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return cr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return U.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=Pg(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Pg(t.fields[o])}`;return i+"}"}(n.mapValue):Y()}function Mg(n){return!!n&&"integerValue"in n}function Qm(n){return!!n&&"arrayValue"in n}function Tb(n){return!!n&&"nullValue"in n}function bb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mg(n){return!!n&&"mapValue"in n}function eD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Xo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return _l(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xo(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xo(n.arrayValue.values[t]);return e}return Object.assign({},n)}function tD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Dn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(t)}setAll(e){let t=Ft.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}o?r[c.lastSegment()]=Xo(o):i.push(c.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());mg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return an(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){_l(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Xo(this.value))}};var Vt=class n{constructor(e,t,r,i,s,o,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,Z.min(),Z.min(),Z.min(),Dn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Z.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Z.min(),Z.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Z.min(),Z.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var as=class{constructor(e,t){this.position=e,this.inclusive=t}};function Db(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),t.key):r=ss(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!an(n.position[t],e.position[t]))return!1;return!0}var cs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function VL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Yu=class{},Ve=class n extends Yu{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xg(e,t,r):t==="array-contains"?new Fg(e,r):t==="in"?new Vg(e,r):t==="not-in"?new Ug(e,r):t==="array-contains-any"?new jg(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new kg(e,r):new Lg(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ss(t,this.value)):t!==null&&zr(this.value)===zr(t)&&this.matchesComparison(ss(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},cn=class n extends Yu{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return nD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function nD(n){return n.op==="and"}function rD(n){return UL(n)&&nD(n)}function UL(n){for(let e of n.filters)if(e instanceof cn)return!1;return!0}function Og(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+os(n.value);if(rD(n))return n.filters.map(e=>Og(e)).join(",");{let e=n.filters.map(t=>Og(t)).join(",");return`${n.op}(${e})`}}function iD(n,e){return n instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.field.isEqual(i.field)&&an(r.value,i.value)}(n,e):n instanceof cn?function(r,i){return i instanceof cn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&iD(o,i.filters[c]),!0):!1}(n,e):void Y()}function sD(n){return n instanceof Ve?function(t){return`${t.field.canonicalString()} ${t.op} ${os(t.value)}`}(n):n instanceof cn?function(t){return t.op.toString()+" {"+t.getFilters().map(sD).join(" ,")+"}"}(n):"Filter"}var xg=class extends Ve{constructor(e,t,r){super(e,t,r),this.key=U.fromName(r.referenceValue)}matches(e){let t=U.comparator(e.key,this.key);return this.matchesComparison(t)}},kg=class extends Ve{constructor(e,t){super(e,"in",t),this.keys=oD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Lg=class extends Ve{constructor(e,t){super(e,"not-in",t),this.keys=oD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function oD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>U.fromName(r.referenceValue))}var Fg=class extends Ve{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Qm(t)&&sa(t.arrayValue,this.value)}},Vg=class extends Ve{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&sa(this.value.arrayValue,t)}},Ug=class extends Ve{constructor(e,t){super(e,"not-in",t)}matches(e){if(sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!sa(this.value.arrayValue,t)}},jg=class extends Ve{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Qm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sa(this.value.arrayValue,r))}};var Bg=class{constructor(e,t=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function Sb(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Bg(n,e,t,r,i,s,o)}function Ym(n){let e=ue(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Og(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),vl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>os(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>os(r)).join(",")),e.ue=t}return e.ue}function Jm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!VL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cb(n.startAt,e.startAt)&&Cb(n.endAt,e.endAt)}function $g(n){return U.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var us=class{constructor(e,t=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function jL(n,e,t,r,i,s,o,c){return new us(n,e,t,r,i,s,o,c)}function Zm(n){return new us(n)}function Ab(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function BL(n){return n.collectionGroup!==null}function ea(n){let e=ue(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Ze(Ft.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new cs(s,r))}),t.has(Ft.keyField().canonicalString())||e.ce.push(new cs(Ft.keyField(),r))}return e.ce}function sn(n){let e=ue(n);return e.le||(e.le=$L(e,ea(n))),e.le}function $L(n,e){if(n.limitType==="F")return Sb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new cs(i.field,s)});let t=n.endAt?new as(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new as(n.startAt.position,n.startAt.inclusive):null;return Sb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Hg(n,e,t){return new us(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Il(n,e){return Jm(sn(n),sn(e))&&n.limitType===e.limitType}function aD(n){return`${Ym(sn(n))}|lt:${n.limitType}`}function Yi(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>sD(i)).join(", ")}]`),vl(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>os(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>os(i)).join(",")),`Target(${r})`}(sn(n))}; limitType=${n.limitType})`}function wl(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):U.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of ea(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=Db(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,ea(r),i)||r.endAt&&!function(o,c,u){let l=Db(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,ea(r),i))}(n,e)}function HL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cD(n){return(e,t)=>{let r=!1;for(let i of ea(n)){let s=qL(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qL(n,e,t){let r=n.field.isKeyField()?U.comparator(e.key,t.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?ss(u,l):Y()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var ur=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_l(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return LL(this.inner)}size(){return this.innerSize}};var zL=new Pe(U.comparator);function lr(){return zL}var uD=new Pe(U.comparator);function Zo(...n){let e=uD;for(let t of n)e=e.insert(t.key,t);return e}function WL(n){let e=uD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function jr(){return ta()}function lD(){return ta()}function ta(){return new ur(n=>n.toString(),(n,e)=>n.isEqual(e))}var P4=new Pe(U.comparator),GL=new Ze(U.comparator);function le(...n){let e=GL;for(let t of n)e=e.add(t);return e}var KL=new Ze(fe);function QL(){return KL}function YL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function JL(n){return{integerValue:""+n}}var ls=class{constructor(){this._=void 0}};function ZL(n,e,t){return n instanceof oa?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gm(s)&&(s=Km(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof ds?dD(n,e):n instanceof hs?hD(n,e):function(i,s){let o=e1(i,s),c=Rb(o)+Rb(i.Pe);return Mg(o)&&Mg(i.Pe)?JL(c):YL(i.serializer,c)}(n,e)}function XL(n,e,t){return n instanceof ds?dD(n,e):n instanceof hs?hD(n,e):t}function e1(n,e){return n instanceof aa?function(r){return Mg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var oa=class extends ls{},ds=class extends ls{constructor(e){super(),this.elements=e}};function dD(n,e){let t=fD(e);for(let r of n.elements)t.some(i=>an(i,r))||t.push(r);return{arrayValue:{values:t}}}var hs=class extends ls{constructor(e){super(),this.elements=e}};function hD(n,e){let t=fD(e);for(let r of n.elements)t=t.filter(i=>!an(i,r));return{arrayValue:{values:t}}}var aa=class extends ls{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function Rb(n){return be(n.integerValue||n.doubleValue)}function fD(n){return Qm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function t1(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ds&&i instanceof ds||r instanceof hs&&i instanceof hs?is(r.elements,i.elements,an):r instanceof aa&&i instanceof aa?an(r.Pe,i.Pe):r instanceof oa&&i instanceof oa}(n.transform,e.transform)}var na=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $u(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ca=class{};function pD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qg(n.key,na.none()):new ua(n.key,n.data,na.none());{let t=n.data,r=Dn.empty(),i=new Ze(Ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new fs(n.key,r,new Ur(i.toArray()),na.none())}}function n1(n,e,t){n instanceof ua?function(i,s,o){let c=i.value.clone(),u=Pb(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof fs?function(i,s,o){if(!$u(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=Pb(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(gD(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function ra(n,e,t,r){return n instanceof ua?function(s,o,c,u){if(!$u(s.precondition,o))return c;let l=s.value.clone(),f=Mb(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof fs?function(s,o,c,u){if(!$u(s.precondition,o))return c;let l=Mb(s.fieldTransforms,u,o),f=o.data;return f.setAll(gD(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(s,o,c){return $u(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,t)}function Nb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&is(r,i,(s,o)=>t1(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ua=class extends ca{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},fs=class extends ca{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function gD(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Pb(n,e,t){let r=new Map;Re(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,XL(o,c,t[i]))}return r}function Mb(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,ZL(s,o,e))}return r}var qg=class extends ca{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var zg=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&n1(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ra(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ra(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=lD();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=t.has(i.key)?null:c;let u=pD(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,(t,r)=>Nb(t,r))&&is(this.baseMutations,e.baseMutations,(t,r)=>Nb(t,r))}};var Wg=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Gg=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ke,ce;function mD(n){if(n===void 0)return Cn("GRPC error has no .code"),O.UNKNOWN;switch(n){case ke.OK:return O.OK;case ke.CANCELLED:return O.CANCELLED;case ke.UNKNOWN:return O.UNKNOWN;case ke.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case ke.INTERNAL:return O.INTERNAL;case ke.UNAVAILABLE:return O.UNAVAILABLE;case ke.UNAUTHENTICATED:return O.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case ke.NOT_FOUND:return O.NOT_FOUND;case ke.ALREADY_EXISTS:return O.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return O.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case ke.ABORTED:return O.ABORTED;case ke.OUT_OF_RANGE:return O.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return O.UNIMPLEMENTED;case ke.DATA_LOSS:return O.DATA_LOSS;default:return Y()}}(ce=ke||(ke={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var Ob=null;function r1(){return new TextEncoder}var i1=new or([4294967295,4294967295],0);function xb(n){let e=r1().encode(n),t=new lg;return t.update(e),new Uint8Array(t.digest())}function kb(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new or([t,r],0),new or([i,s],0)]}var Kg=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Br(`Invalid padding: ${t}`);if(r<0)throw new Br(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Br(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Br(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=or.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(or.fromNumber(r)));return i.compare(i1)===1&&(i=new or([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=xb(e),[r,i]=kb(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=xb(e),[r,i]=kb(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Br=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ju=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,la.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Z.min(),i,new Pe(fe),lr(),le())}},la=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,le(),le(),le())}};var es=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Zu=class{constructor(e,t){this.targetId=e,this.me=t}},Xu=class{constructor(e,t,r=Xe.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},el=class{constructor(){this.fe=0,this.ge=Fb(),this.pe=Xe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),t=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new la(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Fb()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Qg=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=lr(),this.qe=Lb(),this.Qe=new Pe(fe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if($g(s))if(r===0){let o=new U(s.path);this.Ue(t,o,Vt.newNoDocument(o,Z.min()))}else Re(r===1);else{let o=this.Ye(t);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}Ob?.et(function(f,p,y,T,A){var R,N,k,q,j,ne;let Ee={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},W=p.unchangedNames;return W&&(Ee.bloomFilter={applied:A===0,hashCount:(R=W?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(q=(k=(N=W?.bits)===null||N===void 0?void 0:N.bitmap)===null||k===void 0?void 0:k.length)!==null&&q!==void 0?q:0,padding:(ne=(j=W?.bits)===null||j===void 0?void 0:j.padding)!==null&&ne!==void 0?ne:0,mightContain:E=>{var m;return(m=T?.mightContain(E))!==null&&m!==void 0&&m}}),Ee}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,c;try{o=cr(r).toUint8Array()}catch(u){if(u instanceof Ku)return rs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Kg(o,i,s)}catch(u){return rs(u instanceof Br?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&$g(c.target)){let u=new U(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Vt.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=le();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Ju(e,t,this.Qe,this.ke,r);return this.ke=lr(),this.qe=Lb(),this.Qe=new Pe(fe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new el,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ze(fe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new el),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Lb(){return new Pe(U.comparator)}function Fb(){return new Pe(U.comparator)}var s1={asc:"ASCENDING",desc:"DESCENDING"},o1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a1={and:"AND",or:"OR"},Yg=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Jg(n,e){return n.useProto3Json||vl(e)?e:{value:e}}function c1(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ts(n){return Re(!!n),Z.fromTimestamp(function(t){let r=Sn(t);return new St(r.seconds,r.nanos)}(n))}function l1(n,e){return Zg(n,e).canonicalString()}function Zg(n,e){let t=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function yD(n){let e=Ae.fromString(n);return Re(ED(e)),e}function yg(n,e){let t=yD(e);if(t.get(1)!==n.databaseId.projectId)throw new V(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new U(_D(t))}function vD(n,e){return l1(n.databaseId,e)}function d1(n){let e=yD(n);return e.length===4?Ae.emptyPath():_D(e)}function Vb(n){return new Ae(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _D(n){return Re(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function h1(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(Re(f===void 0||typeof f=="string"),Xe.fromBase64String(f||"")):(Re(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Xe.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let f=l.code===void 0?O.UNKNOWN:mD(l.code);return new V(f,l.message||"")}(o);t=new Xu(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=yg(n,r.document.name),s=ts(r.document.updateTime),o=r.document.createTime?ts(r.document.createTime):Z.min(),c=new Dn({mapValue:{fields:r.document.fields}}),u=Vt.newFoundDocument(i,s,o,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new es(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=yg(n,r.document),s=r.readTime?ts(r.readTime):Z.min(),o=Vt.newNoDocument(i,s),c=r.removedTargetIds||[];t=new es([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=yg(n,r.document),s=r.removedTargetIds||[];t=new es([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Gg(i,s),c=r.targetId;t=new Zu(c,o)}}return t}function f1(n,e){return{documents:[vD(n,e.path)]}}function p1(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vD(n,i);let s=function(l){if(l.length!==0)return wD(cn.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:Ji(y.field),direction:y1(y.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=Jg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function g1(n){let e=d1(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Re(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(p){let y=ID(p);return y instanceof cn&&rD(y)?y.getFilters():[y]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(y=>function(A){return new cs(Zi(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(t.orderBy));let c=null;t.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,vl(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,T=p.values||[];return new as(T,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,T=p.values||[];return new as(T,y)}(t.endAt)),jL(e,i,o,s,c,"F",u,l)}function m1(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ID(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Zi(t.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Zi(t.unaryFilter.field);return Ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Zi(t.unaryFilter.field);return Ve.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Zi(t.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(n):n.fieldFilter!==void 0?function(t){return Ve.create(Zi(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return cn.create(t.compositeFilter.filters.map(r=>ID(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(t.compositeFilter.op))}(n):Y()}function y1(n){return s1[n]}function v1(n){return o1[n]}function _1(n){return a1[n]}function Ji(n){return{fieldPath:n.canonicalString()}}function Zi(n){return Ft.fromServerFormat(n.fieldPath)}function wD(n){return n instanceof Ve?function(t){if(t.op==="=="){if(bb(t.value))return{unaryFilter:{field:Ji(t.field),op:"IS_NAN"}};if(Tb(t.value))return{unaryFilter:{field:Ji(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bb(t.value))return{unaryFilter:{field:Ji(t.field),op:"IS_NOT_NAN"}};if(Tb(t.value))return{unaryFilter:{field:Ji(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(t.field),op:v1(t.op),value:t.value}}}(n):n instanceof cn?function(t){let r=t.getFilters().map(i=>wD(i));return r.length===1?r[0]:{compositeFilter:{op:_1(t.op),filters:r}}}(n):Y()}function ED(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var da=class n{constructor(e,t,r,i,s=Z.min(),o=Z.min(),c=Xe.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Xg=class{constructor(e){this.ct=e}};function I1(n){let e=g1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hg(e,e.limit,"L"):e}var tl=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Wu(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Sn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(cr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?tD(e)?this.dt(t,Number.MAX_SAFE_INTEGER):eD(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Y()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(be(c)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),U.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};tl.vt=new tl;var em=class{constructor(){this.un=new tm}addToCollectionParentIndex(e,t){return this.un.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(qr.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},tm=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ze(Ae.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Ae.comparator)).toArray()}};var M4=new Uint8Array(0);var tn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);var ha=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var nm=class{constructor(){this.changes=new ur(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var rm=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var im=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ra(r.mutation,i,Ur.empty(),St.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){let i=jr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Zo();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=jr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,r,i){let s=lr(),o=ta(),c=function(){return ta()}();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof fs)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),ra(f.mutation,l,f.mutation.getFieldMask(),St.now())):o.set(l.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),t.forEach((l,f)=>{var p;return c.set(l,new rm(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=ta(),i=new Pe((o,c)=>o-c),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||Ur.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||le()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=lD();f.forEach(y=>{if(!s.has(y)){let T=pD(t.get(y),r.get(y));T!==null&&p.set(y,T),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return U.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):P.resolve(jr()),c=-1,u=s;return o.next(l=>P.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(f=>({batchId:c,changes:WL(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new U(t)).next(r=>{let i=Zo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Zo();return this.indexManager.getCollectionParents(e,s).next(c=>P.forEach(c,u=>{let l=function(p,y){return new us(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Vt.newInvalidDocument(f)))});let c=Zo();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&ra(f.mutation,l,Ur.empty(),St.now()),wl(t,l)&&(c=c.insert(u,l))}),c})}};var sm=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return P.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ts(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:I1(i.bundledQuery),readTime:ts(i.readTime)}}(t)),P.resolve()}};var om=class{constructor(){this.overlays=new Pe(U.comparator),this.Ir=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=jr();return P.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=jr(),s=t.length+1,o=new U(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Pe((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=jr(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=jr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return P.resolve(c)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Wg(t,r));let s=this.Ir.get(t);s===void 0&&(s=le(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var am=class{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var fa=class{constructor(){this.Tr=new Ze(Le.Er),this.dr=new Ze(Le.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Le(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Le(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new U(new Ae([])),r=new Le(t,e),i=new Le(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new U(new Ae([])),r=new Le(t,e),i=new Le(t,e+1),s=le();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Le(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Le=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return U.comparator(e.key,t.key)||fe(e.wr,t.wr)}static Ar(e,t){return fe(e.wr,t.wr)||U.comparator(e.key,t.key)}};var cm=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ze(Le.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new zg(s,t,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Le(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,t){return P.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Le(t,0),i=new Le(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(fe);return t.forEach(i=>{let s=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;U.isDocumentKey(s)||(s=s.child(""));let o=new Le(new U(s),0),c=new Ze(fe);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),P.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(t.mutations,i=>{let s=new Le(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Le(t,0),i=this.br.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var um=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(t))}getEntries(e,t){let r=lr();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Vt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=lr(),o=t.path,c=new U(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||RL(AL(f),r)<=0||(i.has(f.key)||wl(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Y()}Or(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new lm(this)}getSize(e){return P.resolve(this.size)}},lm=class extends nm{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var dm=class{constructor(e){this.persistence=e,this.Nr=new ur(t=>Ym(t),Jm),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fa,this.targetCount=0,this.kr=ha.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),P.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new ha(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Kn(t),P.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.Br.containsKey(t))}};var hm=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Xb(0),this.Kr=!1,this.Kr=!0,this.$r=new am,this.referenceDelegate=e(this),this.Ur=new dm(this),this.indexManager=new em,this.remoteDocumentCache=function(i){return new um(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Xg(t),this.Gr=new sm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new om,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new cm(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new fm(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},fm=class extends Rg{constructor(e){super(),this.currentSequenceNumber=e}},pm=class n{constructor(e){this.persistence=e,this.Jr=new fa,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=U.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Z.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return P.or([()=>P.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var gm=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=le(),i=le();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var mm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ym=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return tb()?8:PL(pt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new mm;return this.Xi(e,t,o).next(c=>{if(s.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Jo()<=oe.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",Yi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(Jo()<=oe.DEBUG&&L("QueryEngine","Query:",Yi(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Jo()<=oe.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",Yi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sn(t))):P.resolve())}Yi(e,t){if(Ab(t))return P.resolve(null);let r=sn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Hg(t,null,"F"),r=sn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=le(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,c);return this.ns(t,l,o,u.readTime)?this.Yi(e,Hg(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return Ab(t)||i.isEqual(Z.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?P.resolve(null):(Jo()<=oe.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yi(t)),this.rs(e,o,t,SL(i,-1)).next(c=>c))})}ts(e,t){let r=new Ze(cD(e));return t.forEach((i,s)=>{wl(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Jo()<=oe.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Yi(t)),this.Ji.getDocumentsMatchingQuery(e,t,qr.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var vm=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Pe(fe),this._s=new ur(s=>Ym(s),Jm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new im(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function w1(n,e,t,r){return new vm(n,e,t,r)}function TD(n,e){return I(this,null,function*(){let t=ue(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=le();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function bD(n){let e=ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function E1(n,e){let t=ue(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let c=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;c.push(t.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(s,f.addedDocuments,p)));let T=y.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(Xe.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,r)),i=i.insert(p,T),function(R,N,k){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(y,T,f)&&c.push(t.Ur.updateTargetData(s,T))});let u=lr(),l=le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(T1(s,o,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(Z.min())){let f=t.Ur.getLastRemoteSnapshotVersion(s).next(p=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return P.waitFor(c).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.os=i,s))}function T1(n,e,t){let r=le(),i=le();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=lr();return t.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(Z.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):L("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function b1(n,e){let t=ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new da(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function _m(n,e,t){return I(this,null,function*(){let r=ue(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ma(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Ub(n,e,t){let r=ue(n),i=Z.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let p=ue(u),y=p._s.get(f);return y!==void 0?P.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,o,sn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:Z.min(),t?s:le())).next(c=>(D1(r,HL(e),c),{documents:c,Ts:s})))}function D1(n,e,t){let r=n.us.get(e)||Z.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var nl=class{constructor(){this.activeTargetIds=QL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Im=class{constructor(){this.so=new nl,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nl,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var wm=class{_o(e){}shutdown(){}};var rl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bu=null;function vg(){return Bu===null?Bu=function(){return 268435456+Math.round(2147483648*Math.random())}():Bu++,"0x"+Bu.toString(16)}var C1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Em=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Je="WebChannelConnection",Tm=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let c=vg(),u=this.xo(t,r.toUriEncodedString());L("RestConnection",`Sending RPC '${t}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(t,u,l,i).then(f=>(L("RestConnection",`Received RPC '${t}' ${c}: `,f),f),f=>{throw rs("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(t,r,i,s,o,c){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ms}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=C1[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=vg();return new Promise((o,c)=>{let u=new dg;u.setWithCredentials(!0),u.listenOnce(hg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Yo.NO_ERROR:let f=u.getResponseJson();L(Je,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Yo.TIMEOUT:L(Je,`RPC '${e}' ${s} timed out`),c(new V(O.DEADLINE_EXCEEDED,"Request time out"));break;case Yo.HTTP_ERROR:let p=u.getStatus();if(L(Je,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let A=function(N){let k=N.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(k)>=0?k:O.UNKNOWN}(T.status);c(new V(A,T.message))}else c(new V(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new V(O.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{L(Je,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);L(Je,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=vg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gg(),c=pg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=s.join("");L(Je,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u),y=!1,T=!1,A=new Em({Io:N=>{T?L(Je,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(y||(L(Je,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),L(Je,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),R=(N,k,q)=>{N.listen(k,j=>{try{q(j)}catch(ne){setTimeout(()=>{throw ne},0)}})};return R(p,Qi.EventType.OPEN,()=>{T||(L(Je,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),R(p,Qi.EventType.CLOSE,()=>{T||(T=!0,L(Je,`RPC '${e}' stream ${i} transport closed`),A.So())}),R(p,Qi.EventType.ERROR,N=>{T||(T=!0,rs(Je,`RPC '${e}' stream ${i} transport errored:`,N),A.So(new V(O.UNAVAILABLE,"The operation could not be completed")))}),R(p,Qi.EventType.MESSAGE,N=>{var k;if(!T){let q=N.data[0];Re(!!q);let j=q,ne=j.error||((k=j[0])===null||k===void 0?void 0:k.error);if(ne){L(Je,`RPC '${e}' stream ${i} received error:`,ne);let Ee=ne.status,W=function(v){let w=ke[v];if(w!==void 0)return mD(w)}(Ee),E=ne.message;W===void 0&&(W=O.INTERNAL,E="Unknown error status: "+Ee+" with message "+ne.message),T=!0,A.So(new V(W,E)),p.close()}else L(Je,`RPC '${e}' stream ${i} received:`,q),A.bo(q)}}),R(c,fg.STAT_EVENT,N=>{N.stat===Uu.PROXY?L(Je,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Uu.NOPROXY&&L(Je,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function _g(){return typeof document<"u"?document:null}function DD(n){return new Yg(n,!0)}var il=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var bm=class{constructor(e,t,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new il(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(Cn(t.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new V(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Dm=class extends bm{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=h1(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?ts(o.readTime):Z.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Vb(this.serializer),t.addTarget=function(s,o){let c,u=o.target;if(c=$g(u)?{documents:f1(s,u)}:{query:p1(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=u1(s,o.resumeToken);let l=Jg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(Z.min())>0){c.readTime=c1(s,o.snapshotVersion.toTimestamp());let l=Jg(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=m1(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Vb(this.serializer),t.removeTarget=e,this.a_(t)}};var Cm=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new V(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Zg(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(O.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,Zg(t,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(O.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Sm=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Cn(t),this.D_=!1):L("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Am=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>I(this,null,function*(){va(this)&&(L("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=ue(u);l.L_.add(4),yield ya(l),l.q_.set("Unknown"),l.L_.delete(4),yield El(l)})}(this))}))}),this.q_=new Sm(r,i)}};function El(n){return I(this,null,function*(){if(va(n))for(let e of n.B_)yield e(!0)})}function ya(n){return I(this,null,function*(){for(let e of n.B_)yield e(!1)})}function CD(n,e){let t=ue(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),ny(t)?ty(t):ys(t).r_()&&ey(t,e))}function Xm(n,e){let t=ue(n),r=ys(t);t.N_.delete(e),r.r_()&&SD(t,e),t.N_.size===0&&(r.r_()?r.o_():va(t)&&t.q_.set("Unknown"))}function ey(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ys(n).A_(e)}function SD(n,e){n.Q_.xe(e),ys(n).R_(e)}function ty(n){n.Q_=new Qg({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ys(n).start(),n.q_.v_()}function ny(n){return va(n)&&!ys(n).n_()&&n.N_.size>0}function va(n){return ue(n).L_.size===0}function AD(n){n.Q_=void 0}function S1(n){return I(this,null,function*(){n.q_.set("Online")})}function A1(n){return I(this,null,function*(){n.N_.forEach((e,t)=>{ey(n,e)})})}function R1(n,e){return I(this,null,function*(){AD(n),ny(n)?(n.q_.M_(e),ty(n)):n.q_.set("Unknown")})}function N1(n,e,t){return I(this,null,function*(){if(n.q_.set("Online"),e instanceof Xu&&e.state===2&&e.cause)try{yield function(i,s){return I(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(n,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jb(n,r)}else if(e instanceof es?n.Q_.Ke(e):e instanceof Zu?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Z.min()))try{let r=yield bD(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.N_.get(l);f&&s.N_.set(l,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(Xe.EMPTY_BYTE_STRING,f.snapshotVersion)),SD(s,u);let p=new da(f.target,u,l,f.sequenceNumber);ey(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){L("RemoteStore","Failed to raise snapshot:",r),yield jb(n,r)}})}function jb(n,e,t){return I(this,null,function*(){if(!ma(e))throw e;n.L_.add(1),yield ya(n),n.q_.set("Offline"),t||(t=()=>bD(n.localStore)),n.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){L("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield El(n)}))})}function Bb(n,e){return I(this,null,function*(){let t=ue(n);t.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");let r=va(t);t.L_.add(3),yield ya(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield El(t)})}function P1(n,e){return I(this,null,function*(){let t=ue(n);e?(t.L_.delete(2),yield El(t)):e||(t.L_.add(2),yield ya(t),t.q_.set("Unknown"))})}function ys(n){return n.K_||(n.K_=function(t,r,i){let s=ue(t);return s.w_(),new Dm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:S1.bind(null,n),Ro:A1.bind(null,n),mo:R1.bind(null,n),d_:N1.bind(null,n)}),n.B_.push(e=>I(this,null,function*(){e?(n.K_.s_(),ny(n)?ty(n):n.q_.set("Unknown")):(yield n.K_.stop(),AD(n))}))),n.K_}var Rm=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,c=new n(e,t,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function RD(n,e){if(Cn("AsyncQueue",`${e}: ${n}`),ma(n))return new V(O.UNAVAILABLE,`${e}: ${n}`);throw n}var sl=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||U.comparator(t.key,r.key):(t,r)=>U.comparator(t.key,r.key),this.keyedMap=Zo(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var ol=class{constructor(){this.W_=new Pe(U.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},ps=class n{constructor(e,t,r,i,s,o,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new n(e,t,sl.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Nm=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Pm=class{constructor(){this.queries=$b(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ue(t),s=i.queries;i.queries=$b(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new V(O.ABORTED,"Firestore shutting down"))}};function $b(){return new ur(n=>aD(n),Il)}function ND(n,e){return I(this,null,function*(){let t=ue(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Nm,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let c=RD(o,`Initialization of query '${Yi(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&ry(t)})}function PD(n,e){return I(this,null,function*(){let t=ue(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function M1(n,e){let t=ue(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&ry(t)}function O1(n,e,t){let r=ue(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function ry(n){n.Y_.forEach(e=>{e.next()})}var Mm,Hb;(Hb=Mm||(Mm={})).ea="default",Hb.Cache="cache";var al=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ps(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mm.Cache}};var cl=class{constructor(e){this.key=e}},ul=class{constructor(e){this.key=e}},Om=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=cD(e),this.Ra=new sl(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new ol,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),T=wl(this.query,p)?p:null,A=!!y&&this.mutatedKeys.has(y.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations),N=!1;y&&T?y.data.isEqual(T.data)?A!==R&&(r.track({type:3,doc:T}),N=!0):this.ga(y,T)||(r.track({type:2,doc:T}),N=!0,(u&&this.Aa(T,u)>0||l&&this.Aa(T,l)<0)&&(c=!0)):!y&&T?(r.track({type:0,doc:T}),N=!0):y&&!T&&(r.track({type:1,doc:y}),N=!0,(u||l)&&(c=!0)),N&&(T?(o=o.add(T),s=R?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,p)=>function(T,A){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return R(T)-R(A)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new ps(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ol,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new ul(r))}),this.da.forEach(r=>{e.has(r)||t.push(new cl(r))}),t}ba(e){this.Ta=e.Ts,this.da=le();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ps.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},xm=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},km=class{constructor(e){this.key=e,this.va=!1}},Lm=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ur(c=>aD(c),Il),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(U.comparator),this.Na=new Map,this.La=new fa,this.Ba={},this.ka=new Map,this.qa=ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function x1(n,e,t=!0){return I(this,null,function*(){let r=LD(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield MD(r,e,t,!0),i})}function k1(n,e){return I(this,null,function*(){let t=LD(n);yield MD(t,e,!0,!1)})}function MD(n,e,t,r){return I(this,null,function*(){let i=yield b1(n.localStore,sn(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),c;return r&&(c=yield L1(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&CD(n.remoteStore,i),c})}function L1(n,e,t,r,i){return I(this,null,function*(){n.Ka=(p,y,T)=>function(R,N,k,q){return I(this,null,function*(){let j=N.view.ma(k);j.ns&&(j=yield Ub(R.localStore,N.query,!1).then(({documents:E})=>N.view.ma(E,j)));let ne=q&&q.targetChanges.get(N.targetId),Ee=q&&q.targetMismatches.get(N.targetId)!=null,W=N.view.applyChanges(j,R.isPrimaryClient,ne,Ee);return zb(R,N.targetId,W.wa),W.snapshot})}(n,p,y,T);let s=yield Ub(n.localStore,e,!0),o=new Om(e,s.Ts),c=o.ma(s.documents),u=la.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(c,n.isPrimaryClient,u);zb(n,t,l.wa);let f=new xm(e,t,o);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function F1(n,e,t){return I(this,null,function*(){let r=ue(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Il(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _m(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Xm(r.remoteStore,i.targetId),Fm(r,i.targetId)}).catch(Wm))):(Fm(r,i.targetId),yield _m(r.localStore,i.targetId,!0))})}function V1(n,e){return I(this,null,function*(){let t=ue(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Xm(t.remoteStore,r.targetId))})}function OD(n,e){return I(this,null,function*(){let t=ue(n);try{let r=yield E1(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Re(o.va):i.removedDocuments.size>0&&(Re(o.va),o.va=!1))}),yield kD(t,r,e)}catch(r){yield Wm(r)}})}function qb(n,e,t){let r=ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=ue(o);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(c)&&(l=!0)}),l&&ry(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function U1(n,e,t){return I(this,null,function*(){let r=ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Pe(U.comparator);o=o.insert(s,Vt.newNoDocument(s,Z.min()));let c=le().add(s),u=new Ju(Z.min(),new Map,new Pe(fe),o,c);yield OD(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),iy(r)}else yield _m(r.localStore,e,!1).then(()=>Fm(r,e,t)).catch(Wm)})}function Fm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||xD(n,r)})}function xD(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Xm(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),iy(n))}function zb(n,e,t){for(let r of t)r instanceof cl?(n.La.addReference(r.key,e),j1(n,r)):r instanceof ul?(L("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||xD(n,r.key)):Y()}function j1(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(L("SyncEngine","New document in limbo: "+t),n.xa.add(r),iy(n))}function iy(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new U(Ae.fromString(e)),r=n.qa.next();n.Na.set(r,new km(t)),n.Oa=n.Oa.insert(t,r),CD(n.remoteStore,new da(sn(Zm(t.path)),r,"TargetPurposeLimboResolution",Xb.oe))}}function kD(n,e,t){return I(this,null,function*(){let r=ue(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=gm.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return I(this,null,function*(){let f=ue(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,y=>P.forEach(y.$i,T=>f.persistence.referenceDelegate.addReference(p,y.targetId,T)).next(()=>P.forEach(y.Ui,T=>f.persistence.referenceDelegate.removeReference(p,y.targetId,T)))))}catch(p){if(!ma(p))throw p;L("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let T=f.os.get(y),A=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(y,R)}}})}(r.localStore,s))})}function B1(n,e){return I(this,null,function*(){let t=ue(n);if(!t.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());let r=yield TD(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new V(O.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield kD(t,r.hs)}})}function $1(n,e){let t=ue(n),r=t.Na.get(e);if(r&&r.va)return le().add(r.key);{let i=le(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let c=t.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function LD(n){let e=ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U1.bind(null,e),e.Ca.d_=M1.bind(null,e.eventManager),e.Ca.$a=O1.bind(null,e.eventManager),e}var Wb=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return I(this,null,function*(){this.serializer=DD(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return w1(this.persistence,new ym,t.initialUser,this.serializer)}Ga(t){return new hm(pm.Zr,this.serializer)}Wa(t){return new Im}terminate(){return I(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var H1=(()=>{class n{initialize(t,r){return I(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=B1.bind(null,this.syncEngine),yield P1(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Pm}()}createDatastore(t){let r=DD(t.databaseInfo.databaseId),i=function(o){return new Tm(o)}(t.databaseInfo);return function(o,c,u,l){return new Cm(o,c,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,c,u){return new Am(i,s,o,c,u)}(this.localStore,this.datastore,t.asyncQueue,r=>qb(this.syncEngine,r,0),function(){return rl.D()?new rl:new wm}())}createSyncEngine(t,r){return function(s,o,c,u,l,f,p){let y=new Lm(s,o,c,u,l,f);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var t,r;yield function(s){return I(this,null,function*(){let o=ue(s);L("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield ya(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var ll=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Vm=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=qu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>I(this,null,function*(){L("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=RD(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Ig(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield TD(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Gb(n,e){return I(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield q1(n);L("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Bb(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Bb(e.remoteStore,i)),n._onlineComponents=e})}function q1(n){return I(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ig(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;rs("Error using user provided cache. Falling back to memory cache: "+t),yield Ig(n,new Wb)}}else L("FirestoreClient","Using default OfflineComponentProvider"),yield Ig(n,new Wb);return n._offlineComponents})}function z1(n){return I(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),yield Gb(n,n._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),yield Gb(n,new H1))),n._onlineComponents})}function FD(n){return I(this,null,function*(){let e=yield z1(n),t=e.eventManager;return t.onListen=x1.bind(null,e.syncEngine),t.onUnlisten=F1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=k1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=V1.bind(null,e.syncEngine),t})}function W1(n,e,t={}){let r=new nn;return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(s,o,c,u,l){let f=new ll({next:y=>{f.Za(),o.enqueueAndForget(()=>PD(s,p));let T=y.docs.has(c);!T&&y.fromCache?l.reject(new V(O.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&y.fromCache&&u&&u.source==="server"?l.reject(new V(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new al(Zm(c.path),f,{includeMetadataChanges:!0,_a:!0});return ND(s,p)}(yield FD(n),n.asyncQueue,e,t,r)})),r.promise}function G1(n,e,t={}){let r=new nn;return n.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return function(s,o,c,u,l){let f=new ll({next:y=>{f.Za(),o.enqueueAndForget(()=>PD(s,p)),y.fromCache&&u.source==="server"?l.reject(new V(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new al(c,f,{includeMetadataChanges:!0,_a:!0});return ND(s,p)}(yield FD(n),n.asyncQueue,e,t,r)})),r.promise}function VD(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Kb=new Map;function UD(n,e,t){if(!t)throw new V(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function K1(n,e,t,r){if(e===!0&&r===!0)throw new V(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qb(n){if(!U.isDocumentKey(n))throw new V(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yb(n){if(U.isDocumentKey(n))throw new V(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Q1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Y()}function pa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Q1(n);throw new V(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var dl=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wg;switch(r.type){case"firstParty":return new Dg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=Kb.get(t);r&&(L("ComponentProvider","Removing Datastore"),Kb.delete(t),r.terminate())}(this),Promise.resolve()}};function jD(n,e,t,r={}){var i;let s=(n=pa(n,gs))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=He.MOCK_USER;else{c=YT(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new He(l)}n._authCredentials=new Eg(new Hu(c,u))}}var hl=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},on=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ar=class n extends hl{constructor(e,t,r){super(e,t,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new U(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function BD(n,e,...t){if(n=nr(n),UD("collection","path",e),n instanceof gs){let r=Ae.fromString(e,...t);return Yb(r),new ar(n,null,r)}{if(!(n instanceof on||n instanceof ar))throw new V(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ae.fromString(e,...t));return Yb(r),new ar(n.firestore,null,r)}}function $D(n,e,...t){if(n=nr(n),arguments.length===1&&(e=qu.newId()),UD("doc","path",e),n instanceof gs){let r=Ae.fromString(e,...t);return Qb(r),new on(n,null,new U(r))}{if(!(n instanceof on||n instanceof ar))throw new V(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ae.fromString(e,...t));return Qb(r),new on(n.firestore,n instanceof ar?n.converter:null,new U(r))}}var fl=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new il(this,"async_queue_retry"),this.Vu=()=>{let r=_g();r&&L("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=_g();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=_g();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new nn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return I(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ma(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Cn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=Rm.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Y()}verifyOperationInProgress(){}wu(){return I(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var ga=class extends gs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new fl,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new fl(e),this._firestoreClient=void 0,yield e}})}};function HD(n,e){let t=typeof n=="object"?n:zo(),r=typeof n=="string"?n:e||"(default)",i=sg(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=KT("firestore");s&&jD(i,...s)}return i}function qD(n){if(n._terminated)throw new V(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Y1(n),n._firestoreClient}function Y1(n){var e,t,r;let i=n._freezeSettings(),s=function(c,u,l,f){return new Ng(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,VD(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Vm(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(n._componentsProvider))}var Um=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Xe.fromBase64String(e))}catch(t){throw new V(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var pl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var jm=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}};var Bm=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var J1=new RegExp("[~\\*/\\[\\]]");function Z1(n,e,t){if(e.search(J1)>=0)throw Jb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pl(...e.split("."))._internalPath}catch{throw Jb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jb(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(O.INVALID_ARGUMENT,c+n+u)}var gl=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new $m(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(zD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},$m=class extends gl{data(){return super.data()}};function zD(n,e){return typeof e=="string"?Z1(n,e):e instanceof pl?e._internalPath:e._delegate._internalPath}function X1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hm=class{convertValue(e,t="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return _l(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>be(o.doubleValue));return new Bm(s)}convertGeoPoint(e){return new jm(be(e.latitude),be(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Km(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ia(e));default:return null}}convertTimestamp(e){let t=Sn(e);return new St(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ae.fromString(e);Re(ED(r));let i=new Qu(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(t)||Cn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};var $r=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ml=class extends gl{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ns(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(zD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ns=class extends ml{data(e={}){return super.data(e)}},qm=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $r(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ns(this._firestore,this._userDataWriter,r.key,r,new $r(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new ns(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $r(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new ns(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $r(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:eF(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function eF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function WD(n){n=pa(n,on);let e=pa(n.firestore,ga);return W1(qD(e),n._key).then(t=>tF(e,n,t))}var yl=class extends Hm{constructor(e){super(),this.firestore=e}convertBytes(e){return new Um(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,t)}};function GD(n){n=pa(n,hl);let e=pa(n.firestore,ga),t=qD(e),r=new yl(e);return X1(n._query),G1(t,n._query).then(i=>new qm(e,r,n,i))}function tF(n,e,t){let r=t.docs.get(e._key),i=new yl(n);return new ml(n,i,e._key,r,new $r(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ms=i})(Wi),sr(new Ct("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new ga(new Tg(r.getProvider("auth-internal")),new Sg(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),$e(_b,"4.7.3",e),$e(_b,"4.7.3","esm2017")})();var KD=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},nF=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},QD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|l>>6,T=l&63;u||(T=64,o||(y=64)),r.push(t[f],t[p],t[y],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(KD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new oy;let y=s<<2|c>>4;if(r.push(y),l!==64){let T=c<<4&240|l>>2;if(r.push(T),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},oy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},rF=function(n){let e=KD(n);return QD.encodeByteArray(e,!0)},cy=function(n){return rF(n).replace(/\./g,"")},uy=function(n){try{return QD.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var sF=()=>iF().__FIREBASE_DEFAULTS__,oF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&uy(n[1]);return e&&JSON.parse(e)},cF=()=>{try{return sF()||oF()||aF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};var YD=n=>{var e;return(e=cF())===null||e===void 0?void 0:e[`_${n}`]};function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function ZD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XD(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tC(){try{return typeof indexedDB=="object"}catch{return!1}}function nC(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var uF="FirebaseError",un=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=uF,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,An.prototype.create)}},An=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?lF(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new un(i,c,r)}};function lF(n,e){return n.replace(dF,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var dF=/\{\$([^}]+)}/g;function ly(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rC(n,e){let t=new ay(n,e);return t.subscribe.bind(t)}var ay=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");hF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=sy),i.error===void 0&&(i.error=sy),i.complete===void 0&&(i.complete=sy);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function hF(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sy(){}var F4=4*60*60*1e3;function vs(n){return n&&n._delegate?n._delegate:n}var Rn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fF=[],we=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(we||{}),pF={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},gF=we.INFO,mF={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},yF=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=mF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_s=class{constructor(e){this.name=e,this._logLevel=gF,this._logHandler=yF,this._userLogHandler=null,fF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var hy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_F(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function _F(n){let e=n.getComponent();return e?.type==="VERSION"}var fy="@firebase/app",iC="0.10.18";var Nn=new _s("@firebase/app"),IF="@firebase/app-compat",wF="@firebase/analytics-compat",EF="@firebase/analytics",TF="@firebase/app-check-compat",bF="@firebase/app-check",DF="@firebase/auth",CF="@firebase/auth-compat",SF="@firebase/database",AF="@firebase/data-connect",RF="@firebase/database-compat",NF="@firebase/functions",PF="@firebase/functions-compat",MF="@firebase/installations",OF="@firebase/installations-compat",xF="@firebase/messaging",kF="@firebase/messaging-compat",LF="@firebase/performance",FF="@firebase/performance-compat",VF="@firebase/remote-config",UF="@firebase/remote-config-compat",jF="@firebase/storage",BF="@firebase/storage-compat",$F="@firebase/firestore",HF="@firebase/vertexai",qF="@firebase/firestore-compat",zF="firebase",WF="11.2.0";var GF={[fy]:"fire-core",[IF]:"fire-core-compat",[EF]:"fire-analytics",[wF]:"fire-analytics-compat",[bF]:"fire-app-check",[TF]:"fire-app-check-compat",[DF]:"fire-auth",[CF]:"fire-auth-compat",[SF]:"fire-rtdb",[AF]:"fire-data-connect",[RF]:"fire-rtdb-compat",[NF]:"fire-fn",[PF]:"fire-fn-compat",[MF]:"fire-iid",[OF]:"fire-iid-compat",[xF]:"fire-fcm",[kF]:"fire-fcm-compat",[LF]:"fire-perf",[FF]:"fire-perf-compat",[VF]:"fire-rc",[UF]:"fire-rc-compat",[jF]:"fire-gcs",[BF]:"fire-gcs-compat",[$F]:"fire-fst",[qF]:"fire-fst-compat",[HF]:"fire-vertex","fire-js":"fire-js",[zF]:"fire-js-all"};var KF=new Map,QF=new Map,sC=new Map;function oC(n,e){try{n.container.addComponent(e)}catch(t){Nn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ws(n){let e=n.name;if(sC.has(e))return Nn.debug(`There were multiple attempts to register component ${e}.`),!1;sC.set(e,n);for(let t of KF.values())oC(t,n);for(let t of QF.values())oC(t,n);return!0}function Es(n){return n.settings!==void 0}var YF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},my=new An("app","Firebase",YF);var Tl=WF;function Is(n,e,t){var r;let i=(r=GF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nn.warn(c.join(" "));return}ws(new Rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var JF="firebase-heartbeat-database",ZF=1,_a="firebase-heartbeat-store",dy=null;function lC(){return dy||(dy=xu(JF,ZF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_a)}catch(t){console.warn(t)}}}}).catch(n=>{throw my.create("idb-open",{originalErrorMessage:n.message})})),dy}function XF(n){return I(this,null,function*(){try{let t=(yield lC()).transaction(_a),r=yield t.objectStore(_a).get(dC(n));return yield t.done,r}catch(e){if(e instanceof un)Nn.warn(e.message);else{let t=my.create("idb-get",{originalErrorMessage:e?.message});Nn.warn(t.message)}}})}function aC(n,e){return I(this,null,function*(){try{let r=(yield lC()).transaction(_a,"readwrite");yield r.objectStore(_a).put(e,dC(n)),yield r.done}catch(t){if(t instanceof un)Nn.warn(t.message);else{let r=my.create("idb-set",{originalErrorMessage:t?.message});Nn.warn(r.message)}}})}function dC(n){return`${n.name}!${n.options.appId}`}var eV=1024,tV=30*24*60*60*1e3,py=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new gy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=tV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Nn.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=cC(),{heartbeatsToSend:r,unsentEntries:i}=nV(this._heartbeatsCache.heartbeats),s=cy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Nn.warn(t),""}})}};function cC(){return new Date().toISOString().substring(0,10)}function nV(n,e=eV){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),uC(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),uC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var gy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return tC()?nC().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield XF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return aC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return aC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function uC(n){return cy(JSON.stringify({version:2,heartbeats:n})).length}function rV(n){ws(new Rn("platform-logger",e=>new hy(e),"PRIVATE")),ws(new Rn("heartbeat",e=>new py(e),"PRIVATE")),Is(fy,iC,n),Is(fy,iC,"esm2017"),Is("fire-js","")}rV("");function _C(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var IC=_C,wC=new An("auth","Firebase",_C());var Sl=new _s("@firebase/auth");function iV(n,...e){Sl.logLevel<=we.WARN&&Sl.warn(`Auth (${Tl}): ${n}`,...e)}function Dl(n,...e){Sl.logLevel<=we.ERROR&&Sl.error(`Auth (${Tl}): ${n}`,...e)}function hC(n,...e){throw Ay(n,...e)}function Sy(n,...e){return Ay(n,...e)}function EC(n,e,t){let r=Object.assign(Object.assign({},IC()),{[e]:t});return new An("auth","Firebase",r).create(e,{appName:n.name})}function Cl(n){return EC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ay(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return wC.create(n,...e)}function pe(n,e,...t){if(!n)throw Ay(e,...t)}function Ia(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Dl(e),new Error(e)}function Al(n,e){n||Ia(e)}function sV(){return fC()==="http:"||fC()==="https:"}function fC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function oV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sV()||XD()||"connection"in navigator)?navigator.onLine:!0}function aV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Gr=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Al(t>e,"Short delay should be less than long delay!"),this.isMobile=JD()||eC()}get(){return oV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function cV(n,e){Al(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Rl=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ia("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ia("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ia("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var uV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lV=new Gr(3e4,6e4);function TC(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ol(s,o,c,u){return I(this,arguments,function*(n,e,t,r,i={}){return bC(n,i,()=>I(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=ly(Object.assign({key:n.config.apiKey},f)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let T=Object.assign({method:e,headers:y},l);return ZD()||(T.referrerPolicy="no-referrer"),Rl.fetch()(DC(n,n.config.apiHost,t,p),T)}))})}function bC(n,e,t){return I(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},uV),e);try{let i=new _y(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw bl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bl(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw bl(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw bl(n,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw EC(n,f,l);hC(n,f)}}catch(i){if(i instanceof un)throw i;hC(n,"network-request-failed",{message:String(i)})}})}function DC(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?cV(n.config,i):`${n.config.apiScheme}://${i}`}var _y=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Sy(this.auth,"network-request-failed")),lV.get())})}};function bl(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Sy(n,e,r);return i.customData._tokenResponse=t,i}function dV(n,e){return I(this,null,function*(){return Ol(n,"POST","/v1/accounts:delete",e)})}function CC(n,e){return I(this,null,function*(){return Ol(n,"POST","/v1/accounts:lookup",e)})}function wa(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function SC(n,e=!1){return I(this,null,function*(){let t=vs(n),r=yield t.getIdToken(e),i=AC(r);pe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wa(yy(i.auth_time)),issuedAtTime:wa(yy(i.iat)),expirationTime:wa(yy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function yy(n){return Number(n)*1e3}function AC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Dl("JWT malformed, contained fewer than 3 sections"),null;try{let i=uy(t);return i?JSON.parse(i):(Dl("Failed to decode base64 JWT payload"),null)}catch(i){return Dl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pC(n){let e=AC(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Iy(n,e,t=!1){return I(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof un&&hV(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function hV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var wy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),t)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ta=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nl(n){return I(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Iy(n,CC(t,{idToken:r}));pe(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NC(s.providerUserInfo):[],c=fV(n.providerData,o),u=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!c?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ta(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function RC(n){return I(this,null,function*(){let e=vs(n);yield Nl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function fV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NC(n){return n.map(e=>{var{providerId:t}=e,r=li(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function pV(n,e){return I(this,null,function*(){let t=yield bC(n,{},()=>I(this,null,function*(){let r=ly({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=DC(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Rl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function gV(n,e){return I(this,null,function*(){return Ol(n,"POST","/v2/accounts:revokeToken",TC(n,e))})}var Ea=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");let t=pC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return I(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield pV(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ia("not implemented")}};function dr(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ba=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=li(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ta(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let t=yield Iy(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return SC(this,e)}reload(){return RC(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Nl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Es(this.auth.app))return Promise.reject(Cl(this.auth));let e=yield this.getIdToken();return yield Iy(this,dV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=t.photoURL)!==null&&o!==void 0?o:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,q=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:j,emailVerified:ne,isAnonymous:Ee,providerData:W,stsTokenManager:E}=t;pe(j&&E,e,"internal-error");let m=Ea.fromJSON(this.name,E);pe(typeof j=="string",e,"internal-error"),dr(p,e.name),dr(y,e.name),pe(typeof ne=="boolean",e,"internal-error"),pe(typeof Ee=="boolean",e,"internal-error"),dr(T,e.name),dr(A,e.name),dr(R,e.name),dr(N,e.name),dr(k,e.name),dr(q,e.name);let v=new n({uid:j,auth:e,email:y,emailVerified:ne,displayName:p,isAnonymous:Ee,photoURL:A,phoneNumber:T,tenantId:R,stsTokenManager:m,createdAt:k,lastLoginAt:q});return W&&Array.isArray(W)&&(v.providerData=W.map(w=>Object.assign({},w))),N&&(v._redirectEventId=N),v}static _fromIdTokenResponse(e,t,r=!1){return I(this,null,function*(){let i=new Ea;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nl(s),s})}static _fromGetAccountInfoResponse(e,t,r){return I(this,null,function*(){let i=t.users[0];pe(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?NC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Ea;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ta(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var gC=new Map;function Wr(n){Al(n instanceof Function,"Expected a class definition");let e=gC.get(n);return e?(Al(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gC.set(n,e),e)}var mV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(t,r){return I(this,null,function*(){this.storage[t]=r})}_get(t){return I(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return I(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Ey=mV;function vy(n,e,t){return`firebase:${n}:${e}:${t}`}var Pl=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=vy(this.userKey,i.apiKey,s),this.fullPersistenceKey=vy("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ba._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return I(this,null,function*(){if(!t.length)return new n(Wr(Ey),e,r);let i=(yield Promise.all(t.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Wr(Ey),o=vy(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(o);if(f){let p=ba._fromJSON(e,f);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(l=>I(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function mC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EV(e))return"Blackberry";if(TV(e))return"Webos";if(vV(e))return"Safari";if((e.includes("chrome/")||_V(e))&&!e.includes("edge/"))return"Chrome";if(wV(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function yV(n=Ut()){return/firefox\//i.test(n)}function vV(n=Ut()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _V(n=Ut()){return/crios\//i.test(n)}function IV(n=Ut()){return/iemobile/i.test(n)}function wV(n=Ut()){return/android/i.test(n)}function EV(n=Ut()){return/blackberry/i.test(n)}function TV(n=Ut()){return/webos/i.test(n)}function PC(n,e=[]){let t;switch(n){case"Browser":t=mC(Ut());break;case"Worker":t=`${mC(Ut())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Tl}/${r}`}var Ty=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function bV(t){return I(this,arguments,function*(n,e={}){return Ol(n,"GET","/v2/passwordPolicy",TC(n,e))})}var DV=6,by=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:DV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Dy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ml(this),this.idTokenSubscription=new Ml(this),this.beforeStateQueue=new Ty(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Wr(t)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Pl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let t=yield CC(this,{idToken:e}),r=yield ba._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var t;if(Es(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Nl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=aV()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Es(this.app))return Promise.reject(Cl(this));let t=e?vs(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return I(this,null,function*(){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Es(this.app)?Promise.reject(Cl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Es(this.app)?Promise.reject(Cl(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Wr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield bV(this),t=new by(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new An("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield gV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Wr(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=yield Pl.create(this,[Wr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return I(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&iV(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function CV(n){return vs(n)}var Ml=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=rC(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var SV={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AV(n){SV=n}function RV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function NV(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Wr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ry(n,e,t,r){return vs(n).onAuthStateChanged(e,t,r)}var g6=RV("rcb"),m6=new Gr(3e4,6e4);var y6=new Gr(2e3,1e4);var v6=10*60*1e3;var _6=new Gr(3e4,6e4);var I6=new Gr(5e3,15e3);var w6=encodeURIComponent("fac");var yC="@firebase/auth",vC="1.8.2";var Cy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function PV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MV(n){ws(new Rn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PC(n)},l=new Dy(r,i,s,u);return NV(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ws(new Rn("auth-internal",e=>{let t=CV(e.getProvider("auth").getImmediate());return(r=>new Cy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Is(yC,vC,PV(n)),Is(yC,vC,"esm2017")}var OV=5*60,E6=YD("authIdTokenMaxAge")||OV;function xV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}AV({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Sy("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",xV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MV("Browser");function MC(n){return new se(function(e){var t=Ry(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function jC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BC=jC,$C=new En("auth","Firebase",jC());var Fl=new rr("@firebase/auth");function FV(n,...e){Fl.logLevel<=oe.WARN&&Fl.warn(`Auth (${Wi}): ${n}`,...e)}function kl(n,...e){Fl.logLevel<=oe.ERROR&&Fl.error(`Auth (${Wi}): ${n}`,...e)}function OC(n,...e){throw By(n,...e)}function jy(n,...e){return By(n,...e)}function HC(n,e,t){let r=Object.assign(Object.assign({},BC()),{[e]:t});return new En("auth","Firebase",r).create(e,{appName:n.name})}function Ll(n){return HC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function By(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $C.create(n,...e)}function ge(n,e,...t){if(!n)throw By(e,...t)}function Da(n){let e="INTERNAL ASSERTION FAILED: "+n;throw kl(e),new Error(e)}function Vl(n,e){n||Da(e)}function VV(){return xC()==="http:"||xC()==="https:"}function xC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function UV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VV()||XT()||"connection"in navigator)?navigator.onLine:!0}function jV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Qr=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vl(t>e,"Short delay should be less than long delay!"),this.isMobile=JT()||eb()}get(){return UV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function BV(n,e){Vl(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ul=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $V={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var HV=new Qr(3e4,6e4);function qC(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Hl(s,o,c,u){return I(this,arguments,function*(n,e,t,r,i={}){return zC(n,i,()=>I(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=qp(Object.assign({key:n.config.apiKey},f)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let T=Object.assign({method:e,headers:y},l);return ZT()||(T.referrerPolicy="no-referrer"),Ul.fetch()(WC(n,n.config.apiHost,t,p),T)}))})}function zC(n,e,t){return I(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},$V),e);try{let i=new My(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw xl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xl(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw xl(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw xl(n,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw HC(n,f,l);OC(n,f)}}catch(i){if(i instanceof Dt)throw i;OC(n,"network-request-failed",{message:String(i)})}})}function WC(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?BV(n.config,i):`${n.config.apiScheme}://${i}`}var My=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(jy(this.auth,"network-request-failed")),HV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function xl(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=jy(n,e,r);return i.customData._tokenResponse=t,i}function qV(n,e){return I(this,null,function*(){return Hl(n,"POST","/v1/accounts:delete",e)})}function GC(n,e){return I(this,null,function*(){return Hl(n,"POST","/v1/accounts:lookup",e)})}function Ca(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $y(n,e=!1){return I(this,null,function*(){let t=nr(n),r=yield t.getIdToken(e),i=KC(r);ge(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ca(Ny(i.auth_time)),issuedAtTime:Ca(Ny(i.iat)),expirationTime:Ca(Ny(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Ny(n){return Number(n)*1e3}function KC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return kl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Bp(t);return i?JSON.parse(i):(kl("Failed to decode base64 JWT payload"),null)}catch(i){return kl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function kC(n){let e=KC(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Oy(n,e,t=!1){return I(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Dt&&zV(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function zV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var xy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),t)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Aa=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ca(this.lastLoginAt),this.creationTime=Ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function jl(n){return I(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Oy(n,GC(t,{idToken:r}));ge(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?QC(s.providerUserInfo):[],c=WV(n.providerData,o),u=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!c?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Aa(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function Hy(n){return I(this,null,function*(){let e=nr(n);yield jl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function WV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QC(n){return n.map(e=>{var{providerId:t}=e,r=li(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function GV(n,e){return I(this,null,function*(){let t=yield zC(n,{},()=>I(this,null,function*(){let r=qp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=WC(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ul.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function KV(n,e){return I(this,null,function*(){return Hl(n,"POST","/v2/accounts:revokeToken",qC(n,e))})}var Sa=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");let t=kC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return I(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield GV(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Da("not implemented")}};function hr(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ra=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=li(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Aa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let t=yield Oy(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return $y(this,e)}reload(){return Hy(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield jl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(zi(this.auth.app))return Promise.reject(Ll(this.auth));let e=yield this.getIdToken();return yield Oy(this,qV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=t.photoURL)!==null&&o!==void 0?o:void 0,R=(c=t.tenantId)!==null&&c!==void 0?c:void 0,N=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,q=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:j,emailVerified:ne,isAnonymous:Ee,providerData:W,stsTokenManager:E}=t;ge(j&&E,e,"internal-error");let m=Sa.fromJSON(this.name,E);ge(typeof j=="string",e,"internal-error"),hr(p,e.name),hr(y,e.name),ge(typeof ne=="boolean",e,"internal-error"),ge(typeof Ee=="boolean",e,"internal-error"),hr(T,e.name),hr(A,e.name),hr(R,e.name),hr(N,e.name),hr(k,e.name),hr(q,e.name);let v=new n({uid:j,auth:e,email:y,emailVerified:ne,displayName:p,isAnonymous:Ee,photoURL:A,phoneNumber:T,tenantId:R,stsTokenManager:m,createdAt:k,lastLoginAt:q});return W&&Array.isArray(W)&&(v.providerData=W.map(w=>Object.assign({},w))),N&&(v._redirectEventId=N),v}static _fromIdTokenResponse(e,t,r=!1){return I(this,null,function*(){let i=new Sa;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jl(s),s})}static _fromGetAccountInfoResponse(e,t,r){return I(this,null,function*(){let i=t.users[0];ge(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?QC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new Sa;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Aa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var LC=new Map;function Kr(n){Vl(n instanceof Function,"Expected a class definition");let e=LC.get(n);return e?(Vl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LC.set(n,e),e)}var QV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(t,r){return I(this,null,function*(){this.storage[t]=r})}_get(t){return I(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return I(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),ky=QV;function Py(n,e,t){return`firebase:${n}:${e}:${t}`}var Bl=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Py(this.userKey,i.apiKey,s),this.fullPersistenceKey=Py("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ra._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return I(this,null,function*(){if(!t.length)return new n(Kr(ky),e,r);let i=(yield Promise.all(t.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Kr(ky),o=Py(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(o);if(f){let p=Ra._fromJSON(e,f);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(l=>I(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function FC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tU(e))return"Blackberry";if(nU(e))return"Webos";if(JV(e))return"Safari";if((e.includes("chrome/")||ZV(e))&&!e.includes("edge/"))return"Chrome";if(eU(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function YV(n=pt()){return/firefox\//i.test(n)}function JV(n=pt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZV(n=pt()){return/crios\//i.test(n)}function XV(n=pt()){return/iemobile/i.test(n)}function eU(n=pt()){return/android/i.test(n)}function tU(n=pt()){return/blackberry/i.test(n)}function nU(n=pt()){return/webos/i.test(n)}function YC(n,e=[]){let t;switch(n){case"Browser":t=FC(pt());break;case"Worker":t=`${FC(pt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wi}/${r}`}var Ly=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function rU(t){return I(this,arguments,function*(n,e={}){return Hl(n,"GET","/v2/passwordPolicy",qC(n,e))})}var iU=6,Fy=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:iU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Vy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $l(this),this.idTokenSubscription=new $l(this),this.beforeStateQueue=new Ly(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$C,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kr(t)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Bl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let t=yield GC(this,{idToken:e}),r=yield Ra._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var t;if(zi(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield jl(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=jV()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(zi(this.app))return Promise.reject(Ll(this));let t=e?nr(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return I(this,null,function*(){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return zi(this.app)?Promise.reject(Ll(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return zi(this.app)?Promise.reject(Ll(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Kr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield rU(this),t=new Fy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new En("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield KV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Kr(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=yield Bl.create(this,[Kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return I(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&FV(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function sU(n){return nr(n)}var $l=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=rb(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var oU={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aU(n){oU=n}function cU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function uU(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Kr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var p9=cU("rcb"),g9=new Qr(3e4,6e4);var m9=new Qr(2e3,1e4);var y9=10*60*1e3;var v9=new Qr(3e4,6e4);var _9=new Qr(5e3,15e3);var I9=encodeURIComponent("fac");var VC="@firebase/auth",UC="1.7.9";var Uy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dU(n){sr(new Ct("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YC(n)},l=new Vy(r,i,s,u);return uU(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),sr(new Ct("auth-internal",e=>{let t=sU(e.getProvider("auth").getImmediate());return(r=>new Uy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(VC,UC,lU(n)),$e(VC,UC,"esm2017")}var hU=5*60,w9=QT("authIdTokenMaxAge")||hU;function fU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}aU({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=jy("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",fU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dU("Browser");var hj="auth",JC=class{constructor(e){return e}},ql=class{constructor(){return Go(hj)}};var h5=en(MC,!0);var Na=class{constructor(e){return e}},ZC="firestore",qy=class{constructor(){return Go(ZC)}};var zy=new Q("angularfire2.firestore-instances");function fj(n,e){let t=cg(ZC,n,e);return t&&new Na(t)}function pj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Na(r)}}var gj={provide:qy,deps:[[new It,zy]]},mj={provide:Na,useFactory:fj,deps:[[new It,zy],Vr]};function M8(n,...e){return $e("angularfire",Ki.full,"fst"),Kn([mj,gj,{provide:zy,useFactory:pj(n),multi:!0,deps:[ye,Tt,Ko,Qo,[new It,ql],[new It,Wo],...e]}])}var O8=en(BD,!0);var x8=en($D,!0);var k8=en(WD,!0);var L8=en(GD,!0);var F8=en(HD,!0);export{F as a,Se as b,I as c,B as d,ae as e,Oe as f,gt as g,cA as h,dA as i,hA as j,kd as k,mt as l,$ as m,oo as n,Q as o,G as p,x as q,It as r,PI as s,co as t,Kn as u,Kz as v,Qz as w,Tt as x,wR as y,Yz as z,xe as A,Xc as B,ye as C,DP as D,Mf as E,kP as F,LP as G,vE as H,_E as I,Of as J,eW as K,xf as L,tW as M,XP as N,nW as O,tM as P,bE as Q,nM as R,DE as S,rW as T,iu as U,RW as V,NW as W,PW as X,AM as Y,nG as Z,ZE as _,vp as $,er as aa,CO as ba,PO as ca,Zt as da,sT as ea,IG as fa,wG as ga,EG as ha,XT as ia,Hp as ja,nb as ka,DG as la,Dt as ma,En as na,qi as oa,CG as pa,nr as qa,Ct as ra,rr as sa,xu as ta,sr as ua,sg as va,zo as wa,$e as xa,Ki as ya,n4 as za,cg as Aa,Go as Ba,Ko as Ca,en as Da,Vr as Ea,Qo as Fa,f4 as Ga,p4 as Ha,JC as Ia,h5 as Ja,St as Ka,Na as La,M8 as Ma,O8 as Na,x8 as Oa,k8 as Pa,L8 as Qa,F8 as Ra};
